(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))s(o);new MutationObserver(o=>{for(const u of o)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(o){const u={};return o.integrity&&(u.integrity=o.integrity),o.referrerPolicy&&(u.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?u.credentials="include":o.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(o){if(o.ep)return;o.ep=!0;const u=n(o);fetch(o.href,u)}})();function Qh(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var Am={exports:{}},Gl={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var G_;function Ow(){if(G_)return Gl;G_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function n(s,o,u){var h=null;if(u!==void 0&&(h=""+u),o.key!==void 0&&(h=""+o.key),"key"in o){u={};for(var m in o)m!=="key"&&(u[m]=o[m])}else u=o;return o=u.ref,{$$typeof:i,type:s,key:h,ref:o!==void 0?o:null,props:u}}return Gl.Fragment=e,Gl.jsx=n,Gl.jsxs=n,Gl}var $_;function Mw(){return $_||($_=1,Am.exports=Ow()),Am.exports}var A=Mw(),bm={exports:{}},Ce={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function Vw(){if(K_)return Ce;K_=1;var i=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.consumer"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),b=Symbol.iterator;function T(L){return L===null||typeof L!="object"?null:(L=b&&L[b]||L["@@iterator"],typeof L=="function"?L:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,N={};function I(L,ne,ue){this.props=L,this.context=ne,this.refs=N,this.updater=ue||w}I.prototype.isReactComponent={},I.prototype.setState=function(L,ne){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,ne,"setState")},I.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function O(){}O.prototype=I.prototype;function k(L,ne,ue){this.props=L,this.context=ne,this.refs=N,this.updater=ue||w}var Y=k.prototype=new O;Y.constructor=k,C(Y,I.prototype),Y.isPureReactComponent=!0;var ae=Array.isArray,oe={H:null,A:null,T:null,S:null,V:null},fe=Object.prototype.hasOwnProperty;function U(L,ne,ue,re,ye,De){return ue=De.ref,{$$typeof:i,type:L,key:ne,ref:ue!==void 0?ue:null,props:De}}function D(L,ne){return U(L.type,ne,void 0,void 0,void 0,L.props)}function M(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function j(L){var ne={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(ue){return ne[ue]})}var B=/\/+/g;function q(L,ne){return typeof L=="object"&&L!==null&&L.key!=null?j(""+L.key):ne.toString(36)}function P(){}function Bt(L){switch(L.status){case"fulfilled":return L.value;case"rejected":throw L.reason;default:switch(typeof L.status=="string"?L.then(P,P):(L.status="pending",L.then(function(ne){L.status==="pending"&&(L.status="fulfilled",L.value=ne)},function(ne){L.status==="pending"&&(L.status="rejected",L.reason=ne)})),L.status){case"fulfilled":return L.value;case"rejected":throw L.reason}}throw L}function ht(L,ne,ue,re,ye){var De=typeof L;(De==="undefined"||De==="boolean")&&(L=null);var be=!1;if(L===null)be=!0;else switch(De){case"bigint":case"string":case"number":be=!0;break;case"object":switch(L.$$typeof){case i:case e:be=!0;break;case E:return be=L._init,ht(be(L._payload),ne,ue,re,ye)}}if(be)return ye=ye(L),be=re===""?"."+q(L,0):re,ae(ye)?(ue="",be!=null&&(ue=be.replace(B,"$&/")+"/"),ht(ye,ne,ue,"",function(ni){return ni})):ye!=null&&(M(ye)&&(ye=D(ye,ue+(ye.key==null||L&&L.key===ye.key?"":(""+ye.key).replace(B,"$&/")+"/")+be)),ne.push(ye)),1;be=0;var Vt=re===""?".":re+":";if(ae(L))for(var nt=0;nt<L.length;nt++)re=L[nt],De=Vt+q(re,nt),be+=ht(re,ne,ue,De,ye);else if(nt=T(L),typeof nt=="function")for(L=nt.call(L),nt=0;!(re=L.next()).done;)re=re.value,De=Vt+q(re,nt++),be+=ht(re,ne,ue,De,ye);else if(De==="object"){if(typeof L.then=="function")return ht(Bt(L),ne,ue,re,ye);throw ne=String(L),Error("Objects are not valid as a React child (found: "+(ne==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":ne)+"). If you meant to render a collection of children, use an array instead.")}return be}function W(L,ne,ue){if(L==null)return L;var re=[],ye=0;return ht(L,re,"","",function(De){return ne.call(ue,De,ye++)}),re}function le(L){if(L._status===-1){var ne=L._result;ne=ne(),ne.then(function(ue){(L._status===0||L._status===-1)&&(L._status=1,L._result=ue)},function(ue){(L._status===0||L._status===-1)&&(L._status=2,L._result=ue)}),L._status===-1&&(L._status=0,L._result=ne)}if(L._status===1)return L._result.default;throw L._result}var ge=typeof reportError=="function"?reportError:function(L){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ne=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof L=="object"&&L!==null&&typeof L.message=="string"?String(L.message):String(L),error:L});if(!window.dispatchEvent(ne))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",L);return}console.error(L)};function He(){}return Ce.Children={map:W,forEach:function(L,ne,ue){W(L,function(){ne.apply(this,arguments)},ue)},count:function(L){var ne=0;return W(L,function(){ne++}),ne},toArray:function(L){return W(L,function(ne){return ne})||[]},only:function(L){if(!M(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ce.Component=I,Ce.Fragment=n,Ce.Profiler=o,Ce.PureComponent=k,Ce.StrictMode=s,Ce.Suspense=p,Ce.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=oe,Ce.__COMPILER_RUNTIME={__proto__:null,c:function(L){return oe.H.useMemoCache(L)}},Ce.cache=function(L){return function(){return L.apply(null,arguments)}},Ce.cloneElement=function(L,ne,ue){if(L==null)throw Error("The argument must be a React element, but you passed "+L+".");var re=C({},L.props),ye=L.key,De=void 0;if(ne!=null)for(be in ne.ref!==void 0&&(De=void 0),ne.key!==void 0&&(ye=""+ne.key),ne)!fe.call(ne,be)||be==="key"||be==="__self"||be==="__source"||be==="ref"&&ne.ref===void 0||(re[be]=ne[be]);var be=arguments.length-2;if(be===1)re.children=ue;else if(1<be){for(var Vt=Array(be),nt=0;nt<be;nt++)Vt[nt]=arguments[nt+2];re.children=Vt}return U(L.type,ye,void 0,void 0,De,re)},Ce.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null},L.Provider=L,L.Consumer={$$typeof:u,_context:L},L},Ce.createElement=function(L,ne,ue){var re,ye={},De=null;if(ne!=null)for(re in ne.key!==void 0&&(De=""+ne.key),ne)fe.call(ne,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(ye[re]=ne[re]);var be=arguments.length-2;if(be===1)ye.children=ue;else if(1<be){for(var Vt=Array(be),nt=0;nt<be;nt++)Vt[nt]=arguments[nt+2];ye.children=Vt}if(L&&L.defaultProps)for(re in be=L.defaultProps,be)ye[re]===void 0&&(ye[re]=be[re]);return U(L,De,void 0,void 0,null,ye)},Ce.createRef=function(){return{current:null}},Ce.forwardRef=function(L){return{$$typeof:m,render:L}},Ce.isValidElement=M,Ce.lazy=function(L){return{$$typeof:E,_payload:{_status:-1,_result:L},_init:le}},Ce.memo=function(L,ne){return{$$typeof:g,type:L,compare:ne===void 0?null:ne}},Ce.startTransition=function(L){var ne=oe.T,ue={};oe.T=ue;try{var re=L(),ye=oe.S;ye!==null&&ye(ue,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(He,ge)}catch(De){ge(De)}finally{oe.T=ne}},Ce.unstable_useCacheRefresh=function(){return oe.H.useCacheRefresh()},Ce.use=function(L){return oe.H.use(L)},Ce.useActionState=function(L,ne,ue){return oe.H.useActionState(L,ne,ue)},Ce.useCallback=function(L,ne){return oe.H.useCallback(L,ne)},Ce.useContext=function(L){return oe.H.useContext(L)},Ce.useDebugValue=function(){},Ce.useDeferredValue=function(L,ne){return oe.H.useDeferredValue(L,ne)},Ce.useEffect=function(L,ne,ue){var re=oe.H;if(typeof ue=="function")throw Error("useEffect CRUD overload is not enabled in this build of React.");return re.useEffect(L,ne)},Ce.useId=function(){return oe.H.useId()},Ce.useImperativeHandle=function(L,ne,ue){return oe.H.useImperativeHandle(L,ne,ue)},Ce.useInsertionEffect=function(L,ne){return oe.H.useInsertionEffect(L,ne)},Ce.useLayoutEffect=function(L,ne){return oe.H.useLayoutEffect(L,ne)},Ce.useMemo=function(L,ne){return oe.H.useMemo(L,ne)},Ce.useOptimistic=function(L,ne){return oe.H.useOptimistic(L,ne)},Ce.useReducer=function(L,ne,ue){return oe.H.useReducer(L,ne,ue)},Ce.useRef=function(L){return oe.H.useRef(L)},Ce.useState=function(L){return oe.H.useState(L)},Ce.useSyncExternalStore=function(L,ne,ue){return oe.H.useSyncExternalStore(L,ne,ue)},Ce.useTransition=function(){return oe.H.useTransition()},Ce.version="19.1.0",Ce}var Q_;function Cp(){return Q_||(Q_=1,bm.exports=Vw()),bm.exports}var x=Cp();const ia=Qh(x);var wm={exports:{}},$l={},Rm={exports:{}},Cm={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y_;function Pw(){return Y_||(Y_=1,function(i){function e(W,le){var ge=W.length;W.push(le);e:for(;0<ge;){var He=ge-1>>>1,L=W[He];if(0<o(L,le))W[He]=le,W[ge]=L,ge=He;else break e}}function n(W){return W.length===0?null:W[0]}function s(W){if(W.length===0)return null;var le=W[0],ge=W.pop();if(ge!==le){W[0]=ge;e:for(var He=0,L=W.length,ne=L>>>1;He<ne;){var ue=2*(He+1)-1,re=W[ue],ye=ue+1,De=W[ye];if(0>o(re,ge))ye<L&&0>o(De,re)?(W[He]=De,W[ye]=ge,He=ye):(W[He]=re,W[ue]=ge,He=ue);else if(ye<L&&0>o(De,ge))W[He]=De,W[ye]=ge,He=ye;else break e}}return le}function o(W,le){var ge=W.sortIndex-le.sortIndex;return ge!==0?ge:W.id-le.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var p=[],g=[],E=1,b=null,T=3,w=!1,C=!1,N=!1,I=!1,O=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;function ae(W){for(var le=n(g);le!==null;){if(le.callback===null)s(g);else if(le.startTime<=W)s(g),le.sortIndex=le.expirationTime,e(p,le);else break;le=n(g)}}function oe(W){if(N=!1,ae(W),!C)if(n(p)!==null)C=!0,fe||(fe=!0,q());else{var le=n(g);le!==null&&ht(oe,le.startTime-W)}}var fe=!1,U=-1,D=5,M=-1;function j(){return I?!0:!(i.unstable_now()-M<D)}function B(){if(I=!1,fe){var W=i.unstable_now();M=W;var le=!0;try{e:{C=!1,N&&(N=!1,k(U),U=-1),w=!0;var ge=T;try{t:{for(ae(W),b=n(p);b!==null&&!(b.expirationTime>W&&j());){var He=b.callback;if(typeof He=="function"){b.callback=null,T=b.priorityLevel;var L=He(b.expirationTime<=W);if(W=i.unstable_now(),typeof L=="function"){b.callback=L,ae(W),le=!0;break t}b===n(p)&&s(p),ae(W)}else s(p);b=n(p)}if(b!==null)le=!0;else{var ne=n(g);ne!==null&&ht(oe,ne.startTime-W),le=!1}}break e}finally{b=null,T=ge,w=!1}le=void 0}}finally{le?q():fe=!1}}}var q;if(typeof Y=="function")q=function(){Y(B)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Bt=P.port2;P.port1.onmessage=B,q=function(){Bt.postMessage(null)}}else q=function(){O(B,0)};function ht(W,le){U=O(function(){W(i.unstable_now())},le)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(W){W.callback=null},i.unstable_forceFrameRate=function(W){0>W||125<W?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<W?Math.floor(1e3/W):5},i.unstable_getCurrentPriorityLevel=function(){return T},i.unstable_next=function(W){switch(T){case 1:case 2:case 3:var le=3;break;default:le=T}var ge=T;T=le;try{return W()}finally{T=ge}},i.unstable_requestPaint=function(){I=!0},i.unstable_runWithPriority=function(W,le){switch(W){case 1:case 2:case 3:case 4:case 5:break;default:W=3}var ge=T;T=W;try{return le()}finally{T=ge}},i.unstable_scheduleCallback=function(W,le,ge){var He=i.unstable_now();switch(typeof ge=="object"&&ge!==null?(ge=ge.delay,ge=typeof ge=="number"&&0<ge?He+ge:He):ge=He,W){case 1:var L=-1;break;case 2:L=250;break;case 5:L=1073741823;break;case 4:L=1e4;break;default:L=5e3}return L=ge+L,W={id:E++,callback:le,priorityLevel:W,startTime:ge,expirationTime:L,sortIndex:-1},ge>He?(W.sortIndex=ge,e(g,W),n(p)===null&&W===n(g)&&(N?(k(U),U=-1):N=!0,ht(oe,ge-He))):(W.sortIndex=L,e(p,W),C||w||(C=!0,fe||(fe=!0,q()))),W},i.unstable_shouldYield=j,i.unstable_wrapCallback=function(W){var le=T;return function(){var ge=T;T=le;try{return W.apply(this,arguments)}finally{T=ge}}}}(Cm)),Cm}var X_;function kw(){return X_||(X_=1,Rm.exports=Pw()),Rm.exports}var Im={exports:{}},en={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W_;function Lw(){if(W_)return en;W_=1;var i=Cp();function e(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var E=2;E<arguments.length;E++)g+="&args[]="+encodeURIComponent(arguments[E])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var s={d:{f:n,r:function(){throw Error(e(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},o=Symbol.for("react.portal");function u(p,g,E){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:E}}var h=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return en.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,en.createPortal=function(p,g){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(e(299));return u(p,g,null,E)},en.flushSync=function(p){var g=h.T,E=s.p;try{if(h.T=null,s.p=2,p)return p()}finally{h.T=g,s.p=E,s.d.f()}},en.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,s.d.C(p,g))},en.prefetchDNS=function(p){typeof p=="string"&&s.d.D(p)},en.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,w=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;E==="style"?s.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:w}):E==="script"&&s.d.X(p,{crossOrigin:b,integrity:T,fetchPriority:w,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},en.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var E=m(g.as,g.crossOrigin);s.d.M(p,{crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&s.d.M(p)},en.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var E=g.as,b=m(E,g.crossOrigin);s.d.L(p,E,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},en.preloadModule=function(p,g){if(typeof p=="string")if(g){var E=m(g.as,g.crossOrigin);s.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:E,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else s.d.m(p)},en.requestFormReset=function(p){s.d.r(p)},en.unstable_batchedUpdates=function(p,g){return p(g)},en.useFormState=function(p,g,E){return h.H.useFormState(p,g,E)},en.useFormStatus=function(){return h.H.useHostTransitionStatus()},en.version="19.1.0",en}var Z_;function GT(){if(Z_)return Im.exports;Z_=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),Im.exports=Lw(),Im.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var J_;function Uw(){if(J_)return $l;J_=1;var i=kw(),e=Cp(),n=GT();function s(t){var r="https://react.dev/errors/"+t;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)r+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function u(t){var r=t,a=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,(r.flags&4098)!==0&&(a=r.return),t=r.return;while(t)}return r.tag===3?a:null}function h(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function m(t){if(u(t)!==t)throw Error(s(188))}function p(t){var r=t.alternate;if(!r){if(r=u(t),r===null)throw Error(s(188));return r!==t?null:t}for(var a=t,l=r;;){var f=a.return;if(f===null)break;var d=f.alternate;if(d===null){if(l=f.return,l!==null){a=l;continue}break}if(f.child===d.child){for(d=f.child;d;){if(d===a)return m(f),t;if(d===l)return m(f),r;d=d.sibling}throw Error(s(188))}if(a.return!==l.return)a=f,l=d;else{for(var _=!1,S=f.child;S;){if(S===a){_=!0,a=f,l=d;break}if(S===l){_=!0,l=f,a=d;break}S=S.sibling}if(!_){for(S=d.child;S;){if(S===a){_=!0,a=d,l=f;break}if(S===l){_=!0,l=d,a=f;break}S=S.sibling}if(!_)throw Error(s(189))}}if(a.alternate!==l)throw Error(s(190))}if(a.tag!==3)throw Error(s(188));return a.stateNode.current===a?t:r}function g(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t;for(t=t.child;t!==null;){if(r=g(t),r!==null)return r;t=t.sibling}return null}var E=Object.assign,b=Symbol.for("react.element"),T=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),I=Symbol.for("react.profiler"),O=Symbol.for("react.provider"),k=Symbol.for("react.consumer"),Y=Symbol.for("react.context"),ae=Symbol.for("react.forward_ref"),oe=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),U=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),j=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function q(t){return t===null||typeof t!="object"?null:(t=B&&t[B]||t["@@iterator"],typeof t=="function"?t:null)}var P=Symbol.for("react.client.reference");function Bt(t){if(t==null)return null;if(typeof t=="function")return t.$$typeof===P?null:t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case C:return"Fragment";case I:return"Profiler";case N:return"StrictMode";case oe:return"Suspense";case fe:return"SuspenseList";case M:return"Activity"}if(typeof t=="object")switch(t.$$typeof){case w:return"Portal";case Y:return(t.displayName||"Context")+".Provider";case k:return(t._context.displayName||"Context")+".Consumer";case ae:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case U:return r=t.displayName||null,r!==null?r:Bt(t.type)||"Memo";case D:r=t._payload,t=t._init;try{return Bt(t(r))}catch{}}return null}var ht=Array.isArray,W=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,le=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ge={pending:!1,data:null,method:null,action:null},He=[],L=-1;function ne(t){return{current:t}}function ue(t){0>L||(t.current=He[L],He[L]=null,L--)}function re(t,r){L++,He[L]=t.current,t.current=r}var ye=ne(null),De=ne(null),be=ne(null),Vt=ne(null);function nt(t,r){switch(re(be,r),re(De,t),re(ye,null),r.nodeType){case 9:case 11:t=(t=r.documentElement)&&(t=t.namespaceURI)?__(t):0;break;default:if(t=r.tagName,r=r.namespaceURI)r=__(r),t=E_(r,t);else switch(t){case"svg":t=1;break;case"math":t=2;break;default:t=0}}ue(ye),re(ye,t)}function ni(){ue(ye),ue(De),ue(be)}function gr(t){t.memoizedState!==null&&re(Vt,t);var r=ye.current,a=E_(r,t.type);r!==a&&(re(De,t),re(ye,a))}function Ni(t){De.current===t&&(ue(ye),ue(De)),Vt.current===t&&(ue(Vt),zl._currentValue=ge)}var ys=Object.prototype.hasOwnProperty,vs=i.unstable_scheduleCallback,_s=i.unstable_cancelCallback,Lo=i.unstable_shouldYield,Ou=i.unstable_requestPaint,Cn=i.unstable_now,Af=i.unstable_getCurrentPriorityLevel,Uo=i.unstable_ImmediatePriority,ma=i.unstable_UserBlockingPriority,Es=i.unstable_NormalPriority,bf=i.unstable_LowPriority,pa=i.unstable_IdlePriority,jo=i.log,Mu=i.unstable_setDisableYieldValue,ft=null,Ke=null;function yn(t){if(typeof jo=="function"&&Mu(t),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ft,t)}catch{}}var Zt=Math.clz32?Math.clz32:Ts,Vu=Math.log,wf=Math.LN2;function Ts(t){return t>>>=0,t===0?32:31-(Vu(t)/wf|0)|0}var Ss=256,As=4194304;function qn(t){var r=t&42;if(r!==0)return r;switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return t&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return t}}function ga(t,r,a){var l=t.pendingLanes;if(l===0)return 0;var f=0,d=t.suspendedLanes,_=t.pingedLanes;t=t.warmLanes;var S=l&134217727;return S!==0?(l=S&~d,l!==0?f=qn(l):(_&=S,_!==0?f=qn(_):a||(a=S&~t,a!==0&&(f=qn(a))))):(S=l&~d,S!==0?f=qn(S):_!==0?f=qn(_):a||(a=l&~t,a!==0&&(f=qn(a)))),f===0?0:r!==0&&r!==f&&(r&d)===0&&(d=f&-f,a=r&-r,d>=a||d===32&&(a&4194048)!==0)?r:f}function bs(t,r){return(t.pendingLanes&~(t.suspendedLanes&~t.pingedLanes)&r)===0}function zo(t,r){switch(t){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Bo(){var t=Ss;return Ss<<=1,(Ss&4194048)===0&&(Ss=256),t}function Ho(){var t=As;return As<<=1,(As&62914560)===0&&(As=4194304),t}function Di(t){for(var r=[],a=0;31>a;a++)r.push(t);return r}function xi(t,r){t.pendingLanes|=r,r!==268435456&&(t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0)}function qo(t,r,a,l,f,d){var _=t.pendingLanes;t.pendingLanes=a,t.suspendedLanes=0,t.pingedLanes=0,t.warmLanes=0,t.expiredLanes&=a,t.entangledLanes&=a,t.errorRecoveryDisabledLanes&=a,t.shellSuspendCounter=0;var S=t.entanglements,V=t.expirationTimes,$=t.hiddenUpdates;for(a=_&~a;0<a;){var Z=31-Zt(a),ee=1<<Z;S[Z]=0,V[Z]=-1;var K=$[Z];if(K!==null)for($[Z]=null,Z=0;Z<K.length;Z++){var Q=K[Z];Q!==null&&(Q.lane&=-536870913)}a&=~ee}l!==0&&ii(t,l,0),d!==0&&f===0&&t.tag!==0&&(t.suspendedLanes|=d&~(_&~r))}function ii(t,r,a){t.pendingLanes|=r,t.suspendedLanes&=~r;var l=31-Zt(r);t.entangledLanes|=r,t.entanglements[l]=t.entanglements[l]|1073741824|a&4194090}function Fo(t,r){var a=t.entangledLanes|=r;for(t=t.entanglements;a;){var l=31-Zt(a),f=1<<l;f&r|t[l]&r&&(t[l]|=r),a&=~f}}function yr(t){switch(t){case 2:t=1;break;case 8:t=4;break;case 32:t=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:t=128;break;case 268435456:t=134217728;break;default:t=0}return t}function ya(t){return t&=-t,2<t?8<t?(t&134217727)!==0?32:268435456:8:2}function vr(){var t=le.p;return t!==0?t:(t=window.event,t===void 0?32:j_(t.type))}function Pu(t,r){var a=le.p;try{return le.p=t,r()}finally{le.p=a}}var at=Math.random().toString(36).slice(2),Rt="__reactFiber$"+at,_t="__reactProps$"+at,In="__reactContainer$"+at,Go="__reactEvents$"+at,Rf="__reactListeners$"+at,_r="__reactHandles$"+at,ku="__reactResources$"+at,ws="__reactMarker$"+at;function Er(t){delete t[Rt],delete t[_t],delete t[Go],delete t[Rf],delete t[_r]}function Oi(t){var r=t[Rt];if(r)return r;for(var a=t.parentNode;a;){if(r=a[In]||a[Rt]){if(a=r.alternate,r.child!==null||a!==null&&a.child!==null)for(t=b_(t);t!==null;){if(a=t[Rt])return a;t=b_(t)}return r}t=a,a=t.parentNode}return null}function ri(t){if(t=t[Rt]||t[In]){var r=t.tag;if(r===5||r===6||r===13||r===26||r===27||r===3)return t}return null}function si(t){var r=t.tag;if(r===5||r===26||r===27||r===6)return t.stateNode;throw Error(s(33))}function ln(t){var r=t[ku];return r||(r=t[ku]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function pt(t){t[ws]=!0}var $o=new Set,va={};function Fn(t,r){Mi(t,r),Mi(t+"Capture",r)}function Mi(t,r){for(va[t]=r,t=0;t<r.length;t++)$o.add(r[t])}var Lu=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Uu={},Rs={};function ju(t){return ys.call(Rs,t)?!0:ys.call(Uu,t)?!1:Lu.test(t)?Rs[t]=!0:(Uu[t]=!0,!1)}function Tr(t,r,a){if(ju(r))if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":t.removeAttribute(r);return;case"boolean":var l=r.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){t.removeAttribute(r);return}}t.setAttribute(r,""+a)}}function ai(t,r,a){if(a===null)t.removeAttribute(r);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(r);return}t.setAttribute(r,""+a)}}function Ht(t,r,a,l){if(l===null)t.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":t.removeAttribute(a);return}t.setAttributeNS(r,a,""+l)}}var Cs,zu;function Vi(t){if(Cs===void 0)try{throw Error()}catch(a){var r=a.stack.trim().match(/\n( *(at )?)/);Cs=r&&r[1]||"",zu=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Cs+t+zu}var _a=!1;function Ea(t,r){if(!t||_a)return"";_a=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(r){var ee=function(){throw Error()};if(Object.defineProperty(ee.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ee,[])}catch(Q){var K=Q}Reflect.construct(t,[],ee)}else{try{ee.call()}catch(Q){K=Q}t.call(ee.prototype)}}else{try{throw Error()}catch(Q){K=Q}(ee=t())&&typeof ee.catch=="function"&&ee.catch(function(){})}}catch(Q){if(Q&&K&&typeof Q.stack=="string")return[Q.stack,K.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var f=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");f&&f.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var d=l.DetermineComponentFrameRoot(),_=d[0],S=d[1];if(_&&S){var V=_.split(`
`),$=S.split(`
`);for(f=l=0;l<V.length&&!V[l].includes("DetermineComponentFrameRoot");)l++;for(;f<$.length&&!$[f].includes("DetermineComponentFrameRoot");)f++;if(l===V.length||f===$.length)for(l=V.length-1,f=$.length-1;1<=l&&0<=f&&V[l]!==$[f];)f--;for(;1<=l&&0<=f;l--,f--)if(V[l]!==$[f]){if(l!==1||f!==1)do if(l--,f--,0>f||V[l]!==$[f]){var Z=`
`+V[l].replace(" at new "," at ");return t.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",t.displayName)),Z}while(1<=l&&0<=f);break}}}finally{_a=!1,Error.prepareStackTrace=a}return(a=t?t.displayName||t.name:"")?Vi(a):""}function Ko(t){switch(t.tag){case 26:case 27:case 5:return Vi(t.type);case 16:return Vi("Lazy");case 13:return Vi("Suspense");case 19:return Vi("SuspenseList");case 0:case 15:return Ea(t.type,!1);case 11:return Ea(t.type.render,!1);case 1:return Ea(t.type,!0);case 31:return Vi("Activity");default:return""}}function Ta(t){try{var r="";do r+=Ko(t),t=t.return;while(t);return r}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function un(t){switch(typeof t){case"bigint":case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Qo(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Cf(t){var r=Qo(t)?"checked":"value",a=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),l=""+t[r];if(!t.hasOwnProperty(r)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var f=a.get,d=a.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return f.call(this)},set:function(_){l=""+_,d.call(this,_)}}),Object.defineProperty(t,r,{enumerable:a.enumerable}),{getValue:function(){return l},setValue:function(_){l=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Sa(t){t._valueTracker||(t._valueTracker=Cf(t))}function Yo(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var a=r.getValue(),l="";return t&&(l=Qo(t)?t.checked?"true":"false":t.value),t=l,t!==a?(r.setValue(t),!0):!1}function Is(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}var If=/[\n"\\]/g;function Et(t){return t.replace(If,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function vn(t,r,a,l,f,d,_,S){t.name="",_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?t.type=_:t.removeAttribute("type"),r!=null?_==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+un(r)):t.value!==""+un(r)&&(t.value=""+un(r)):_!=="submit"&&_!=="reset"||t.removeAttribute("value"),r!=null?Sr(t,_,un(r)):a!=null?Sr(t,_,un(a)):l!=null&&t.removeAttribute("value"),f==null&&d!=null&&(t.defaultChecked=!!d),f!=null&&(t.checked=f&&typeof f!="function"&&typeof f!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?t.name=""+un(S):t.removeAttribute("name")}function Ns(t,r,a,l,f,d,_,S){if(d!=null&&typeof d!="function"&&typeof d!="symbol"&&typeof d!="boolean"&&(t.type=d),r!=null||a!=null){if(!(d!=="submit"&&d!=="reset"||r!=null))return;a=a!=null?""+un(a):"",r=r!=null?""+un(r):a,S||r===t.value||(t.value=r),t.defaultValue=r}l=l??f,l=typeof l!="function"&&typeof l!="symbol"&&!!l,t.checked=S?t.checked:!!l,t.defaultChecked=!!l,_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"&&(t.name=_)}function Sr(t,r,a){r==="number"&&Is(t.ownerDocument)===t||t.defaultValue===""+a||(t.defaultValue=""+a)}function Pi(t,r,a,l){if(t=t.options,r){r={};for(var f=0;f<a.length;f++)r["$"+a[f]]=!0;for(a=0;a<t.length;a++)f=r.hasOwnProperty("$"+t[a].value),t[a].selected!==f&&(t[a].selected=f),f&&l&&(t[a].defaultSelected=!0)}else{for(a=""+un(a),r=null,f=0;f<t.length;f++){if(t[f].value===a){t[f].selected=!0,l&&(t[f].defaultSelected=!0);return}r!==null||t[f].disabled||(r=t[f])}r!==null&&(r.selected=!0)}}function Xe(t,r,a){if(r!=null&&(r=""+un(r),r!==t.value&&(t.value=r),a==null)){t.defaultValue!==r&&(t.defaultValue=r);return}t.defaultValue=a!=null?""+un(a):""}function Ds(t,r,a,l){if(r==null){if(l!=null){if(a!=null)throw Error(s(92));if(ht(l)){if(1<l.length)throw Error(s(93));l=l[0]}a=l}a==null&&(a=""),r=a}a=un(r),t.defaultValue=a,l=t.textContent,l===a&&l!==""&&l!==null&&(t.value=l)}function Nn(t,r){if(r){var a=t.firstChild;if(a&&a===t.lastChild&&a.nodeType===3){a.nodeValue=r;return}}t.textContent=r}var xs=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Bu(t,r,a){var l=r.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?t.setProperty(r,""):r==="float"?t.cssFloat="":t[r]="":l?t.setProperty(r,a):typeof a!="number"||a===0||xs.has(r)?r==="float"?t.cssFloat=a:t[r]=(""+a).trim():t[r]=a+"px"}function Xo(t,r,a){if(r!=null&&typeof r!="object")throw Error(s(62));if(t=t.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||r!=null&&r.hasOwnProperty(l)||(l.indexOf("--")===0?t.setProperty(l,""):l==="float"?t.cssFloat="":t[l]="");for(var f in r)l=r[f],r.hasOwnProperty(f)&&a[f]!==l&&Bu(t,f,l)}else for(var d in r)r.hasOwnProperty(d)&&Bu(t,d,r[d])}function Wo(t){if(t.indexOf("-")===-1)return!1;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nf=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Df=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Aa(t){return Df.test(""+t)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":t}var ki=null;function Dn(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Li=null,Ui=null;function Zo(t){var r=ri(t);if(r&&(t=r.stateNode)){var a=t[_t]||null;e:switch(t=r.stateNode,r.type){case"input":if(vn(t,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),r=a.name,a.type==="radio"&&r!=null){for(a=t;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Et(""+r)+'"][type="radio"]'),r=0;r<a.length;r++){var l=a[r];if(l!==t&&l.form===t.form){var f=l[_t]||null;if(!f)throw Error(s(90));vn(l,f.value,f.defaultValue,f.defaultValue,f.checked,f.defaultChecked,f.type,f.name)}}for(r=0;r<a.length;r++)l=a[r],l.form===t.form&&Yo(l)}break e;case"textarea":Xe(t,a.value,a.defaultValue);break e;case"select":r=a.value,r!=null&&Pi(t,!!a.multiple,r,!1)}}}var oi=!1;function Hu(t,r,a){if(oi)return t(r,a);oi=!0;try{var l=t(r);return l}finally{if(oi=!1,(Li!==null||Ui!==null)&&(Pc(),Li&&(r=Li,t=Ui,Ui=Li=null,Zo(r),t)))for(r=0;r<t.length;r++)Zo(t[r])}}function Os(t,r){var a=t.stateNode;if(a===null)return null;var l=a[_t]||null;if(l===null)return null;a=l[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(t=t.type,l=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!l;break e;default:t=!1}if(t)return null;if(a&&typeof a!="function")throw Error(s(231,r,typeof a));return a}var Gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),xn=!1;if(Gn)try{var Ms={};Object.defineProperty(Ms,"passive",{get:function(){xn=!0}}),window.addEventListener("test",Ms,Ms),window.removeEventListener("test",Ms,Ms)}catch{xn=!1}var li=null,Ar=null,ji=null;function Jo(){if(ji)return ji;var t,r=Ar,a=r.length,l,f="value"in li?li.value:li.textContent,d=f.length;for(t=0;t<a&&r[t]===f[t];t++);var _=a-t;for(l=1;l<=_&&r[a-l]===f[d-l];l++);return ji=f.slice(t,1<l?1-l:void 0)}function ui(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function ci(){return!0}function el(){return!1}function Pt(t){function r(a,l,f,d,_){this._reactName=a,this._targetInst=f,this.type=l,this.nativeEvent=d,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(a=t[S],this[S]=a?a(d):d[S]);return this.isDefaultPrevented=(d.defaultPrevented!=null?d.defaultPrevented:d.returnValue===!1)?ci:el,this.isPropagationStopped=el,this}return E(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=ci)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=ci)},persist:function(){},isPersistent:ci}),r}var Fe={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ba=Pt(Fe),Vs=E({},Fe,{view:0,detail:0}),qu=Pt(Vs),wa,Ra,hi,Ps=E({},Vs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Us,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==hi&&(hi&&t.type==="mousemove"?(wa=t.screenX-hi.screenX,Ra=t.screenY-hi.screenY):Ra=wa=0,hi=t),wa)},movementY:function(t){return"movementY"in t?t.movementY:Ra}}),On=Pt(Ps),Fu=E({},Ps,{dataTransfer:0}),xf=Pt(Fu),ks=E({},Vs,{relatedTarget:0}),Ca=Pt(ks),tl=E({},Fe,{animationName:0,elapsedTime:0,pseudoElement:0}),Ia=Pt(tl),Gu=E({},Fe,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Na=Pt(Gu),Of=E({},Fe,{data:0}),nl=Pt(Of),Ls={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$u={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function il(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ku[t])?!!r[t]:!1}function Us(){return il}var Qu=E({},Vs,{key:function(t){if(t.key){var r=Ls[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=ui(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$u[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Us,charCode:function(t){return t.type==="keypress"?ui(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ui(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Da=Pt(Qu),Yu=E({},Ps,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rl=Pt(Yu),zi=E({},Vs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Us}),Xu=Pt(zi),Wu=E({},Fe,{propertyName:0,elapsedTime:0,pseudoElement:0}),Zu=Pt(Wu),Ju=E({},Ps,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xa=Pt(Ju),cn=E({},Fe,{newState:0,oldState:0}),ec=Pt(cn),tc=[9,13,27,32],fi=Gn&&"CompositionEvent"in window,c=null;Gn&&"documentMode"in document&&(c=document.documentMode);var y=Gn&&"TextEvent"in window&&!c,v=Gn&&(!fi||c&&8<c&&11>=c),R=" ",F=!1;function X(t,r){switch(t){case"keyup":return tc.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function se(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Le=!1;function Ct(t,r){switch(t){case"compositionend":return se(r);case"keypress":return r.which!==32?null:(F=!0,R);case"textInput":return t=r.data,t===R&&F?null:t;default:return null}}function Ue(t,r){if(Le)return t==="compositionend"||!fi&&X(t,r)?(t=Jo(),ji=Ar=li=null,Le=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return v&&r.locale!=="ko"?null:r.data;default:return null}}var kt={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function It(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!kt[t.type]:r==="textarea"}function Bi(t,r,a,l){Li?Ui?Ui.push(l):Ui=[l]:Li=l,r=Bc(r,"onChange"),0<r.length&&(a=new ba("onChange","change",null,a,l),t.push({event:a,listeners:r}))}var qt=null,di=null;function sl(t){m_(t,0)}function nc(t){var r=si(t);if(Yo(r))return t}function Pg(t,r){if(t==="change")return r}var kg=!1;if(Gn){var Mf;if(Gn){var Vf="oninput"in document;if(!Vf){var Lg=document.createElement("div");Lg.setAttribute("oninput","return;"),Vf=typeof Lg.oninput=="function"}Mf=Vf}else Mf=!1;kg=Mf&&(!document.documentMode||9<document.documentMode)}function Ug(){qt&&(qt.detachEvent("onpropertychange",jg),di=qt=null)}function jg(t){if(t.propertyName==="value"&&nc(di)){var r=[];Bi(r,di,t,Dn(t)),Hu(sl,r)}}function lb(t,r,a){t==="focusin"?(Ug(),qt=r,di=a,qt.attachEvent("onpropertychange",jg)):t==="focusout"&&Ug()}function ub(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return nc(di)}function cb(t,r){if(t==="click")return nc(r)}function hb(t,r){if(t==="input"||t==="change")return nc(r)}function fb(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var _n=typeof Object.is=="function"?Object.is:fb;function al(t,r){if(_n(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var a=Object.keys(t),l=Object.keys(r);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var f=a[l];if(!ys.call(r,f)||!_n(t[f],r[f]))return!1}return!0}function zg(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Bg(t,r){var a=zg(t);t=0;for(var l;a;){if(a.nodeType===3){if(l=t+a.textContent.length,t<=r&&l>=r)return{node:a,offset:r-t};t=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zg(a)}}function Hg(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Hg(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function qg(t){t=t!=null&&t.ownerDocument!=null&&t.ownerDocument.defaultView!=null?t.ownerDocument.defaultView:window;for(var r=Is(t.document);r instanceof t.HTMLIFrameElement;){try{var a=typeof r.contentWindow.location.href=="string"}catch{a=!1}if(a)t=r.contentWindow;else break;r=Is(t.document)}return r}function Pf(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}var db=Gn&&"documentMode"in document&&11>=document.documentMode,Oa=null,kf=null,ol=null,Lf=!1;function Fg(t,r,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Lf||Oa==null||Oa!==Is(l)||(l=Oa,"selectionStart"in l&&Pf(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),ol&&al(ol,l)||(ol=l,l=Bc(kf,"onSelect"),0<l.length&&(r=new ba("onSelect","select",null,r,a),t.push({event:r,listeners:l}),r.target=Oa)))}function js(t,r){var a={};return a[t.toLowerCase()]=r.toLowerCase(),a["Webkit"+t]="webkit"+r,a["Moz"+t]="moz"+r,a}var Ma={animationend:js("Animation","AnimationEnd"),animationiteration:js("Animation","AnimationIteration"),animationstart:js("Animation","AnimationStart"),transitionrun:js("Transition","TransitionRun"),transitionstart:js("Transition","TransitionStart"),transitioncancel:js("Transition","TransitionCancel"),transitionend:js("Transition","TransitionEnd")},Uf={},Gg={};Gn&&(Gg=document.createElement("div").style,"AnimationEvent"in window||(delete Ma.animationend.animation,delete Ma.animationiteration.animation,delete Ma.animationstart.animation),"TransitionEvent"in window||delete Ma.transitionend.transition);function zs(t){if(Uf[t])return Uf[t];if(!Ma[t])return t;var r=Ma[t],a;for(a in r)if(r.hasOwnProperty(a)&&a in Gg)return Uf[t]=r[a];return t}var $g=zs("animationend"),Kg=zs("animationiteration"),Qg=zs("animationstart"),mb=zs("transitionrun"),pb=zs("transitionstart"),gb=zs("transitioncancel"),Yg=zs("transitionend"),Xg=new Map,jf="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");jf.push("scrollEnd");function $n(t,r){Xg.set(t,r),Fn(r,[t])}var Wg=new WeakMap;function Mn(t,r){if(typeof t=="object"&&t!==null){var a=Wg.get(t);return a!==void 0?a:(r={value:t,source:r,stack:Ta(r)},Wg.set(t,r),r)}return{value:t,source:r,stack:Ta(r)}}var Vn=[],Va=0,zf=0;function ic(){for(var t=Va,r=zf=Va=0;r<t;){var a=Vn[r];Vn[r++]=null;var l=Vn[r];Vn[r++]=null;var f=Vn[r];Vn[r++]=null;var d=Vn[r];if(Vn[r++]=null,l!==null&&f!==null){var _=l.pending;_===null?f.next=f:(f.next=_.next,_.next=f),l.pending=f}d!==0&&Zg(a,f,d)}}function rc(t,r,a,l){Vn[Va++]=t,Vn[Va++]=r,Vn[Va++]=a,Vn[Va++]=l,zf|=l,t.lanes|=l,t=t.alternate,t!==null&&(t.lanes|=l)}function Bf(t,r,a,l){return rc(t,r,a,l),sc(t)}function Pa(t,r){return rc(t,null,null,r),sc(t)}function Zg(t,r,a){t.lanes|=a;var l=t.alternate;l!==null&&(l.lanes|=a);for(var f=!1,d=t.return;d!==null;)d.childLanes|=a,l=d.alternate,l!==null&&(l.childLanes|=a),d.tag===22&&(t=d.stateNode,t===null||t._visibility&1||(f=!0)),t=d,d=d.return;return t.tag===3?(d=t.stateNode,f&&r!==null&&(f=31-Zt(a),t=d.hiddenUpdates,l=t[f],l===null?t[f]=[r]:l.push(r),r.lane=a|536870912),d):null}function sc(t){if(50<Ol)throw Ol=0,Kd=null,Error(s(185));for(var r=t.return;r!==null;)t=r,r=t.return;return t.tag===3?t.stateNode:null}var ka={};function yb(t,r,a,l){this.tag=t,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,r,a,l){return new yb(t,r,a,l)}function Hf(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hi(t,r){var a=t.alternate;return a===null?(a=En(t.tag,r,t.key,t.mode),a.elementType=t.elementType,a.type=t.type,a.stateNode=t.stateNode,a.alternate=t,t.alternate=a):(a.pendingProps=r,a.type=t.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=t.flags&65011712,a.childLanes=t.childLanes,a.lanes=t.lanes,a.child=t.child,a.memoizedProps=t.memoizedProps,a.memoizedState=t.memoizedState,a.updateQueue=t.updateQueue,r=t.dependencies,a.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},a.sibling=t.sibling,a.index=t.index,a.ref=t.ref,a.refCleanup=t.refCleanup,a}function Jg(t,r){t.flags&=65011714;var a=t.alternate;return a===null?(t.childLanes=0,t.lanes=r,t.child=null,t.subtreeFlags=0,t.memoizedProps=null,t.memoizedState=null,t.updateQueue=null,t.dependencies=null,t.stateNode=null):(t.childLanes=a.childLanes,t.lanes=a.lanes,t.child=a.child,t.subtreeFlags=0,t.deletions=null,t.memoizedProps=a.memoizedProps,t.memoizedState=a.memoizedState,t.updateQueue=a.updateQueue,t.type=a.type,r=a.dependencies,t.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),t}function ac(t,r,a,l,f,d){var _=0;if(l=t,typeof t=="function")Hf(t)&&(_=1);else if(typeof t=="string")_=_w(t,a,ye.current)?26:t==="html"||t==="head"||t==="body"?27:5;else e:switch(t){case M:return t=En(31,a,r,f),t.elementType=M,t.lanes=d,t;case C:return Bs(a.children,f,d,r);case N:_=8,f|=24;break;case I:return t=En(12,a,r,f|2),t.elementType=I,t.lanes=d,t;case oe:return t=En(13,a,r,f),t.elementType=oe,t.lanes=d,t;case fe:return t=En(19,a,r,f),t.elementType=fe,t.lanes=d,t;default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case O:case Y:_=10;break e;case k:_=9;break e;case ae:_=11;break e;case U:_=14;break e;case D:_=16,l=null;break e}_=29,a=Error(s(130,t===null?"null":typeof t,"")),l=null}return r=En(_,a,r,f),r.elementType=t,r.type=l,r.lanes=d,r}function Bs(t,r,a,l){return t=En(7,t,l,r),t.lanes=a,t}function qf(t,r,a){return t=En(6,t,null,r),t.lanes=a,t}function Ff(t,r,a){return r=En(4,t.children!==null?t.children:[],t.key,r),r.lanes=a,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}var La=[],Ua=0,oc=null,lc=0,Pn=[],kn=0,Hs=null,qi=1,Fi="";function qs(t,r){La[Ua++]=lc,La[Ua++]=oc,oc=t,lc=r}function ey(t,r,a){Pn[kn++]=qi,Pn[kn++]=Fi,Pn[kn++]=Hs,Hs=t;var l=qi;t=Fi;var f=32-Zt(l)-1;l&=~(1<<f),a+=1;var d=32-Zt(r)+f;if(30<d){var _=f-f%5;d=(l&(1<<_)-1).toString(32),l>>=_,f-=_,qi=1<<32-Zt(r)+f|a<<f|l,Fi=d+t}else qi=1<<d|a<<f|l,Fi=t}function Gf(t){t.return!==null&&(qs(t,1),ey(t,1,0))}function $f(t){for(;t===oc;)oc=La[--Ua],La[Ua]=null,lc=La[--Ua],La[Ua]=null;for(;t===Hs;)Hs=Pn[--kn],Pn[kn]=null,Fi=Pn[--kn],Pn[kn]=null,qi=Pn[--kn],Pn[kn]=null}var hn=null,dt=null,qe=!1,Fs=null,mi=!1,Kf=Error(s(519));function Gs(t){var r=Error(s(418,""));throw cl(Mn(r,t)),Kf}function ty(t){var r=t.stateNode,a=t.type,l=t.memoizedProps;switch(r[Rt]=t,r[_t]=l,a){case"dialog":Me("cancel",r),Me("close",r);break;case"iframe":case"object":case"embed":Me("load",r);break;case"video":case"audio":for(a=0;a<Vl.length;a++)Me(Vl[a],r);break;case"source":Me("error",r);break;case"img":case"image":case"link":Me("error",r),Me("load",r);break;case"details":Me("toggle",r);break;case"input":Me("invalid",r),Ns(r,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0),Sa(r);break;case"select":Me("invalid",r);break;case"textarea":Me("invalid",r),Ds(r,l.value,l.defaultValue,l.children),Sa(r)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||r.textContent===""+a||l.suppressHydrationWarning===!0||v_(r.textContent,a)?(l.popover!=null&&(Me("beforetoggle",r),Me("toggle",r)),l.onScroll!=null&&Me("scroll",r),l.onScrollEnd!=null&&Me("scrollend",r),l.onClick!=null&&(r.onclick=Hc),r=!0):r=!1,r||Gs(t)}function ny(t){for(hn=t.return;hn;)switch(hn.tag){case 5:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:hn=hn.return}}function ll(t){if(t!==hn)return!1;if(!qe)return ny(t),qe=!0,!1;var r=t.tag,a;if((a=r!==3&&r!==27)&&((a=r===5)&&(a=t.type,a=!(a!=="form"&&a!=="button")||um(t.type,t.memoizedProps)),a=!a),a&&dt&&Gs(t),ny(t),r===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(s(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8)if(a=t.data,a==="/$"){if(r===0){dt=Qn(t.nextSibling);break e}r--}else a!=="$"&&a!=="$!"&&a!=="$?"||r++;t=t.nextSibling}dt=null}}else r===27?(r=dt,jr(t.type)?(t=dm,dm=null,dt=t):dt=r):dt=hn?Qn(t.stateNode.nextSibling):null;return!0}function ul(){dt=hn=null,qe=!1}function iy(){var t=Fs;return t!==null&&(mn===null?mn=t:mn.push.apply(mn,t),Fs=null),t}function cl(t){Fs===null?Fs=[t]:Fs.push(t)}var Qf=ne(null),$s=null,Gi=null;function br(t,r,a){re(Qf,r._currentValue),r._currentValue=a}function $i(t){t._currentValue=Qf.current,ue(Qf)}function Yf(t,r,a){for(;t!==null;){var l=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,l!==null&&(l.childLanes|=r)):l!==null&&(l.childLanes&r)!==r&&(l.childLanes|=r),t===a)break;t=t.return}}function Xf(t,r,a,l){var f=t.child;for(f!==null&&(f.return=t);f!==null;){var d=f.dependencies;if(d!==null){var _=f.child;d=d.firstContext;e:for(;d!==null;){var S=d;d=f;for(var V=0;V<r.length;V++)if(S.context===r[V]){d.lanes|=a,S=d.alternate,S!==null&&(S.lanes|=a),Yf(d.return,a,t),l||(_=null);break e}d=S.next}}else if(f.tag===18){if(_=f.return,_===null)throw Error(s(341));_.lanes|=a,d=_.alternate,d!==null&&(d.lanes|=a),Yf(_,a,t),_=null}else _=f.child;if(_!==null)_.return=f;else for(_=f;_!==null;){if(_===t){_=null;break}if(f=_.sibling,f!==null){f.return=_.return,_=f;break}_=_.return}f=_}}function hl(t,r,a,l){t=null;for(var f=r,d=!1;f!==null;){if(!d){if((f.flags&524288)!==0)d=!0;else if((f.flags&262144)!==0)break}if(f.tag===10){var _=f.alternate;if(_===null)throw Error(s(387));if(_=_.memoizedProps,_!==null){var S=f.type;_n(f.pendingProps.value,_.value)||(t!==null?t.push(S):t=[S])}}else if(f===Vt.current){if(_=f.alternate,_===null)throw Error(s(387));_.memoizedState.memoizedState!==f.memoizedState.memoizedState&&(t!==null?t.push(zl):t=[zl])}f=f.return}t!==null&&Xf(r,t,a,l),r.flags|=262144}function uc(t){for(t=t.firstContext;t!==null;){if(!_n(t.context._currentValue,t.memoizedValue))return!0;t=t.next}return!1}function Ks(t){$s=t,Gi=null,t=t.dependencies,t!==null&&(t.firstContext=null)}function Jt(t){return ry($s,t)}function cc(t,r){return $s===null&&Ks(t),ry(t,r)}function ry(t,r){var a=r._currentValue;if(r={context:r,memoizedValue:a,next:null},Gi===null){if(t===null)throw Error(s(308));Gi=r,t.dependencies={lanes:0,firstContext:r},t.flags|=524288}else Gi=Gi.next=r;return a}var vb=typeof AbortController<"u"?AbortController:function(){var t=[],r=this.signal={aborted:!1,addEventListener:function(a,l){t.push(l)}};this.abort=function(){r.aborted=!0,t.forEach(function(a){return a()})}},_b=i.unstable_scheduleCallback,Eb=i.unstable_NormalPriority,Nt={$$typeof:Y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Wf(){return{controller:new vb,data:new Map,refCount:0}}function fl(t){t.refCount--,t.refCount===0&&_b(Eb,function(){t.controller.abort()})}var dl=null,Zf=0,ja=0,za=null;function Tb(t,r){if(dl===null){var a=dl=[];Zf=0,ja=em(),za={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Zf++,r.then(sy,sy),r}function sy(){if(--Zf===0&&dl!==null){za!==null&&(za.status="fulfilled");var t=dl;dl=null,ja=0,za=null;for(var r=0;r<t.length;r++)(0,t[r])()}}function Sb(t,r){var a=[],l={status:"pending",value:null,reason:null,then:function(f){a.push(f)}};return t.then(function(){l.status="fulfilled",l.value=r;for(var f=0;f<a.length;f++)(0,a[f])(r)},function(f){for(l.status="rejected",l.reason=f,f=0;f<a.length;f++)(0,a[f])(void 0)}),l}var ay=W.S;W.S=function(t,r){typeof r=="object"&&r!==null&&typeof r.then=="function"&&Tb(t,r),ay!==null&&ay(t,r)};var Qs=ne(null);function Jf(){var t=Qs.current;return t!==null?t:it.pooledCache}function hc(t,r){r===null?re(Qs,Qs.current):re(Qs,r.pool)}function oy(){var t=Jf();return t===null?null:{parent:Nt._currentValue,pool:t}}var ml=Error(s(460)),ly=Error(s(474)),fc=Error(s(542)),ed={then:function(){}};function uy(t){return t=t.status,t==="fulfilled"||t==="rejected"}function dc(){}function cy(t,r,a){switch(a=t[a],a===void 0?t.push(r):a!==r&&(r.then(dc,dc),r=a),r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,fy(t),t;default:if(typeof r.status=="string")r.then(dc,dc);else{if(t=it,t!==null&&100<t.shellSuspendCounter)throw Error(s(482));t=r,t.status="pending",t.then(function(l){if(r.status==="pending"){var f=r;f.status="fulfilled",f.value=l}},function(l){if(r.status==="pending"){var f=r;f.status="rejected",f.reason=l}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw t=r.reason,fy(t),t}throw pl=r,ml}}var pl=null;function hy(){if(pl===null)throw Error(s(459));var t=pl;return pl=null,t}function fy(t){if(t===ml||t===fc)throw Error(s(483))}var wr=!1;function td(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function nd(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,callbacks:null})}function Rr(t){return{lane:t,tag:0,payload:null,callback:null,next:null}}function Cr(t,r,a){var l=t.updateQueue;if(l===null)return null;if(l=l.shared,(Qe&2)!==0){var f=l.pending;return f===null?r.next=r:(r.next=f.next,f.next=r),l.pending=r,r=sc(t),Zg(t,null,a),r}return rc(t,l,r,a),sc(t)}function gl(t,r,a){if(r=r.updateQueue,r!==null&&(r=r.shared,(a&4194048)!==0)){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}function id(t,r){var a=t.updateQueue,l=t.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var f=null,d=null;if(a=a.firstBaseUpdate,a!==null){do{var _={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};d===null?f=d=_:d=d.next=_,a=a.next}while(a!==null);d===null?f=d=r:d=d.next=r}else f=d=r;a={baseState:l.baseState,firstBaseUpdate:f,lastBaseUpdate:d,shared:l.shared,callbacks:l.callbacks},t.updateQueue=a;return}t=a.lastBaseUpdate,t===null?a.firstBaseUpdate=r:t.next=r,a.lastBaseUpdate=r}var rd=!1;function yl(){if(rd){var t=za;if(t!==null)throw t}}function vl(t,r,a,l){rd=!1;var f=t.updateQueue;wr=!1;var d=f.firstBaseUpdate,_=f.lastBaseUpdate,S=f.shared.pending;if(S!==null){f.shared.pending=null;var V=S,$=V.next;V.next=null,_===null?d=$:_.next=$,_=V;var Z=t.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==_&&(S===null?Z.firstBaseUpdate=$:S.next=$,Z.lastBaseUpdate=V))}if(d!==null){var ee=f.baseState;_=0,Z=$=V=null,S=d;do{var K=S.lane&-536870913,Q=K!==S.lane;if(Q?(je&K)===K:(l&K)===K){K!==0&&K===ja&&(rd=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});e:{var Ae=t,_e=S;K=r;var Je=a;switch(_e.tag){case 1:if(Ae=_e.payload,typeof Ae=="function"){ee=Ae.call(Je,ee,K);break e}ee=Ae;break e;case 3:Ae.flags=Ae.flags&-65537|128;case 0:if(Ae=_e.payload,K=typeof Ae=="function"?Ae.call(Je,ee,K):Ae,K==null)break e;ee=E({},ee,K);break e;case 2:wr=!0}}K=S.callback,K!==null&&(t.flags|=64,Q&&(t.flags|=8192),Q=f.callbacks,Q===null?f.callbacks=[K]:Q.push(K))}else Q={lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?($=Z=Q,V=ee):Z=Z.next=Q,_|=K;if(S=S.next,S===null){if(S=f.shared.pending,S===null)break;Q=S,S=Q.next,Q.next=null,f.lastBaseUpdate=Q,f.shared.pending=null}}while(!0);Z===null&&(V=ee),f.baseState=V,f.firstBaseUpdate=$,f.lastBaseUpdate=Z,d===null&&(f.shared.lanes=0),Pr|=_,t.lanes=_,t.memoizedState=ee}}function dy(t,r){if(typeof t!="function")throw Error(s(191,t));t.call(r)}function my(t,r){var a=t.callbacks;if(a!==null)for(t.callbacks=null,t=0;t<a.length;t++)dy(a[t],r)}var Ba=ne(null),mc=ne(0);function py(t,r){t=Ji,re(mc,t),re(Ba,r),Ji=t|r.baseLanes}function sd(){re(mc,Ji),re(Ba,Ba.current)}function ad(){Ji=mc.current,ue(Ba),ue(mc)}var Ir=0,Ie=null,We=null,Tt=null,pc=!1,Ha=!1,Ys=!1,gc=0,_l=0,qa=null,Ab=0;function gt(){throw Error(s(321))}function od(t,r){if(r===null)return!1;for(var a=0;a<r.length&&a<t.length;a++)if(!_n(t[a],r[a]))return!1;return!0}function ld(t,r,a,l,f,d){return Ir=d,Ie=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,W.H=t===null||t.memoizedState===null?Zy:Jy,Ys=!1,d=a(l,f),Ys=!1,Ha&&(d=yy(r,a,l,f)),gy(t),d}function gy(t){W.H=Sc;var r=We!==null&&We.next!==null;if(Ir=0,Tt=We=Ie=null,pc=!1,_l=0,qa=null,r)throw Error(s(300));t===null||Lt||(t=t.dependencies,t!==null&&uc(t)&&(Lt=!0))}function yy(t,r,a,l){Ie=t;var f=0;do{if(Ha&&(qa=null),_l=0,Ha=!1,25<=f)throw Error(s(301));if(f+=1,Tt=We=null,t.updateQueue!=null){var d=t.updateQueue;d.lastEffect=null,d.events=null,d.stores=null,d.memoCache!=null&&(d.memoCache.index=0)}W.H=Db,d=r(a,l)}while(Ha);return d}function bb(){var t=W.H,r=t.useState()[0];return r=typeof r.then=="function"?El(r):r,t=t.useState()[0],(We!==null?We.memoizedState:null)!==t&&(Ie.flags|=1024),r}function ud(){var t=gc!==0;return gc=0,t}function cd(t,r,a){r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~a}function hd(t){if(pc){for(t=t.memoizedState;t!==null;){var r=t.queue;r!==null&&(r.pending=null),t=t.next}pc=!1}Ir=0,Tt=We=Ie=null,Ha=!1,_l=gc=0,qa=null}function fn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?Ie.memoizedState=Tt=t:Tt=Tt.next=t,Tt}function St(){if(We===null){var t=Ie.alternate;t=t!==null?t.memoizedState:null}else t=We.next;var r=Tt===null?Ie.memoizedState:Tt.next;if(r!==null)Tt=r,We=t;else{if(t===null)throw Ie.alternate===null?Error(s(467)):Error(s(310));We=t,t={memoizedState:We.memoizedState,baseState:We.baseState,baseQueue:We.baseQueue,queue:We.queue,next:null},Tt===null?Ie.memoizedState=Tt=t:Tt=Tt.next=t}return Tt}function fd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function El(t){var r=_l;return _l+=1,qa===null&&(qa=[]),t=cy(qa,t,r),r=Ie,(Tt===null?r.memoizedState:Tt.next)===null&&(r=r.alternate,W.H=r===null||r.memoizedState===null?Zy:Jy),t}function yc(t){if(t!==null&&typeof t=="object"){if(typeof t.then=="function")return El(t);if(t.$$typeof===Y)return Jt(t)}throw Error(s(438,String(t)))}function dd(t){var r=null,a=Ie.updateQueue;if(a!==null&&(r=a.memoCache),r==null){var l=Ie.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(r={data:l.data.map(function(f){return f.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),a===null&&(a=fd(),Ie.updateQueue=a),a.memoCache=r,a=r.data[r.index],a===void 0)for(a=r.data[r.index]=Array(t),l=0;l<t;l++)a[l]=j;return r.index++,a}function Ki(t,r){return typeof r=="function"?r(t):r}function vc(t){var r=St();return md(r,We,t)}function md(t,r,a){var l=t.queue;if(l===null)throw Error(s(311));l.lastRenderedReducer=a;var f=t.baseQueue,d=l.pending;if(d!==null){if(f!==null){var _=f.next;f.next=d.next,d.next=_}r.baseQueue=f=d,l.pending=null}if(d=t.baseState,f===null)t.memoizedState=d;else{r=f.next;var S=_=null,V=null,$=r,Z=!1;do{var ee=$.lane&-536870913;if(ee!==$.lane?(je&ee)===ee:(Ir&ee)===ee){var K=$.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null}),ee===ja&&(Z=!0);else if((Ir&K)===K){$=$.next,K===ja&&(Z=!0);continue}else ee={lane:0,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=ee,_=d):V=V.next=ee,Ie.lanes|=K,Pr|=K;ee=$.action,Ys&&a(d,ee),d=$.hasEagerState?$.eagerState:a(d,ee)}else K={lane:ee,revertLane:$.revertLane,action:$.action,hasEagerState:$.hasEagerState,eagerState:$.eagerState,next:null},V===null?(S=V=K,_=d):V=V.next=K,Ie.lanes|=ee,Pr|=ee;$=$.next}while($!==null&&$!==r);if(V===null?_=d:V.next=S,!_n(d,t.memoizedState)&&(Lt=!0,Z&&(a=za,a!==null)))throw a;t.memoizedState=d,t.baseState=_,t.baseQueue=V,l.lastRenderedState=d}return f===null&&(l.lanes=0),[t.memoizedState,l.dispatch]}function pd(t){var r=St(),a=r.queue;if(a===null)throw Error(s(311));a.lastRenderedReducer=t;var l=a.dispatch,f=a.pending,d=r.memoizedState;if(f!==null){a.pending=null;var _=f=f.next;do d=t(d,_.action),_=_.next;while(_!==f);_n(d,r.memoizedState)||(Lt=!0),r.memoizedState=d,r.baseQueue===null&&(r.baseState=d),a.lastRenderedState=d}return[d,l]}function vy(t,r,a){var l=Ie,f=St(),d=qe;if(d){if(a===void 0)throw Error(s(407));a=a()}else a=r();var _=!_n((We||f).memoizedState,a);_&&(f.memoizedState=a,Lt=!0),f=f.queue;var S=Ty.bind(null,l,f,t);if(Tl(2048,8,S,[t]),f.getSnapshot!==r||_||Tt!==null&&Tt.memoizedState.tag&1){if(l.flags|=2048,Fa(9,_c(),Ey.bind(null,l,f,a,r),null),it===null)throw Error(s(349));d||(Ir&124)!==0||_y(l,r,a)}return a}function _y(t,r,a){t.flags|=16384,t={getSnapshot:r,value:a},r=Ie.updateQueue,r===null?(r=fd(),Ie.updateQueue=r,r.stores=[t]):(a=r.stores,a===null?r.stores=[t]:a.push(t))}function Ey(t,r,a,l){r.value=a,r.getSnapshot=l,Sy(r)&&Ay(t)}function Ty(t,r,a){return a(function(){Sy(r)&&Ay(t)})}function Sy(t){var r=t.getSnapshot;t=t.value;try{var a=r();return!_n(t,a)}catch{return!0}}function Ay(t){var r=Pa(t,2);r!==null&&wn(r,t,2)}function gd(t){var r=fn();if(typeof t=="function"){var a=t;if(t=a(),Ys){yn(!0);try{a()}finally{yn(!1)}}}return r.memoizedState=r.baseState=t,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:t},r}function by(t,r,a,l){return t.baseState=a,md(t,We,typeof l=="function"?l:Ki)}function wb(t,r,a,l,f){if(Tc(t))throw Error(s(485));if(t=r.action,t!==null){var d={payload:f,action:t,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(_){d.listeners.push(_)}};W.T!==null?a(!0):d.isTransition=!1,l(d),a=r.pending,a===null?(d.next=r.pending=d,wy(r,d)):(d.next=a.next,r.pending=a.next=d)}}function wy(t,r){var a=r.action,l=r.payload,f=t.state;if(r.isTransition){var d=W.T,_={};W.T=_;try{var S=a(f,l),V=W.S;V!==null&&V(_,S),Ry(t,r,S)}catch($){yd(t,r,$)}finally{W.T=d}}else try{d=a(f,l),Ry(t,r,d)}catch($){yd(t,r,$)}}function Ry(t,r,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){Cy(t,r,l)},function(l){return yd(t,r,l)}):Cy(t,r,a)}function Cy(t,r,a){r.status="fulfilled",r.value=a,Iy(r),t.state=a,r=t.pending,r!==null&&(a=r.next,a===r?t.pending=null:(a=a.next,r.next=a,wy(t,a)))}function yd(t,r,a){var l=t.pending;if(t.pending=null,l!==null){l=l.next;do r.status="rejected",r.reason=a,Iy(r),r=r.next;while(r!==l)}t.action=null}function Iy(t){t=t.listeners;for(var r=0;r<t.length;r++)(0,t[r])()}function Ny(t,r){return r}function Dy(t,r){if(qe){var a=it.formState;if(a!==null){e:{var l=Ie;if(qe){if(dt){t:{for(var f=dt,d=mi;f.nodeType!==8;){if(!d){f=null;break t}if(f=Qn(f.nextSibling),f===null){f=null;break t}}d=f.data,f=d==="F!"||d==="F"?f:null}if(f){dt=Qn(f.nextSibling),l=f.data==="F!";break e}}Gs(l)}l=!1}l&&(r=a[0])}}return a=fn(),a.memoizedState=a.baseState=r,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ny,lastRenderedState:r},a.queue=l,a=Yy.bind(null,Ie,l),l.dispatch=a,l=gd(!1),d=Sd.bind(null,Ie,!1,l.queue),l=fn(),f={state:r,dispatch:null,action:t,pending:null},l.queue=f,a=wb.bind(null,Ie,f,d,a),f.dispatch=a,l.memoizedState=t,[r,a,!1]}function xy(t){var r=St();return Oy(r,We,t)}function Oy(t,r,a){if(r=md(t,r,Ny)[0],t=vc(Ki)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var l=El(r)}catch(_){throw _===ml?fc:_}else l=r;r=St();var f=r.queue,d=f.dispatch;return a!==r.memoizedState&&(Ie.flags|=2048,Fa(9,_c(),Rb.bind(null,f,a),null)),[l,d,t]}function Rb(t,r){t.action=r}function My(t){var r=St(),a=We;if(a!==null)return Oy(r,a,t);St(),r=r.memoizedState,a=St();var l=a.queue.dispatch;return a.memoizedState=t,[r,l,!1]}function Fa(t,r,a,l){return t={tag:t,create:a,deps:l,inst:r,next:null},r=Ie.updateQueue,r===null&&(r=fd(),Ie.updateQueue=r),a=r.lastEffect,a===null?r.lastEffect=t.next=t:(l=a.next,a.next=t,t.next=l,r.lastEffect=t),t}function _c(){return{destroy:void 0,resource:void 0}}function Vy(){return St().memoizedState}function Ec(t,r,a,l){var f=fn();l=l===void 0?null:l,Ie.flags|=t,f.memoizedState=Fa(1|r,_c(),a,l)}function Tl(t,r,a,l){var f=St();l=l===void 0?null:l;var d=f.memoizedState.inst;We!==null&&l!==null&&od(l,We.memoizedState.deps)?f.memoizedState=Fa(r,d,a,l):(Ie.flags|=t,f.memoizedState=Fa(1|r,d,a,l))}function Py(t,r){Ec(8390656,8,t,r)}function ky(t,r){Tl(2048,8,t,r)}function Ly(t,r){return Tl(4,2,t,r)}function Uy(t,r){return Tl(4,4,t,r)}function jy(t,r){if(typeof r=="function"){t=t();var a=r(t);return function(){typeof a=="function"?a():r(null)}}if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function zy(t,r,a){a=a!=null?a.concat([t]):null,Tl(4,4,jy.bind(null,r,t),a)}function vd(){}function By(t,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;return r!==null&&od(r,l[1])?l[0]:(a.memoizedState=[t,r],t)}function Hy(t,r){var a=St();r=r===void 0?null:r;var l=a.memoizedState;if(r!==null&&od(r,l[1]))return l[0];if(l=t(),Ys){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,r],l}function _d(t,r,a){return a===void 0||(Ir&1073741824)!==0?t.memoizedState=r:(t.memoizedState=a,t=Gv(),Ie.lanes|=t,Pr|=t,a)}function qy(t,r,a,l){return _n(a,r)?a:Ba.current!==null?(t=_d(t,a,l),_n(t,r)||(Lt=!0),t):(Ir&42)===0?(Lt=!0,t.memoizedState=a):(t=Gv(),Ie.lanes|=t,Pr|=t,r)}function Fy(t,r,a,l,f){var d=le.p;le.p=d!==0&&8>d?d:8;var _=W.T,S={};W.T=S,Sd(t,!1,r,a);try{var V=f(),$=W.S;if($!==null&&$(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=Sb(V,l);Sl(t,r,Z,bn(t))}else Sl(t,r,l,bn(t))}catch(ee){Sl(t,r,{then:function(){},status:"rejected",reason:ee},bn())}finally{le.p=d,W.T=_}}function Cb(){}function Ed(t,r,a,l){if(t.tag!==5)throw Error(s(476));var f=Gy(t).queue;Fy(t,f,r,ge,a===null?Cb:function(){return $y(t),a(l)})}function Gy(t){var r=t.memoizedState;if(r!==null)return r;r={memoizedState:ge,baseState:ge,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:ge},next:null};var a={};return r.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ki,lastRenderedState:a},next:null},t.memoizedState=r,t=t.alternate,t!==null&&(t.memoizedState=r),r}function $y(t){var r=Gy(t).next.queue;Sl(t,r,{},bn())}function Td(){return Jt(zl)}function Ky(){return St().memoizedState}function Qy(){return St().memoizedState}function Ib(t){for(var r=t.return;r!==null;){switch(r.tag){case 24:case 3:var a=bn();t=Rr(a);var l=Cr(r,t,a);l!==null&&(wn(l,r,a),gl(l,r,a)),r={cache:Wf()},t.payload=r;return}r=r.return}}function Nb(t,r,a){var l=bn();a={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Tc(t)?Xy(r,a):(a=Bf(t,r,a,l),a!==null&&(wn(a,t,l),Wy(a,r,l)))}function Yy(t,r,a){var l=bn();Sl(t,r,a,l)}function Sl(t,r,a,l){var f={lane:l,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tc(t))Xy(r,f);else{var d=t.alternate;if(t.lanes===0&&(d===null||d.lanes===0)&&(d=r.lastRenderedReducer,d!==null))try{var _=r.lastRenderedState,S=d(_,a);if(f.hasEagerState=!0,f.eagerState=S,_n(S,_))return rc(t,r,f,0),it===null&&ic(),!1}catch{}finally{}if(a=Bf(t,r,f,l),a!==null)return wn(a,t,l),Wy(a,r,l),!0}return!1}function Sd(t,r,a,l){if(l={lane:2,revertLane:em(),action:l,hasEagerState:!1,eagerState:null,next:null},Tc(t)){if(r)throw Error(s(479))}else r=Bf(t,a,l,2),r!==null&&wn(r,t,2)}function Tc(t){var r=t.alternate;return t===Ie||r!==null&&r===Ie}function Xy(t,r){Ha=pc=!0;var a=t.pending;a===null?r.next=r:(r.next=a.next,a.next=r),t.pending=r}function Wy(t,r,a){if((a&4194048)!==0){var l=r.lanes;l&=t.pendingLanes,a|=l,r.lanes=a,Fo(t,a)}}var Sc={readContext:Jt,use:yc,useCallback:gt,useContext:gt,useEffect:gt,useImperativeHandle:gt,useLayoutEffect:gt,useInsertionEffect:gt,useMemo:gt,useReducer:gt,useRef:gt,useState:gt,useDebugValue:gt,useDeferredValue:gt,useTransition:gt,useSyncExternalStore:gt,useId:gt,useHostTransitionStatus:gt,useFormState:gt,useActionState:gt,useOptimistic:gt,useMemoCache:gt,useCacheRefresh:gt},Zy={readContext:Jt,use:yc,useCallback:function(t,r){return fn().memoizedState=[t,r===void 0?null:r],t},useContext:Jt,useEffect:Py,useImperativeHandle:function(t,r,a){a=a!=null?a.concat([t]):null,Ec(4194308,4,jy.bind(null,r,t),a)},useLayoutEffect:function(t,r){return Ec(4194308,4,t,r)},useInsertionEffect:function(t,r){Ec(4,2,t,r)},useMemo:function(t,r){var a=fn();r=r===void 0?null:r;var l=t();if(Ys){yn(!0);try{t()}finally{yn(!1)}}return a.memoizedState=[l,r],l},useReducer:function(t,r,a){var l=fn();if(a!==void 0){var f=a(r);if(Ys){yn(!0);try{a(r)}finally{yn(!1)}}}else f=r;return l.memoizedState=l.baseState=f,t={pending:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:f},l.queue=t,t=t.dispatch=Nb.bind(null,Ie,t),[l.memoizedState,t]},useRef:function(t){var r=fn();return t={current:t},r.memoizedState=t},useState:function(t){t=gd(t);var r=t.queue,a=Yy.bind(null,Ie,r);return r.dispatch=a,[t.memoizedState,a]},useDebugValue:vd,useDeferredValue:function(t,r){var a=fn();return _d(a,t,r)},useTransition:function(){var t=gd(!1);return t=Fy.bind(null,Ie,t.queue,!0,!1),fn().memoizedState=t,[!1,t]},useSyncExternalStore:function(t,r,a){var l=Ie,f=fn();if(qe){if(a===void 0)throw Error(s(407));a=a()}else{if(a=r(),it===null)throw Error(s(349));(je&124)!==0||_y(l,r,a)}f.memoizedState=a;var d={value:a,getSnapshot:r};return f.queue=d,Py(Ty.bind(null,l,d,t),[t]),l.flags|=2048,Fa(9,_c(),Ey.bind(null,l,d,a,r),null),a},useId:function(){var t=fn(),r=it.identifierPrefix;if(qe){var a=Fi,l=qi;a=(l&~(1<<32-Zt(l)-1)).toString(32)+a,r="«"+r+"R"+a,a=gc++,0<a&&(r+="H"+a.toString(32)),r+="»"}else a=Ab++,r="«"+r+"r"+a.toString(32)+"»";return t.memoizedState=r},useHostTransitionStatus:Td,useFormState:Dy,useActionState:Dy,useOptimistic:function(t){var r=fn();r.memoizedState=r.baseState=t;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=a,r=Sd.bind(null,Ie,!0,a),a.dispatch=r,[t,r]},useMemoCache:dd,useCacheRefresh:function(){return fn().memoizedState=Ib.bind(null,Ie)}},Jy={readContext:Jt,use:yc,useCallback:By,useContext:Jt,useEffect:ky,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:Hy,useReducer:vc,useRef:Vy,useState:function(){return vc(Ki)},useDebugValue:vd,useDeferredValue:function(t,r){var a=St();return qy(a,We.memoizedState,t,r)},useTransition:function(){var t=vc(Ki)[0],r=St().memoizedState;return[typeof t=="boolean"?t:El(t),r]},useSyncExternalStore:vy,useId:Ky,useHostTransitionStatus:Td,useFormState:xy,useActionState:xy,useOptimistic:function(t,r){var a=St();return by(a,We,t,r)},useMemoCache:dd,useCacheRefresh:Qy},Db={readContext:Jt,use:yc,useCallback:By,useContext:Jt,useEffect:ky,useImperativeHandle:zy,useInsertionEffect:Ly,useLayoutEffect:Uy,useMemo:Hy,useReducer:pd,useRef:Vy,useState:function(){return pd(Ki)},useDebugValue:vd,useDeferredValue:function(t,r){var a=St();return We===null?_d(a,t,r):qy(a,We.memoizedState,t,r)},useTransition:function(){var t=pd(Ki)[0],r=St().memoizedState;return[typeof t=="boolean"?t:El(t),r]},useSyncExternalStore:vy,useId:Ky,useHostTransitionStatus:Td,useFormState:My,useActionState:My,useOptimistic:function(t,r){var a=St();return We!==null?by(a,We,t,r):(a.baseState=t,[t,a.queue.dispatch])},useMemoCache:dd,useCacheRefresh:Qy},Ga=null,Al=0;function Ac(t){var r=Al;return Al+=1,Ga===null&&(Ga=[]),cy(Ga,t,r)}function bl(t,r){r=r.props.ref,t.ref=r!==void 0?r:null}function bc(t,r){throw r.$$typeof===b?Error(s(525)):(t=Object.prototype.toString.call(r),Error(s(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t)))}function ev(t){var r=t._init;return r(t._payload)}function tv(t){function r(H,z){if(t){var G=H.deletions;G===null?(H.deletions=[z],H.flags|=16):G.push(z)}}function a(H,z){if(!t)return null;for(;z!==null;)r(H,z),z=z.sibling;return null}function l(H){for(var z=new Map;H!==null;)H.key!==null?z.set(H.key,H):z.set(H.index,H),H=H.sibling;return z}function f(H,z){return H=Hi(H,z),H.index=0,H.sibling=null,H}function d(H,z,G){return H.index=G,t?(G=H.alternate,G!==null?(G=G.index,G<z?(H.flags|=67108866,z):G):(H.flags|=67108866,z)):(H.flags|=1048576,z)}function _(H){return t&&H.alternate===null&&(H.flags|=67108866),H}function S(H,z,G,J){return z===null||z.tag!==6?(z=qf(G,H.mode,J),z.return=H,z):(z=f(z,G),z.return=H,z)}function V(H,z,G,J){var he=G.type;return he===C?Z(H,z,G.props.children,J,G.key):z!==null&&(z.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===D&&ev(he)===z.type)?(z=f(z,G.props),bl(z,G),z.return=H,z):(z=ac(G.type,G.key,G.props,null,H.mode,J),bl(z,G),z.return=H,z)}function $(H,z,G,J){return z===null||z.tag!==4||z.stateNode.containerInfo!==G.containerInfo||z.stateNode.implementation!==G.implementation?(z=Ff(G,H.mode,J),z.return=H,z):(z=f(z,G.children||[]),z.return=H,z)}function Z(H,z,G,J,he){return z===null||z.tag!==7?(z=Bs(G,H.mode,J,he),z.return=H,z):(z=f(z,G),z.return=H,z)}function ee(H,z,G){if(typeof z=="string"&&z!==""||typeof z=="number"||typeof z=="bigint")return z=qf(""+z,H.mode,G),z.return=H,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case T:return G=ac(z.type,z.key,z.props,null,H.mode,G),bl(G,z),G.return=H,G;case w:return z=Ff(z,H.mode,G),z.return=H,z;case D:var J=z._init;return z=J(z._payload),ee(H,z,G)}if(ht(z)||q(z))return z=Bs(z,H.mode,G,null),z.return=H,z;if(typeof z.then=="function")return ee(H,Ac(z),G);if(z.$$typeof===Y)return ee(H,cc(H,z),G);bc(H,z)}return null}function K(H,z,G,J){var he=z!==null?z.key:null;if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return he!==null?null:S(H,z,""+G,J);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case T:return G.key===he?V(H,z,G,J):null;case w:return G.key===he?$(H,z,G,J):null;case D:return he=G._init,G=he(G._payload),K(H,z,G,J)}if(ht(G)||q(G))return he!==null?null:Z(H,z,G,J,null);if(typeof G.then=="function")return K(H,z,Ac(G),J);if(G.$$typeof===Y)return K(H,z,cc(H,G),J);bc(H,G)}return null}function Q(H,z,G,J,he){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return H=H.get(G)||null,S(z,H,""+J,he);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case T:return H=H.get(J.key===null?G:J.key)||null,V(z,H,J,he);case w:return H=H.get(J.key===null?G:J.key)||null,$(z,H,J,he);case D:var xe=J._init;return J=xe(J._payload),Q(H,z,G,J,he)}if(ht(J)||q(J))return H=H.get(G)||null,Z(z,H,J,he,null);if(typeof J.then=="function")return Q(H,z,G,Ac(J),he);if(J.$$typeof===Y)return Q(H,z,G,cc(z,J),he);bc(z,J)}return null}function Ae(H,z,G,J){for(var he=null,xe=null,me=z,Ee=z=0,jt=null;me!==null&&Ee<G.length;Ee++){me.index>Ee?(jt=me,me=null):jt=me.sibling;var Be=K(H,me,G[Ee],J);if(Be===null){me===null&&(me=jt);break}t&&me&&Be.alternate===null&&r(H,me),z=d(Be,z,Ee),xe===null?he=Be:xe.sibling=Be,xe=Be,me=jt}if(Ee===G.length)return a(H,me),qe&&qs(H,Ee),he;if(me===null){for(;Ee<G.length;Ee++)me=ee(H,G[Ee],J),me!==null&&(z=d(me,z,Ee),xe===null?he=me:xe.sibling=me,xe=me);return qe&&qs(H,Ee),he}for(me=l(me);Ee<G.length;Ee++)jt=Q(me,H,Ee,G[Ee],J),jt!==null&&(t&&jt.alternate!==null&&me.delete(jt.key===null?Ee:jt.key),z=d(jt,z,Ee),xe===null?he=jt:xe.sibling=jt,xe=jt);return t&&me.forEach(function(Fr){return r(H,Fr)}),qe&&qs(H,Ee),he}function _e(H,z,G,J){if(G==null)throw Error(s(151));for(var he=null,xe=null,me=z,Ee=z=0,jt=null,Be=G.next();me!==null&&!Be.done;Ee++,Be=G.next()){me.index>Ee?(jt=me,me=null):jt=me.sibling;var Fr=K(H,me,Be.value,J);if(Fr===null){me===null&&(me=jt);break}t&&me&&Fr.alternate===null&&r(H,me),z=d(Fr,z,Ee),xe===null?he=Fr:xe.sibling=Fr,xe=Fr,me=jt}if(Be.done)return a(H,me),qe&&qs(H,Ee),he;if(me===null){for(;!Be.done;Ee++,Be=G.next())Be=ee(H,Be.value,J),Be!==null&&(z=d(Be,z,Ee),xe===null?he=Be:xe.sibling=Be,xe=Be);return qe&&qs(H,Ee),he}for(me=l(me);!Be.done;Ee++,Be=G.next())Be=Q(me,H,Ee,Be.value,J),Be!==null&&(t&&Be.alternate!==null&&me.delete(Be.key===null?Ee:Be.key),z=d(Be,z,Ee),xe===null?he=Be:xe.sibling=Be,xe=Be);return t&&me.forEach(function(xw){return r(H,xw)}),qe&&qs(H,Ee),he}function Je(H,z,G,J){if(typeof G=="object"&&G!==null&&G.type===C&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case T:e:{for(var he=G.key;z!==null;){if(z.key===he){if(he=G.type,he===C){if(z.tag===7){a(H,z.sibling),J=f(z,G.props.children),J.return=H,H=J;break e}}else if(z.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===D&&ev(he)===z.type){a(H,z.sibling),J=f(z,G.props),bl(J,G),J.return=H,H=J;break e}a(H,z);break}else r(H,z);z=z.sibling}G.type===C?(J=Bs(G.props.children,H.mode,J,G.key),J.return=H,H=J):(J=ac(G.type,G.key,G.props,null,H.mode,J),bl(J,G),J.return=H,H=J)}return _(H);case w:e:{for(he=G.key;z!==null;){if(z.key===he)if(z.tag===4&&z.stateNode.containerInfo===G.containerInfo&&z.stateNode.implementation===G.implementation){a(H,z.sibling),J=f(z,G.children||[]),J.return=H,H=J;break e}else{a(H,z);break}else r(H,z);z=z.sibling}J=Ff(G,H.mode,J),J.return=H,H=J}return _(H);case D:return he=G._init,G=he(G._payload),Je(H,z,G,J)}if(ht(G))return Ae(H,z,G,J);if(q(G)){if(he=q(G),typeof he!="function")throw Error(s(150));return G=he.call(G),_e(H,z,G,J)}if(typeof G.then=="function")return Je(H,z,Ac(G),J);if(G.$$typeof===Y)return Je(H,z,cc(H,G),J);bc(H,G)}return typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint"?(G=""+G,z!==null&&z.tag===6?(a(H,z.sibling),J=f(z,G),J.return=H,H=J):(a(H,z),J=qf(G,H.mode,J),J.return=H,H=J),_(H)):a(H,z)}return function(H,z,G,J){try{Al=0;var he=Je(H,z,G,J);return Ga=null,he}catch(me){if(me===ml||me===fc)throw me;var xe=En(29,me,null,H.mode);return xe.lanes=J,xe.return=H,xe}finally{}}}var $a=tv(!0),nv=tv(!1),Ln=ne(null),pi=null;function Nr(t){var r=t.alternate;re(Dt,Dt.current&1),re(Ln,t),pi===null&&(r===null||Ba.current!==null||r.memoizedState!==null)&&(pi=t)}function iv(t){if(t.tag===22){if(re(Dt,Dt.current),re(Ln,t),pi===null){var r=t.alternate;r!==null&&r.memoizedState!==null&&(pi=t)}}else Dr()}function Dr(){re(Dt,Dt.current),re(Ln,Ln.current)}function Qi(t){ue(Ln),pi===t&&(pi=null),ue(Dt)}var Dt=ne(0);function wc(t){for(var r=t;r!==null;){if(r.tag===13){var a=r.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||fm(a)))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}function Ad(t,r,a,l){r=t.memoizedState,a=a(l,r),a=a==null?r:E({},r,a),t.memoizedState=a,t.lanes===0&&(t.updateQueue.baseState=a)}var bd={enqueueSetState:function(t,r,a){t=t._reactInternals;var l=bn(),f=Rr(l);f.payload=r,a!=null&&(f.callback=a),r=Cr(t,f,l),r!==null&&(wn(r,t,l),gl(r,t,l))},enqueueReplaceState:function(t,r,a){t=t._reactInternals;var l=bn(),f=Rr(l);f.tag=1,f.payload=r,a!=null&&(f.callback=a),r=Cr(t,f,l),r!==null&&(wn(r,t,l),gl(r,t,l))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var a=bn(),l=Rr(a);l.tag=2,r!=null&&(l.callback=r),r=Cr(t,l,a),r!==null&&(wn(r,t,a),gl(r,t,a))}};function rv(t,r,a,l,f,d,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(l,d,_):r.prototype&&r.prototype.isPureReactComponent?!al(a,l)||!al(f,d):!0}function sv(t,r,a,l){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(a,l),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(a,l),r.state!==t&&bd.enqueueReplaceState(r,r.state,null)}function Xs(t,r){var a=r;if("ref"in r){a={};for(var l in r)l!=="ref"&&(a[l]=r[l])}if(t=t.defaultProps){a===r&&(a=E({},a));for(var f in t)a[f]===void 0&&(a[f]=t[f])}return a}var Rc=typeof reportError=="function"?reportError:function(t){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof t=="object"&&t!==null&&typeof t.message=="string"?String(t.message):String(t),error:t});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",t);return}console.error(t)};function av(t){Rc(t)}function ov(t){console.error(t)}function lv(t){Rc(t)}function Cc(t,r){try{var a=t.onUncaughtError;a(r.value,{componentStack:r.stack})}catch(l){setTimeout(function(){throw l})}}function uv(t,r,a){try{var l=t.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(f){setTimeout(function(){throw f})}}function wd(t,r,a){return a=Rr(a),a.tag=3,a.payload={element:null},a.callback=function(){Cc(t,r)},a}function cv(t){return t=Rr(t),t.tag=3,t}function hv(t,r,a,l){var f=a.type.getDerivedStateFromError;if(typeof f=="function"){var d=l.value;t.payload=function(){return f(d)},t.callback=function(){uv(r,a,l)}}var _=a.stateNode;_!==null&&typeof _.componentDidCatch=="function"&&(t.callback=function(){uv(r,a,l),typeof f!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var S=l.stack;this.componentDidCatch(l.value,{componentStack:S!==null?S:""})})}function xb(t,r,a,l,f){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(r=a.alternate,r!==null&&hl(r,a,f,!0),a=Ln.current,a!==null){switch(a.tag){case 13:return pi===null?Yd():a.alternate===null&&mt===0&&(mt=3),a.flags&=-257,a.flags|=65536,a.lanes=f,l===ed?a.flags|=16384:(r=a.updateQueue,r===null?a.updateQueue=new Set([l]):r.add(l),Wd(t,l,f)),!1;case 22:return a.flags|=65536,l===ed?a.flags|=16384:(r=a.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=r):(a=r.retryQueue,a===null?r.retryQueue=new Set([l]):a.add(l)),Wd(t,l,f)),!1}throw Error(s(435,a.tag))}return Wd(t,l,f),Yd(),!1}if(qe)return r=Ln.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=f,l!==Kf&&(t=Error(s(422),{cause:l}),cl(Mn(t,a)))):(l!==Kf&&(r=Error(s(423),{cause:l}),cl(Mn(r,a))),t=t.current.alternate,t.flags|=65536,f&=-f,t.lanes|=f,l=Mn(l,a),f=wd(t.stateNode,l,f),id(t,f),mt!==4&&(mt=2)),!1;var d=Error(s(520),{cause:l});if(d=Mn(d,a),xl===null?xl=[d]:xl.push(d),mt!==4&&(mt=2),r===null)return!0;l=Mn(l,a),a=r;do{switch(a.tag){case 3:return a.flags|=65536,t=f&-f,a.lanes|=t,t=wd(a.stateNode,l,t),id(a,t),!1;case 1:if(r=a.type,d=a.stateNode,(a.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||d!==null&&typeof d.componentDidCatch=="function"&&(kr===null||!kr.has(d))))return a.flags|=65536,f&=-f,a.lanes|=f,f=cv(f),hv(f,t,a,l),id(a,f),!1}a=a.return}while(a!==null);return!1}var fv=Error(s(461)),Lt=!1;function Ft(t,r,a,l){r.child=t===null?nv(r,null,a,l):$a(r,t.child,a,l)}function dv(t,r,a,l,f){a=a.render;var d=r.ref;if("ref"in l){var _={};for(var S in l)S!=="ref"&&(_[S]=l[S])}else _=l;return Ks(r),l=ld(t,r,a,_,d,f),S=ud(),t!==null&&!Lt?(cd(t,r,f),Yi(t,r,f)):(qe&&S&&Gf(r),r.flags|=1,Ft(t,r,l,f),r.child)}function mv(t,r,a,l,f){if(t===null){var d=a.type;return typeof d=="function"&&!Hf(d)&&d.defaultProps===void 0&&a.compare===null?(r.tag=15,r.type=d,pv(t,r,d,l,f)):(t=ac(a.type,null,l,r,r.mode,f),t.ref=r.ref,t.return=r,r.child=t)}if(d=t.child,!Md(t,f)){var _=d.memoizedProps;if(a=a.compare,a=a!==null?a:al,a(_,l)&&t.ref===r.ref)return Yi(t,r,f)}return r.flags|=1,t=Hi(d,l),t.ref=r.ref,t.return=r,r.child=t}function pv(t,r,a,l,f){if(t!==null){var d=t.memoizedProps;if(al(d,l)&&t.ref===r.ref)if(Lt=!1,r.pendingProps=l=d,Md(t,f))(t.flags&131072)!==0&&(Lt=!0);else return r.lanes=t.lanes,Yi(t,r,f)}return Rd(t,r,a,l,f)}function gv(t,r,a){var l=r.pendingProps,f=l.children,d=t!==null?t.memoizedState:null;if(l.mode==="hidden"){if((r.flags&128)!==0){if(l=d!==null?d.baseLanes|a:a,t!==null){for(f=r.child=t.child,d=0;f!==null;)d=d|f.lanes|f.childLanes,f=f.sibling;r.childLanes=d&~l}else r.childLanes=0,r.child=null;return yv(t,r,l,a)}if((a&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},t!==null&&hc(r,d!==null?d.cachePool:null),d!==null?py(r,d):sd(),iv(r);else return r.lanes=r.childLanes=536870912,yv(t,r,d!==null?d.baseLanes|a:a,a)}else d!==null?(hc(r,d.cachePool),py(r,d),Dr(),r.memoizedState=null):(t!==null&&hc(r,null),sd(),Dr());return Ft(t,r,f,a),r.child}function yv(t,r,a,l){var f=Jf();return f=f===null?null:{parent:Nt._currentValue,pool:f},r.memoizedState={baseLanes:a,cachePool:f},t!==null&&hc(r,null),sd(),iv(r),t!==null&&hl(t,r,l,!0),null}function Ic(t,r){var a=r.ref;if(a===null)t!==null&&t.ref!==null&&(r.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(s(284));(t===null||t.ref!==a)&&(r.flags|=4194816)}}function Rd(t,r,a,l,f){return Ks(r),a=ld(t,r,a,l,void 0,f),l=ud(),t!==null&&!Lt?(cd(t,r,f),Yi(t,r,f)):(qe&&l&&Gf(r),r.flags|=1,Ft(t,r,a,f),r.child)}function vv(t,r,a,l,f,d){return Ks(r),r.updateQueue=null,a=yy(r,l,a,f),gy(t),l=ud(),t!==null&&!Lt?(cd(t,r,d),Yi(t,r,d)):(qe&&l&&Gf(r),r.flags|=1,Ft(t,r,a,d),r.child)}function _v(t,r,a,l,f){if(Ks(r),r.stateNode===null){var d=ka,_=a.contextType;typeof _=="object"&&_!==null&&(d=Jt(_)),d=new a(l,d),r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,d.updater=bd,r.stateNode=d,d._reactInternals=r,d=r.stateNode,d.props=l,d.state=r.memoizedState,d.refs={},td(r),_=a.contextType,d.context=typeof _=="object"&&_!==null?Jt(_):ka,d.state=r.memoizedState,_=a.getDerivedStateFromProps,typeof _=="function"&&(Ad(r,a,_,l),d.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(_=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),_!==d.state&&bd.enqueueReplaceState(d,d.state,null),vl(r,l,d,f),yl(),d.state=r.memoizedState),typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!0}else if(t===null){d=r.stateNode;var S=r.memoizedProps,V=Xs(a,S);d.props=V;var $=d.context,Z=a.contextType;_=ka,typeof Z=="object"&&Z!==null&&(_=Jt(Z));var ee=a.getDerivedStateFromProps;Z=typeof ee=="function"||typeof d.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(S||$!==_)&&sv(r,d,l,_),wr=!1;var K=r.memoizedState;d.state=K,vl(r,l,d,f),yl(),$=r.memoizedState,S||K!==$||wr?(typeof ee=="function"&&(Ad(r,a,ee,l),$=r.memoizedState),(V=wr||rv(r,a,V,l,K,$,_))?(Z||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount()),typeof d.componentDidMount=="function"&&(r.flags|=4194308)):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=l,r.memoizedState=$),d.props=l,d.state=$,d.context=_,l=V):(typeof d.componentDidMount=="function"&&(r.flags|=4194308),l=!1)}else{d=r.stateNode,nd(t,r),_=r.memoizedProps,Z=Xs(a,_),d.props=Z,ee=r.pendingProps,K=d.context,$=a.contextType,V=ka,typeof $=="object"&&$!==null&&(V=Jt($)),S=a.getDerivedStateFromProps,($=typeof S=="function"||typeof d.getSnapshotBeforeUpdate=="function")||typeof d.UNSAFE_componentWillReceiveProps!="function"&&typeof d.componentWillReceiveProps!="function"||(_!==ee||K!==V)&&sv(r,d,l,V),wr=!1,K=r.memoizedState,d.state=K,vl(r,l,d,f),yl();var Q=r.memoizedState;_!==ee||K!==Q||wr||t!==null&&t.dependencies!==null&&uc(t.dependencies)?(typeof S=="function"&&(Ad(r,a,S,l),Q=r.memoizedState),(Z=wr||rv(r,a,Z,l,K,Q,V)||t!==null&&t.dependencies!==null&&uc(t.dependencies))?($||typeof d.UNSAFE_componentWillUpdate!="function"&&typeof d.componentWillUpdate!="function"||(typeof d.componentWillUpdate=="function"&&d.componentWillUpdate(l,Q,V),typeof d.UNSAFE_componentWillUpdate=="function"&&d.UNSAFE_componentWillUpdate(l,Q,V)),typeof d.componentDidUpdate=="function"&&(r.flags|=4),typeof d.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=l,r.memoizedState=Q),d.props=l,d.state=Q,d.context=V,l=Z):(typeof d.componentDidUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof d.getSnapshotBeforeUpdate!="function"||_===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),l=!1)}return d=l,Ic(t,r),l=(r.flags&128)!==0,d||l?(d=r.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:d.render(),r.flags|=1,t!==null&&l?(r.child=$a(r,t.child,null,f),r.child=$a(r,null,a,f)):Ft(t,r,a,f),r.memoizedState=d.state,t=r.child):t=Yi(t,r,f),t}function Ev(t,r,a,l){return ul(),r.flags|=256,Ft(t,r,a,l),r.child}var Cd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Id(t){return{baseLanes:t,cachePool:oy()}}function Nd(t,r,a){return t=t!==null?t.childLanes&~a:0,r&&(t|=Un),t}function Tv(t,r,a){var l=r.pendingProps,f=!1,d=(r.flags&128)!==0,_;if((_=d)||(_=t!==null&&t.memoizedState===null?!1:(Dt.current&2)!==0),_&&(f=!0,r.flags&=-129),_=(r.flags&32)!==0,r.flags&=-33,t===null){if(qe){if(f?Nr(r):Dr(),qe){var S=dt,V;if(V=S){e:{for(V=S,S=mi;V.nodeType!==8;){if(!S){S=null;break e}if(V=Qn(V.nextSibling),V===null){S=null;break e}}S=V}S!==null?(r.memoizedState={dehydrated:S,treeContext:Hs!==null?{id:qi,overflow:Fi}:null,retryLane:536870912,hydrationErrors:null},V=En(18,null,null,0),V.stateNode=S,V.return=r,r.child=V,hn=r,dt=null,V=!0):V=!1}V||Gs(r)}if(S=r.memoizedState,S!==null&&(S=S.dehydrated,S!==null))return fm(S)?r.lanes=32:r.lanes=536870912,null;Qi(r)}return S=l.children,l=l.fallback,f?(Dr(),f=r.mode,S=Nc({mode:"hidden",children:S},f),l=Bs(l,f,a,null),S.return=r,l.return=r,S.sibling=l,r.child=S,f=r.child,f.memoizedState=Id(a),f.childLanes=Nd(t,_,a),r.memoizedState=Cd,l):(Nr(r),Dd(r,S))}if(V=t.memoizedState,V!==null&&(S=V.dehydrated,S!==null)){if(d)r.flags&256?(Nr(r),r.flags&=-257,r=xd(t,r,a)):r.memoizedState!==null?(Dr(),r.child=t.child,r.flags|=128,r=null):(Dr(),f=l.fallback,S=r.mode,l=Nc({mode:"visible",children:l.children},S),f=Bs(f,S,a,null),f.flags|=2,l.return=r,f.return=r,l.sibling=f,r.child=l,$a(r,t.child,null,a),l=r.child,l.memoizedState=Id(a),l.childLanes=Nd(t,_,a),r.memoizedState=Cd,r=f);else if(Nr(r),fm(S)){if(_=S.nextSibling&&S.nextSibling.dataset,_)var $=_.dgst;_=$,l=Error(s(419)),l.stack="",l.digest=_,cl({value:l,source:null,stack:null}),r=xd(t,r,a)}else if(Lt||hl(t,r,a,!1),_=(a&t.childLanes)!==0,Lt||_){if(_=it,_!==null&&(l=a&-a,l=(l&42)!==0?1:yr(l),l=(l&(_.suspendedLanes|a))!==0?0:l,l!==0&&l!==V.retryLane))throw V.retryLane=l,Pa(t,l),wn(_,t,l),fv;S.data==="$?"||Yd(),r=xd(t,r,a)}else S.data==="$?"?(r.flags|=192,r.child=t.child,r=null):(t=V.treeContext,dt=Qn(S.nextSibling),hn=r,qe=!0,Fs=null,mi=!1,t!==null&&(Pn[kn++]=qi,Pn[kn++]=Fi,Pn[kn++]=Hs,qi=t.id,Fi=t.overflow,Hs=r),r=Dd(r,l.children),r.flags|=4096);return r}return f?(Dr(),f=l.fallback,S=r.mode,V=t.child,$=V.sibling,l=Hi(V,{mode:"hidden",children:l.children}),l.subtreeFlags=V.subtreeFlags&65011712,$!==null?f=Hi($,f):(f=Bs(f,S,a,null),f.flags|=2),f.return=r,l.return=r,l.sibling=f,r.child=l,l=f,f=r.child,S=t.child.memoizedState,S===null?S=Id(a):(V=S.cachePool,V!==null?($=Nt._currentValue,V=V.parent!==$?{parent:$,pool:$}:V):V=oy(),S={baseLanes:S.baseLanes|a,cachePool:V}),f.memoizedState=S,f.childLanes=Nd(t,_,a),r.memoizedState=Cd,l):(Nr(r),a=t.child,t=a.sibling,a=Hi(a,{mode:"visible",children:l.children}),a.return=r,a.sibling=null,t!==null&&(_=r.deletions,_===null?(r.deletions=[t],r.flags|=16):_.push(t)),r.child=a,r.memoizedState=null,a)}function Dd(t,r){return r=Nc({mode:"visible",children:r},t.mode),r.return=t,t.child=r}function Nc(t,r){return t=En(22,t,null,r),t.lanes=0,t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},t}function xd(t,r,a){return $a(r,t.child,null,a),t=Dd(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Sv(t,r,a){t.lanes|=r;var l=t.alternate;l!==null&&(l.lanes|=r),Yf(t.return,r,a)}function Od(t,r,a,l,f){var d=t.memoizedState;d===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:f}:(d.isBackwards=r,d.rendering=null,d.renderingStartTime=0,d.last=l,d.tail=a,d.tailMode=f)}function Av(t,r,a){var l=r.pendingProps,f=l.revealOrder,d=l.tail;if(Ft(t,r,l.children,a),l=Dt.current,(l&2)!==0)l=l&1|2,r.flags|=128;else{if(t!==null&&(t.flags&128)!==0)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Sv(t,a,r);else if(t.tag===19)Sv(t,a,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}l&=1}switch(re(Dt,l),f){case"forwards":for(a=r.child,f=null;a!==null;)t=a.alternate,t!==null&&wc(t)===null&&(f=a),a=a.sibling;a=f,a===null?(f=r.child,r.child=null):(f=a.sibling,a.sibling=null),Od(r,!1,f,a,d);break;case"backwards":for(a=null,f=r.child,r.child=null;f!==null;){if(t=f.alternate,t!==null&&wc(t)===null){r.child=f;break}t=f.sibling,f.sibling=a,a=f,f=t}Od(r,!0,a,null,d);break;case"together":Od(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function Yi(t,r,a){if(t!==null&&(r.dependencies=t.dependencies),Pr|=r.lanes,(a&r.childLanes)===0)if(t!==null){if(hl(t,r,a,!1),(a&r.childLanes)===0)return null}else return null;if(t!==null&&r.child!==t.child)throw Error(s(153));if(r.child!==null){for(t=r.child,a=Hi(t,t.pendingProps),r.child=a,a.return=r;t.sibling!==null;)t=t.sibling,a=a.sibling=Hi(t,t.pendingProps),a.return=r;a.sibling=null}return r.child}function Md(t,r){return(t.lanes&r)!==0?!0:(t=t.dependencies,!!(t!==null&&uc(t)))}function Ob(t,r,a){switch(r.tag){case 3:nt(r,r.stateNode.containerInfo),br(r,Nt,t.memoizedState.cache),ul();break;case 27:case 5:gr(r);break;case 4:nt(r,r.stateNode.containerInfo);break;case 10:br(r,r.type,r.memoizedProps.value);break;case 13:var l=r.memoizedState;if(l!==null)return l.dehydrated!==null?(Nr(r),r.flags|=128,null):(a&r.child.childLanes)!==0?Tv(t,r,a):(Nr(r),t=Yi(t,r,a),t!==null?t.sibling:null);Nr(r);break;case 19:var f=(t.flags&128)!==0;if(l=(a&r.childLanes)!==0,l||(hl(t,r,a,!1),l=(a&r.childLanes)!==0),f){if(l)return Av(t,r,a);r.flags|=128}if(f=r.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),re(Dt,Dt.current),l)break;return null;case 22:case 23:return r.lanes=0,gv(t,r,a);case 24:br(r,Nt,t.memoizedState.cache)}return Yi(t,r,a)}function bv(t,r,a){if(t!==null)if(t.memoizedProps!==r.pendingProps)Lt=!0;else{if(!Md(t,a)&&(r.flags&128)===0)return Lt=!1,Ob(t,r,a);Lt=(t.flags&131072)!==0}else Lt=!1,qe&&(r.flags&1048576)!==0&&ey(r,lc,r.index);switch(r.lanes=0,r.tag){case 16:e:{t=r.pendingProps;var l=r.elementType,f=l._init;if(l=f(l._payload),r.type=l,typeof l=="function")Hf(l)?(t=Xs(l,t),r.tag=1,r=_v(null,r,l,t,a)):(r.tag=0,r=Rd(null,r,l,t,a));else{if(l!=null){if(f=l.$$typeof,f===ae){r.tag=11,r=dv(null,r,l,t,a);break e}else if(f===U){r.tag=14,r=mv(null,r,l,t,a);break e}}throw r=Bt(l)||l,Error(s(306,r,""))}}return r;case 0:return Rd(t,r,r.type,r.pendingProps,a);case 1:return l=r.type,f=Xs(l,r.pendingProps),_v(t,r,l,f,a);case 3:e:{if(nt(r,r.stateNode.containerInfo),t===null)throw Error(s(387));l=r.pendingProps;var d=r.memoizedState;f=d.element,nd(t,r),vl(r,l,null,a);var _=r.memoizedState;if(l=_.cache,br(r,Nt,l),l!==d.cache&&Xf(r,[Nt],a,!0),yl(),l=_.element,d.isDehydrated)if(d={element:l,isDehydrated:!1,cache:_.cache},r.updateQueue.baseState=d,r.memoizedState=d,r.flags&256){r=Ev(t,r,l,a);break e}else if(l!==f){f=Mn(Error(s(424)),r),cl(f),r=Ev(t,r,l,a);break e}else{switch(t=r.stateNode.containerInfo,t.nodeType){case 9:t=t.body;break;default:t=t.nodeName==="HTML"?t.ownerDocument.body:t}for(dt=Qn(t.firstChild),hn=r,qe=!0,Fs=null,mi=!0,a=nv(r,null,l,a),r.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ul(),l===f){r=Yi(t,r,a);break e}Ft(t,r,l,a)}r=r.child}return r;case 26:return Ic(t,r),t===null?(a=I_(r.type,null,r.pendingProps,null))?r.memoizedState=a:qe||(a=r.type,t=r.pendingProps,l=qc(be.current).createElement(a),l[Rt]=r,l[_t]=t,$t(l,a,t),pt(l),r.stateNode=l):r.memoizedState=I_(r.type,t.memoizedProps,r.pendingProps,t.memoizedState),null;case 27:return gr(r),t===null&&qe&&(l=r.stateNode=w_(r.type,r.pendingProps,be.current),hn=r,mi=!0,f=dt,jr(r.type)?(dm=f,dt=Qn(l.firstChild)):dt=f),Ft(t,r,r.pendingProps.children,a),Ic(t,r),t===null&&(r.flags|=4194304),r.child;case 5:return t===null&&qe&&((f=l=dt)&&(l=aw(l,r.type,r.pendingProps,mi),l!==null?(r.stateNode=l,hn=r,dt=Qn(l.firstChild),mi=!1,f=!0):f=!1),f||Gs(r)),gr(r),f=r.type,d=r.pendingProps,_=t!==null?t.memoizedProps:null,l=d.children,um(f,d)?l=null:_!==null&&um(f,_)&&(r.flags|=32),r.memoizedState!==null&&(f=ld(t,r,bb,null,null,a),zl._currentValue=f),Ic(t,r),Ft(t,r,l,a),r.child;case 6:return t===null&&qe&&((t=a=dt)&&(a=ow(a,r.pendingProps,mi),a!==null?(r.stateNode=a,hn=r,dt=null,t=!0):t=!1),t||Gs(r)),null;case 13:return Tv(t,r,a);case 4:return nt(r,r.stateNode.containerInfo),l=r.pendingProps,t===null?r.child=$a(r,null,l,a):Ft(t,r,l,a),r.child;case 11:return dv(t,r,r.type,r.pendingProps,a);case 7:return Ft(t,r,r.pendingProps,a),r.child;case 8:return Ft(t,r,r.pendingProps.children,a),r.child;case 12:return Ft(t,r,r.pendingProps.children,a),r.child;case 10:return l=r.pendingProps,br(r,r.type,l.value),Ft(t,r,l.children,a),r.child;case 9:return f=r.type._context,l=r.pendingProps.children,Ks(r),f=Jt(f),l=l(f),r.flags|=1,Ft(t,r,l,a),r.child;case 14:return mv(t,r,r.type,r.pendingProps,a);case 15:return pv(t,r,r.type,r.pendingProps,a);case 19:return Av(t,r,a);case 31:return l=r.pendingProps,a=r.mode,l={mode:l.mode,children:l.children},t===null?(a=Nc(l,a),a.ref=r.ref,r.child=a,a.return=r,r=a):(a=Hi(t.child,l),a.ref=r.ref,r.child=a,a.return=r,r=a),r;case 22:return gv(t,r,a);case 24:return Ks(r),l=Jt(Nt),t===null?(f=Jf(),f===null&&(f=it,d=Wf(),f.pooledCache=d,d.refCount++,d!==null&&(f.pooledCacheLanes|=a),f=d),r.memoizedState={parent:l,cache:f},td(r),br(r,Nt,f)):((t.lanes&a)!==0&&(nd(t,r),vl(r,null,null,a),yl()),f=t.memoizedState,d=r.memoizedState,f.parent!==l?(f={parent:l,cache:l},r.memoizedState=f,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=f),br(r,Nt,l)):(l=d.cache,br(r,Nt,l),l!==f.cache&&Xf(r,[Nt],a,!0))),Ft(t,r,r.pendingProps.children,a),r.child;case 29:throw r.pendingProps}throw Error(s(156,r.tag))}function Xi(t){t.flags|=4}function wv(t,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)t.flags&=-16777217;else if(t.flags|=16777216,!M_(r)){if(r=Ln.current,r!==null&&((je&4194048)===je?pi!==null:(je&62914560)!==je&&(je&536870912)===0||r!==pi))throw pl=ed,ly;t.flags|=8192}}function Dc(t,r){r!==null&&(t.flags|=4),t.flags&16384&&(r=t.tag!==22?Ho():536870912,t.lanes|=r,Xa|=r)}function wl(t,r){if(!qe)switch(t.tailMode){case"hidden":r=t.tail;for(var a=null;r!==null;)r.alternate!==null&&(a=r),r=r.sibling;a===null?t.tail=null:a.sibling=null;break;case"collapsed":a=t.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:l.sibling=null}}function ut(t){var r=t.alternate!==null&&t.alternate.child===t.child,a=0,l=0;if(r)for(var f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags&65011712,l|=f.flags&65011712,f.return=t,f=f.sibling;else for(f=t.child;f!==null;)a|=f.lanes|f.childLanes,l|=f.subtreeFlags,l|=f.flags,f.return=t,f=f.sibling;return t.subtreeFlags|=l,t.childLanes=a,r}function Mb(t,r,a){var l=r.pendingProps;switch($f(r),r.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ut(r),null;case 1:return ut(r),null;case 3:return a=r.stateNode,l=null,t!==null&&(l=t.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),$i(Nt),ni(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(t===null||t.child===null)&&(ll(r)?Xi(r):t===null||t.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,iy())),ut(r),null;case 26:return a=r.memoizedState,t===null?(Xi(r),a!==null?(ut(r),wv(r,a)):(ut(r),r.flags&=-16777217)):a?a!==t.memoizedState?(Xi(r),ut(r),wv(r,a)):(ut(r),r.flags&=-16777217):(t.memoizedProps!==l&&Xi(r),ut(r),r.flags&=-16777217),null;case 27:Ni(r),a=be.current;var f=r.type;if(t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}t=ye.current,ll(r)?ty(r):(t=w_(f,l,a),r.stateNode=t,Xi(r))}return ut(r),null;case 5:if(Ni(r),a=r.type,t!==null&&r.stateNode!=null)t.memoizedProps!==l&&Xi(r);else{if(!l){if(r.stateNode===null)throw Error(s(166));return ut(r),null}if(t=ye.current,ll(r))ty(r);else{switch(f=qc(be.current),t){case 1:t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":t=f.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":t=f.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":t=f.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild);break;case"select":t=typeof l.is=="string"?f.createElement("select",{is:l.is}):f.createElement("select"),l.multiple?t.multiple=!0:l.size&&(t.size=l.size);break;default:t=typeof l.is=="string"?f.createElement(a,{is:l.is}):f.createElement(a)}}t[Rt]=r,t[_t]=l;e:for(f=r.child;f!==null;){if(f.tag===5||f.tag===6)t.appendChild(f.stateNode);else if(f.tag!==4&&f.tag!==27&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===r)break e;for(;f.sibling===null;){if(f.return===null||f.return===r)break e;f=f.return}f.sibling.return=f.return,f=f.sibling}r.stateNode=t;e:switch($t(t,a,l),a){case"button":case"input":case"select":case"textarea":t=!!l.autoFocus;break e;case"img":t=!0;break e;default:t=!1}t&&Xi(r)}}return ut(r),r.flags&=-16777217,null;case 6:if(t&&r.stateNode!=null)t.memoizedProps!==l&&Xi(r);else{if(typeof l!="string"&&r.stateNode===null)throw Error(s(166));if(t=be.current,ll(r)){if(t=r.stateNode,a=r.memoizedProps,l=null,f=hn,f!==null)switch(f.tag){case 27:case 5:l=f.memoizedProps}t[Rt]=r,t=!!(t.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||v_(t.nodeValue,a)),t||Gs(r)}else t=qc(t).createTextNode(l),t[Rt]=r,r.stateNode=t}return ut(r),null;case 13:if(l=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(f=ll(r),l!==null&&l.dehydrated!==null){if(t===null){if(!f)throw Error(s(318));if(f=r.memoizedState,f=f!==null?f.dehydrated:null,!f)throw Error(s(317));f[Rt]=r}else ul(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ut(r),f=!1}else f=iy(),t!==null&&t.memoizedState!==null&&(t.memoizedState.hydrationErrors=f),f=!0;if(!f)return r.flags&256?(Qi(r),r):(Qi(r),null)}if(Qi(r),(r.flags&128)!==0)return r.lanes=a,r;if(a=l!==null,t=t!==null&&t.memoizedState!==null,a){l=r.child,f=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(f=l.alternate.memoizedState.cachePool.pool);var d=null;l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(d=l.memoizedState.cachePool.pool),d!==f&&(l.flags|=2048)}return a!==t&&a&&(r.child.flags|=8192),Dc(r,r.updateQueue),ut(r),null;case 4:return ni(),t===null&&rm(r.stateNode.containerInfo),ut(r),null;case 10:return $i(r.type),ut(r),null;case 19:if(ue(Dt),f=r.memoizedState,f===null)return ut(r),null;if(l=(r.flags&128)!==0,d=f.rendering,d===null)if(l)wl(f,!1);else{if(mt!==0||t!==null&&(t.flags&128)!==0)for(t=r.child;t!==null;){if(d=wc(t),d!==null){for(r.flags|=128,wl(f,!1),t=d.updateQueue,r.updateQueue=t,Dc(r,t),r.subtreeFlags=0,t=a,a=r.child;a!==null;)Jg(a,t),a=a.sibling;return re(Dt,Dt.current&1|2),r.child}t=t.sibling}f.tail!==null&&Cn()>Mc&&(r.flags|=128,l=!0,wl(f,!1),r.lanes=4194304)}else{if(!l)if(t=wc(d),t!==null){if(r.flags|=128,l=!0,t=t.updateQueue,r.updateQueue=t,Dc(r,t),wl(f,!0),f.tail===null&&f.tailMode==="hidden"&&!d.alternate&&!qe)return ut(r),null}else 2*Cn()-f.renderingStartTime>Mc&&a!==536870912&&(r.flags|=128,l=!0,wl(f,!1),r.lanes=4194304);f.isBackwards?(d.sibling=r.child,r.child=d):(t=f.last,t!==null?t.sibling=d:r.child=d,f.last=d)}return f.tail!==null?(r=f.tail,f.rendering=r,f.tail=r.sibling,f.renderingStartTime=Cn(),r.sibling=null,t=Dt.current,re(Dt,l?t&1|2:t&1),r):(ut(r),null);case 22:case 23:return Qi(r),ad(),l=r.memoizedState!==null,t!==null?t.memoizedState!==null!==l&&(r.flags|=8192):l&&(r.flags|=8192),l?(a&536870912)!==0&&(r.flags&128)===0&&(ut(r),r.subtreeFlags&6&&(r.flags|=8192)):ut(r),a=r.updateQueue,a!==null&&Dc(r,a.retryQueue),a=null,t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),l=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(l=r.memoizedState.cachePool.pool),l!==a&&(r.flags|=2048),t!==null&&ue(Qs),null;case 24:return a=null,t!==null&&(a=t.memoizedState.cache),r.memoizedState.cache!==a&&(r.flags|=2048),$i(Nt),ut(r),null;case 25:return null;case 30:return null}throw Error(s(156,r.tag))}function Vb(t,r){switch($f(r),r.tag){case 1:return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return $i(Nt),ni(),t=r.flags,(t&65536)!==0&&(t&128)===0?(r.flags=t&-65537|128,r):null;case 26:case 27:case 5:return Ni(r),null;case 13:if(Qi(r),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(s(340));ul()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return ue(Dt),null;case 4:return ni(),null;case 10:return $i(r.type),null;case 22:case 23:return Qi(r),ad(),t!==null&&ue(Qs),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 24:return $i(Nt),null;case 25:return null;default:return null}}function Rv(t,r){switch($f(r),r.tag){case 3:$i(Nt),ni();break;case 26:case 27:case 5:Ni(r);break;case 4:ni();break;case 13:Qi(r);break;case 19:ue(Dt);break;case 10:$i(r.type);break;case 22:case 23:Qi(r),ad(),t!==null&&ue(Qs);break;case 24:$i(Nt)}}function Rl(t,r){try{var a=r.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var f=l.next;a=f;do{if((a.tag&t)===t){l=void 0;var d=a.create,_=a.inst;l=d(),_.destroy=l}a=a.next}while(a!==f)}}catch(S){tt(r,r.return,S)}}function xr(t,r,a){try{var l=r.updateQueue,f=l!==null?l.lastEffect:null;if(f!==null){var d=f.next;l=d;do{if((l.tag&t)===t){var _=l.inst,S=_.destroy;if(S!==void 0){_.destroy=void 0,f=r;var V=a,$=S;try{$()}catch(Z){tt(f,V,Z)}}}l=l.next}while(l!==d)}}catch(Z){tt(r,r.return,Z)}}function Cv(t){var r=t.updateQueue;if(r!==null){var a=t.stateNode;try{my(r,a)}catch(l){tt(t,t.return,l)}}}function Iv(t,r,a){a.props=Xs(t.type,t.memoizedProps),a.state=t.memoizedState;try{a.componentWillUnmount()}catch(l){tt(t,r,l)}}function Cl(t,r){try{var a=t.ref;if(a!==null){switch(t.tag){case 26:case 27:case 5:var l=t.stateNode;break;case 30:l=t.stateNode;break;default:l=t.stateNode}typeof a=="function"?t.refCleanup=a(l):a.current=l}}catch(f){tt(t,r,f)}}function gi(t,r){var a=t.ref,l=t.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(f){tt(t,r,f)}finally{t.refCleanup=null,t=t.alternate,t!=null&&(t.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(f){tt(t,r,f)}else a.current=null}function Nv(t){var r=t.type,a=t.memoizedProps,l=t.stateNode;try{e:switch(r){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(f){tt(t,t.return,f)}}function Vd(t,r,a){try{var l=t.stateNode;tw(l,t.type,a,r),l[_t]=r}catch(f){tt(t,t.return,f)}}function Dv(t){return t.tag===5||t.tag===3||t.tag===26||t.tag===27&&jr(t.type)||t.tag===4}function Pd(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Dv(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.tag===27&&jr(t.type)||t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function kd(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(t,r):(r=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,r.appendChild(t),a=a._reactRootContainer,a!=null||r.onclick!==null||(r.onclick=Hc));else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode,r=null),t=t.child,t!==null))for(kd(t,r,a),t=t.sibling;t!==null;)kd(t,r,a),t=t.sibling}function xc(t,r,a){var l=t.tag;if(l===5||l===6)t=t.stateNode,r?a.insertBefore(t,r):a.appendChild(t);else if(l!==4&&(l===27&&jr(t.type)&&(a=t.stateNode),t=t.child,t!==null))for(xc(t,r,a),t=t.sibling;t!==null;)xc(t,r,a),t=t.sibling}function xv(t){var r=t.stateNode,a=t.memoizedProps;try{for(var l=t.type,f=r.attributes;f.length;)r.removeAttributeNode(f[0]);$t(r,l,a),r[Rt]=t,r[_t]=a}catch(d){tt(t,t.return,d)}}var Wi=!1,yt=!1,Ld=!1,Ov=typeof WeakSet=="function"?WeakSet:Set,Ut=null;function Pb(t,r){if(t=t.containerInfo,om=Yc,t=qg(t),Pf(t)){if("selectionStart"in t)var a={start:t.selectionStart,end:t.selectionEnd};else e:{a=(a=t.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var f=l.anchorOffset,d=l.focusNode;l=l.focusOffset;try{a.nodeType,d.nodeType}catch{a=null;break e}var _=0,S=-1,V=-1,$=0,Z=0,ee=t,K=null;t:for(;;){for(var Q;ee!==a||f!==0&&ee.nodeType!==3||(S=_+f),ee!==d||l!==0&&ee.nodeType!==3||(V=_+l),ee.nodeType===3&&(_+=ee.nodeValue.length),(Q=ee.firstChild)!==null;)K=ee,ee=Q;for(;;){if(ee===t)break t;if(K===a&&++$===f&&(S=_),K===d&&++Z===l&&(V=_),(Q=ee.nextSibling)!==null)break;ee=K,K=ee.parentNode}ee=Q}a=S===-1||V===-1?null:{start:S,end:V}}else a=null}a=a||{start:0,end:0}}else a=null;for(lm={focusedElem:t,selectionRange:a},Yc=!1,Ut=r;Ut!==null;)if(r=Ut,t=r.child,(r.subtreeFlags&1024)!==0&&t!==null)t.return=r,Ut=t;else for(;Ut!==null;){switch(r=Ut,d=r.alternate,t=r.flags,r.tag){case 0:break;case 11:case 15:break;case 1:if((t&1024)!==0&&d!==null){t=void 0,a=r,f=d.memoizedProps,d=d.memoizedState,l=a.stateNode;try{var Ae=Xs(a.type,f,a.elementType===a.type);t=l.getSnapshotBeforeUpdate(Ae,d),l.__reactInternalSnapshotBeforeUpdate=t}catch(_e){tt(a,a.return,_e)}}break;case 3:if((t&1024)!==0){if(t=r.stateNode.containerInfo,a=t.nodeType,a===9)hm(t);else if(a===1)switch(t.nodeName){case"HEAD":case"HTML":case"BODY":hm(t);break;default:t.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((t&1024)!==0)throw Error(s(163))}if(t=r.sibling,t!==null){t.return=r.return,Ut=t;break}Ut=r.return}}function Mv(t,r,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Or(t,a),l&4&&Rl(5,a);break;case 1:if(Or(t,a),l&4)if(t=a.stateNode,r===null)try{t.componentDidMount()}catch(_){tt(a,a.return,_)}else{var f=Xs(a.type,r.memoizedProps);r=r.memoizedState;try{t.componentDidUpdate(f,r,t.__reactInternalSnapshotBeforeUpdate)}catch(_){tt(a,a.return,_)}}l&64&&Cv(a),l&512&&Cl(a,a.return);break;case 3:if(Or(t,a),l&64&&(t=a.updateQueue,t!==null)){if(r=null,a.child!==null)switch(a.child.tag){case 27:case 5:r=a.child.stateNode;break;case 1:r=a.child.stateNode}try{my(t,r)}catch(_){tt(a,a.return,_)}}break;case 27:r===null&&l&4&&xv(a);case 26:case 5:Or(t,a),r===null&&l&4&&Nv(a),l&512&&Cl(a,a.return);break;case 12:Or(t,a);break;case 13:Or(t,a),l&4&&kv(t,a),l&64&&(t=a.memoizedState,t!==null&&(t=t.dehydrated,t!==null&&(a=Fb.bind(null,a),lw(t,a))));break;case 22:if(l=a.memoizedState!==null||Wi,!l){r=r!==null&&r.memoizedState!==null||yt,f=Wi;var d=yt;Wi=l,(yt=r)&&!d?Mr(t,a,(a.subtreeFlags&8772)!==0):Or(t,a),Wi=f,yt=d}break;case 30:break;default:Or(t,a)}}function Vv(t){var r=t.alternate;r!==null&&(t.alternate=null,Vv(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&Er(r)),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}var ot=null,dn=!1;function Zi(t,r,a){for(a=a.child;a!==null;)Pv(t,r,a),a=a.sibling}function Pv(t,r,a){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ft,a)}catch{}switch(a.tag){case 26:yt||gi(a,r),Zi(t,r,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:yt||gi(a,r);var l=ot,f=dn;jr(a.type)&&(ot=a.stateNode,dn=!1),Zi(t,r,a),kl(a.stateNode),ot=l,dn=f;break;case 5:yt||gi(a,r);case 6:if(l=ot,f=dn,ot=null,Zi(t,r,a),ot=l,dn=f,ot!==null)if(dn)try{(ot.nodeType===9?ot.body:ot.nodeName==="HTML"?ot.ownerDocument.body:ot).removeChild(a.stateNode)}catch(d){tt(a,r,d)}else try{ot.removeChild(a.stateNode)}catch(d){tt(a,r,d)}break;case 18:ot!==null&&(dn?(t=ot,A_(t.nodeType===9?t.body:t.nodeName==="HTML"?t.ownerDocument.body:t,a.stateNode),Fl(t)):A_(ot,a.stateNode));break;case 4:l=ot,f=dn,ot=a.stateNode.containerInfo,dn=!0,Zi(t,r,a),ot=l,dn=f;break;case 0:case 11:case 14:case 15:yt||xr(2,a,r),yt||xr(4,a,r),Zi(t,r,a);break;case 1:yt||(gi(a,r),l=a.stateNode,typeof l.componentWillUnmount=="function"&&Iv(a,r,l)),Zi(t,r,a);break;case 21:Zi(t,r,a);break;case 22:yt=(l=yt)||a.memoizedState!==null,Zi(t,r,a),yt=l;break;default:Zi(t,r,a)}}function kv(t,r){if(r.memoizedState===null&&(t=r.alternate,t!==null&&(t=t.memoizedState,t!==null&&(t=t.dehydrated,t!==null))))try{Fl(t)}catch(a){tt(r,r.return,a)}}function kb(t){switch(t.tag){case 13:case 19:var r=t.stateNode;return r===null&&(r=t.stateNode=new Ov),r;case 22:return t=t.stateNode,r=t._retryCache,r===null&&(r=t._retryCache=new Ov),r;default:throw Error(s(435,t.tag))}}function Ud(t,r){var a=kb(t);r.forEach(function(l){var f=Gb.bind(null,t,l);a.has(l)||(a.add(l),l.then(f,f))})}function Tn(t,r){var a=r.deletions;if(a!==null)for(var l=0;l<a.length;l++){var f=a[l],d=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 27:if(jr(S.type)){ot=S.stateNode,dn=!1;break e}break;case 5:ot=S.stateNode,dn=!1;break e;case 3:case 4:ot=S.stateNode.containerInfo,dn=!0;break e}S=S.return}if(ot===null)throw Error(s(160));Pv(d,_,f),ot=null,dn=!1,d=f.alternate,d!==null&&(d.return=null),f.return=null}if(r.subtreeFlags&13878)for(r=r.child;r!==null;)Lv(r,t),r=r.sibling}var Kn=null;function Lv(t,r){var a=t.alternate,l=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:Tn(r,t),Sn(t),l&4&&(xr(3,t,t.return),Rl(3,t),xr(5,t,t.return));break;case 1:Tn(r,t),Sn(t),l&512&&(yt||a===null||gi(a,a.return)),l&64&&Wi&&(t=t.updateQueue,t!==null&&(l=t.callbacks,l!==null&&(a=t.shared.hiddenCallbacks,t.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var f=Kn;if(Tn(r,t),Sn(t),l&512&&(yt||a===null||gi(a,a.return)),l&4){var d=a!==null?a.memoizedState:null;if(l=t.memoizedState,a===null)if(l===null)if(t.stateNode===null){e:{l=t.type,a=t.memoizedProps,f=f.ownerDocument||f;t:switch(l){case"title":d=f.getElementsByTagName("title")[0],(!d||d[ws]||d[Rt]||d.namespaceURI==="http://www.w3.org/2000/svg"||d.hasAttribute("itemprop"))&&(d=f.createElement(l),f.head.insertBefore(d,f.querySelector("head > title"))),$t(d,l,a),d[Rt]=t,pt(d),l=d;break e;case"link":var _=x_("link","href",f).get(l+(a.href||""));if(_){for(var S=0;S<_.length;S++)if(d=_[S],d.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&d.getAttribute("rel")===(a.rel==null?null:a.rel)&&d.getAttribute("title")===(a.title==null?null:a.title)&&d.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){_.splice(S,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;case"meta":if(_=x_("meta","content",f).get(l+(a.content||""))){for(S=0;S<_.length;S++)if(d=_[S],d.getAttribute("content")===(a.content==null?null:""+a.content)&&d.getAttribute("name")===(a.name==null?null:a.name)&&d.getAttribute("property")===(a.property==null?null:a.property)&&d.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&d.getAttribute("charset")===(a.charSet==null?null:a.charSet)){_.splice(S,1);break t}}d=f.createElement(l),$t(d,l,a),f.head.appendChild(d);break;default:throw Error(s(468,l))}d[Rt]=t,pt(d),l=d}t.stateNode=l}else O_(f,t.type,t.stateNode);else t.stateNode=D_(f,l,t.memoizedProps);else d!==l?(d===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):d.count--,l===null?O_(f,t.type,t.stateNode):D_(f,l,t.memoizedProps)):l===null&&t.stateNode!==null&&Vd(t,t.memoizedProps,a.memoizedProps)}break;case 27:Tn(r,t),Sn(t),l&512&&(yt||a===null||gi(a,a.return)),a!==null&&l&4&&Vd(t,t.memoizedProps,a.memoizedProps);break;case 5:if(Tn(r,t),Sn(t),l&512&&(yt||a===null||gi(a,a.return)),t.flags&32){f=t.stateNode;try{Nn(f,"")}catch(Q){tt(t,t.return,Q)}}l&4&&t.stateNode!=null&&(f=t.memoizedProps,Vd(t,f,a!==null?a.memoizedProps:f)),l&1024&&(Ld=!0);break;case 6:if(Tn(r,t),Sn(t),l&4){if(t.stateNode===null)throw Error(s(162));l=t.memoizedProps,a=t.stateNode;try{a.nodeValue=l}catch(Q){tt(t,t.return,Q)}}break;case 3:if($c=null,f=Kn,Kn=Fc(r.containerInfo),Tn(r,t),Kn=f,Sn(t),l&4&&a!==null&&a.memoizedState.isDehydrated)try{Fl(r.containerInfo)}catch(Q){tt(t,t.return,Q)}Ld&&(Ld=!1,Uv(t));break;case 4:l=Kn,Kn=Fc(t.stateNode.containerInfo),Tn(r,t),Sn(t),Kn=l;break;case 12:Tn(r,t),Sn(t);break;case 13:Tn(r,t),Sn(t),t.child.flags&8192&&t.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Fd=Cn()),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ud(t,l)));break;case 22:f=t.memoizedState!==null;var V=a!==null&&a.memoizedState!==null,$=Wi,Z=yt;if(Wi=$||f,yt=Z||V,Tn(r,t),yt=Z,Wi=$,Sn(t),l&8192)e:for(r=t.stateNode,r._visibility=f?r._visibility&-2:r._visibility|1,f&&(a===null||V||Wi||yt||Ws(t)),a=null,r=t;;){if(r.tag===5||r.tag===26){if(a===null){V=a=r;try{if(d=V.stateNode,f)_=d.style,typeof _.setProperty=="function"?_.setProperty("display","none","important"):_.display="none";else{S=V.stateNode;var ee=V.memoizedProps.style,K=ee!=null&&ee.hasOwnProperty("display")?ee.display:null;S.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(Q){tt(V,V.return,Q)}}}else if(r.tag===6){if(a===null){V=r;try{V.stateNode.nodeValue=f?"":V.memoizedProps}catch(Q){tt(V,V.return,Q)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===t)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break e;for(;r.sibling===null;){if(r.return===null||r.return===t)break e;a===r&&(a=null),r=r.return}a===r&&(a=null),r.sibling.return=r.return,r=r.sibling}l&4&&(l=t.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Ud(t,a))));break;case 19:Tn(r,t),Sn(t),l&4&&(l=t.updateQueue,l!==null&&(t.updateQueue=null,Ud(t,l)));break;case 30:break;case 21:break;default:Tn(r,t),Sn(t)}}function Sn(t){var r=t.flags;if(r&2){try{for(var a,l=t.return;l!==null;){if(Dv(l)){a=l;break}l=l.return}if(a==null)throw Error(s(160));switch(a.tag){case 27:var f=a.stateNode,d=Pd(t);xc(t,d,f);break;case 5:var _=a.stateNode;a.flags&32&&(Nn(_,""),a.flags&=-33);var S=Pd(t);xc(t,S,_);break;case 3:case 4:var V=a.stateNode.containerInfo,$=Pd(t);kd(t,$,V);break;default:throw Error(s(161))}}catch(Z){tt(t,t.return,Z)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Uv(t){if(t.subtreeFlags&1024)for(t=t.child;t!==null;){var r=t;Uv(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),t=t.sibling}}function Or(t,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)Mv(t,r.alternate,r),r=r.sibling}function Ws(t){for(t=t.child;t!==null;){var r=t;switch(r.tag){case 0:case 11:case 14:case 15:xr(4,r,r.return),Ws(r);break;case 1:gi(r,r.return);var a=r.stateNode;typeof a.componentWillUnmount=="function"&&Iv(r,r.return,a),Ws(r);break;case 27:kl(r.stateNode);case 26:case 5:gi(r,r.return),Ws(r);break;case 22:r.memoizedState===null&&Ws(r);break;case 30:Ws(r);break;default:Ws(r)}t=t.sibling}}function Mr(t,r,a){for(a=a&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var l=r.alternate,f=t,d=r,_=d.flags;switch(d.tag){case 0:case 11:case 15:Mr(f,d,a),Rl(4,d);break;case 1:if(Mr(f,d,a),l=d,f=l.stateNode,typeof f.componentDidMount=="function")try{f.componentDidMount()}catch($){tt(l,l.return,$)}if(l=d,f=l.updateQueue,f!==null){var S=l.stateNode;try{var V=f.shared.hiddenCallbacks;if(V!==null)for(f.shared.hiddenCallbacks=null,f=0;f<V.length;f++)dy(V[f],S)}catch($){tt(l,l.return,$)}}a&&_&64&&Cv(d),Cl(d,d.return);break;case 27:xv(d);case 26:case 5:Mr(f,d,a),a&&l===null&&_&4&&Nv(d),Cl(d,d.return);break;case 12:Mr(f,d,a);break;case 13:Mr(f,d,a),a&&_&4&&kv(f,d);break;case 22:d.memoizedState===null&&Mr(f,d,a),Cl(d,d.return);break;case 30:break;default:Mr(f,d,a)}r=r.sibling}}function jd(t,r){var a=null;t!==null&&t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(a=t.memoizedState.cachePool.pool),t=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(t=r.memoizedState.cachePool.pool),t!==a&&(t!=null&&t.refCount++,a!=null&&fl(a))}function zd(t,r){t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fl(t))}function yi(t,r,a,l){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)jv(t,r,a,l),r=r.sibling}function jv(t,r,a,l){var f=r.flags;switch(r.tag){case 0:case 11:case 15:yi(t,r,a,l),f&2048&&Rl(9,r);break;case 1:yi(t,r,a,l);break;case 3:yi(t,r,a,l),f&2048&&(t=null,r.alternate!==null&&(t=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==t&&(r.refCount++,t!=null&&fl(t)));break;case 12:if(f&2048){yi(t,r,a,l),t=r.stateNode;try{var d=r.memoizedProps,_=d.id,S=d.onPostCommit;typeof S=="function"&&S(_,r.alternate===null?"mount":"update",t.passiveEffectDuration,-0)}catch(V){tt(r,r.return,V)}}else yi(t,r,a,l);break;case 13:yi(t,r,a,l);break;case 23:break;case 22:d=r.stateNode,_=r.alternate,r.memoizedState!==null?d._visibility&2?yi(t,r,a,l):Il(t,r):d._visibility&2?yi(t,r,a,l):(d._visibility|=2,Ka(t,r,a,l,(r.subtreeFlags&10256)!==0)),f&2048&&jd(_,r);break;case 24:yi(t,r,a,l),f&2048&&zd(r.alternate,r);break;default:yi(t,r,a,l)}}function Ka(t,r,a,l,f){for(f=f&&(r.subtreeFlags&10256)!==0,r=r.child;r!==null;){var d=t,_=r,S=a,V=l,$=_.flags;switch(_.tag){case 0:case 11:case 15:Ka(d,_,S,V,f),Rl(8,_);break;case 23:break;case 22:var Z=_.stateNode;_.memoizedState!==null?Z._visibility&2?Ka(d,_,S,V,f):Il(d,_):(Z._visibility|=2,Ka(d,_,S,V,f)),f&&$&2048&&jd(_.alternate,_);break;case 24:Ka(d,_,S,V,f),f&&$&2048&&zd(_.alternate,_);break;default:Ka(d,_,S,V,f)}r=r.sibling}}function Il(t,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var a=t,l=r,f=l.flags;switch(l.tag){case 22:Il(a,l),f&2048&&jd(l.alternate,l);break;case 24:Il(a,l),f&2048&&zd(l.alternate,l);break;default:Il(a,l)}r=r.sibling}}var Nl=8192;function Qa(t){if(t.subtreeFlags&Nl)for(t=t.child;t!==null;)zv(t),t=t.sibling}function zv(t){switch(t.tag){case 26:Qa(t),t.flags&Nl&&t.memoizedState!==null&&Tw(Kn,t.memoizedState,t.memoizedProps);break;case 5:Qa(t);break;case 3:case 4:var r=Kn;Kn=Fc(t.stateNode.containerInfo),Qa(t),Kn=r;break;case 22:t.memoizedState===null&&(r=t.alternate,r!==null&&r.memoizedState!==null?(r=Nl,Nl=16777216,Qa(t),Nl=r):Qa(t));break;default:Qa(t)}}function Bv(t){var r=t.alternate;if(r!==null&&(t=r.child,t!==null)){r.child=null;do r=t.sibling,t.sibling=null,t=r;while(t!==null)}}function Dl(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,qv(l,t)}Bv(t)}if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Hv(t),t=t.sibling}function Hv(t){switch(t.tag){case 0:case 11:case 15:Dl(t),t.flags&2048&&xr(9,t,t.return);break;case 3:Dl(t);break;case 12:Dl(t);break;case 22:var r=t.stateNode;t.memoizedState!==null&&r._visibility&2&&(t.return===null||t.return.tag!==13)?(r._visibility&=-3,Oc(t)):Dl(t);break;default:Dl(t)}}function Oc(t){var r=t.deletions;if((t.flags&16)!==0){if(r!==null)for(var a=0;a<r.length;a++){var l=r[a];Ut=l,qv(l,t)}Bv(t)}for(t=t.child;t!==null;){switch(r=t,r.tag){case 0:case 11:case 15:xr(8,r,r.return),Oc(r);break;case 22:a=r.stateNode,a._visibility&2&&(a._visibility&=-3,Oc(r));break;default:Oc(r)}t=t.sibling}}function qv(t,r){for(;Ut!==null;){var a=Ut;switch(a.tag){case 0:case 11:case 15:xr(8,a,r);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:fl(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,Ut=l;else e:for(a=t;Ut!==null;){l=Ut;var f=l.sibling,d=l.return;if(Vv(l),l===a){Ut=null;break e}if(f!==null){f.return=d,Ut=f;break e}Ut=d}}}var Lb={getCacheForType:function(t){var r=Jt(Nt),a=r.data.get(t);return a===void 0&&(a=t(),r.data.set(t,a)),a}},Ub=typeof WeakMap=="function"?WeakMap:Map,Qe=0,it=null,Oe=null,je=0,Ye=0,An=null,Vr=!1,Ya=!1,Bd=!1,Ji=0,mt=0,Pr=0,Zs=0,Hd=0,Un=0,Xa=0,xl=null,mn=null,qd=!1,Fd=0,Mc=1/0,Vc=null,kr=null,Gt=0,Lr=null,Wa=null,Za=0,Gd=0,$d=null,Fv=null,Ol=0,Kd=null;function bn(){if((Qe&2)!==0&&je!==0)return je&-je;if(W.T!==null){var t=ja;return t!==0?t:em()}return vr()}function Gv(){Un===0&&(Un=(je&536870912)===0||qe?Bo():536870912);var t=Ln.current;return t!==null&&(t.flags|=32),Un}function wn(t,r,a){(t===it&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)&&(Ja(t,0),Ur(t,je,Un,!1)),xi(t,a),((Qe&2)===0||t!==it)&&(t===it&&((Qe&2)===0&&(Zs|=a),mt===4&&Ur(t,je,Un,!1)),vi(t))}function $v(t,r,a){if((Qe&6)!==0)throw Error(s(327));var l=!a&&(r&124)===0&&(r&t.expiredLanes)===0||bs(t,r),f=l?Bb(t,r):Xd(t,r,!0),d=l;do{if(f===0){Ya&&!l&&Ur(t,r,0,!1);break}else{if(a=t.current.alternate,d&&!jb(a)){f=Xd(t,r,!1),d=!1;continue}if(f===2){if(d=r,t.errorRecoveryDisabledLanes&d)var _=0;else _=t.pendingLanes&-536870913,_=_!==0?_:_&536870912?536870912:0;if(_!==0){r=_;e:{var S=t;f=xl;var V=S.current.memoizedState.isDehydrated;if(V&&(Ja(S,_).flags|=256),_=Xd(S,_,!1),_!==2){if(Bd&&!V){S.errorRecoveryDisabledLanes|=d,Zs|=d,f=4;break e}d=mn,mn=f,d!==null&&(mn===null?mn=d:mn.push.apply(mn,d))}f=_}if(d=!1,f!==2)continue}}if(f===1){Ja(t,0),Ur(t,r,0,!0);break}e:{switch(l=t,d=f,d){case 0:case 1:throw Error(s(345));case 4:if((r&4194048)!==r)break;case 6:Ur(l,r,Un,!Vr);break e;case 2:mn=null;break;case 3:case 5:break;default:throw Error(s(329))}if((r&62914560)===r&&(f=Fd+300-Cn(),10<f)){if(Ur(l,r,Un,!Vr),ga(l,0,!0)!==0)break e;l.timeoutHandle=T_(Kv.bind(null,l,a,mn,Vc,qd,r,Un,Zs,Xa,Vr,d,2,-0,0),f);break e}Kv(l,a,mn,Vc,qd,r,Un,Zs,Xa,Vr,d,0,-0,0)}}break}while(!0);vi(t)}function Kv(t,r,a,l,f,d,_,S,V,$,Z,ee,K,Q){if(t.timeoutHandle=-1,ee=r.subtreeFlags,(ee&8192||(ee&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:Ew},zv(r),ee=Sw(),ee!==null)){t.cancelPendingCommit=ee(e_.bind(null,t,r,d,a,l,f,_,S,V,Z,1,K,Q)),Ur(t,d,_,!$);return}e_(t,r,d,a,l,f,_,S,V)}function jb(t){for(var r=t;;){var a=r.tag;if((a===0||a===11||a===15)&&r.flags&16384&&(a=r.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var f=a[l],d=f.getSnapshot;f=f.value;try{if(!_n(d(),f))return!1}catch{return!1}}if(a=r.child,r.subtreeFlags&16384&&a!==null)a.return=r,r=a;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Ur(t,r,a,l){r&=~Hd,r&=~Zs,t.suspendedLanes|=r,t.pingedLanes&=~r,l&&(t.warmLanes|=r),l=t.expirationTimes;for(var f=r;0<f;){var d=31-Zt(f),_=1<<d;l[d]=-1,f&=~_}a!==0&&ii(t,a,r)}function Pc(){return(Qe&6)===0?(Ml(0),!1):!0}function Qd(){if(Oe!==null){if(Ye===0)var t=Oe.return;else t=Oe,Gi=$s=null,hd(t),Ga=null,Al=0,t=Oe;for(;t!==null;)Rv(t.alternate,t),t=t.return;Oe=null}}function Ja(t,r){var a=t.timeoutHandle;a!==-1&&(t.timeoutHandle=-1,iw(a)),a=t.cancelPendingCommit,a!==null&&(t.cancelPendingCommit=null,a()),Qd(),it=t,Oe=a=Hi(t.current,null),je=r,Ye=0,An=null,Vr=!1,Ya=bs(t,r),Bd=!1,Xa=Un=Hd=Zs=Pr=mt=0,mn=xl=null,qd=!1,(r&8)!==0&&(r|=r&32);var l=t.entangledLanes;if(l!==0)for(t=t.entanglements,l&=r;0<l;){var f=31-Zt(l),d=1<<f;r|=t[f],l&=~d}return Ji=r,ic(),a}function Qv(t,r){Ie=null,W.H=Sc,r===ml||r===fc?(r=hy(),Ye=3):r===ly?(r=hy(),Ye=4):Ye=r===fv?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,An=r,Oe===null&&(mt=1,Cc(t,Mn(r,t.current)))}function Yv(){var t=W.H;return W.H=Sc,t===null?Sc:t}function Xv(){var t=W.A;return W.A=Lb,t}function Yd(){mt=4,Vr||(je&4194048)!==je&&Ln.current!==null||(Ya=!0),(Pr&134217727)===0&&(Zs&134217727)===0||it===null||Ur(it,je,Un,!1)}function Xd(t,r,a){var l=Qe;Qe|=2;var f=Yv(),d=Xv();(it!==t||je!==r)&&(Vc=null,Ja(t,r)),r=!1;var _=mt;e:do try{if(Ye!==0&&Oe!==null){var S=Oe,V=An;switch(Ye){case 8:Qd(),_=6;break e;case 3:case 2:case 9:case 6:Ln.current===null&&(r=!0);var $=Ye;if(Ye=0,An=null,eo(t,S,V,$),a&&Ya){_=0;break e}break;default:$=Ye,Ye=0,An=null,eo(t,S,V,$)}}zb(),_=mt;break}catch(Z){Qv(t,Z)}while(!0);return r&&t.shellSuspendCounter++,Gi=$s=null,Qe=l,W.H=f,W.A=d,Oe===null&&(it=null,je=0,ic()),_}function zb(){for(;Oe!==null;)Wv(Oe)}function Bb(t,r){var a=Qe;Qe|=2;var l=Yv(),f=Xv();it!==t||je!==r?(Vc=null,Mc=Cn()+500,Ja(t,r)):Ya=bs(t,r);e:do try{if(Ye!==0&&Oe!==null){r=Oe;var d=An;t:switch(Ye){case 1:Ye=0,An=null,eo(t,r,d,1);break;case 2:case 9:if(uy(d)){Ye=0,An=null,Zv(r);break}r=function(){Ye!==2&&Ye!==9||it!==t||(Ye=7),vi(t)},d.then(r,r);break e;case 3:Ye=7;break e;case 4:Ye=5;break e;case 7:uy(d)?(Ye=0,An=null,Zv(r)):(Ye=0,An=null,eo(t,r,d,7));break;case 5:var _=null;switch(Oe.tag){case 26:_=Oe.memoizedState;case 5:case 27:var S=Oe;if(!_||M_(_)){Ye=0,An=null;var V=S.sibling;if(V!==null)Oe=V;else{var $=S.return;$!==null?(Oe=$,kc($)):Oe=null}break t}}Ye=0,An=null,eo(t,r,d,5);break;case 6:Ye=0,An=null,eo(t,r,d,6);break;case 8:Qd(),mt=6;break e;default:throw Error(s(462))}}Hb();break}catch(Z){Qv(t,Z)}while(!0);return Gi=$s=null,W.H=l,W.A=f,Qe=a,Oe!==null?0:(it=null,je=0,ic(),mt)}function Hb(){for(;Oe!==null&&!Lo();)Wv(Oe)}function Wv(t){var r=bv(t.alternate,t,Ji);t.memoizedProps=t.pendingProps,r===null?kc(t):Oe=r}function Zv(t){var r=t,a=r.alternate;switch(r.tag){case 15:case 0:r=vv(a,r,r.pendingProps,r.type,void 0,je);break;case 11:r=vv(a,r,r.pendingProps,r.type.render,r.ref,je);break;case 5:hd(r);default:Rv(a,r),r=Oe=Jg(r,Ji),r=bv(a,r,Ji)}t.memoizedProps=t.pendingProps,r===null?kc(t):Oe=r}function eo(t,r,a,l){Gi=$s=null,hd(r),Ga=null,Al=0;var f=r.return;try{if(xb(t,f,r,a,je)){mt=1,Cc(t,Mn(a,t.current)),Oe=null;return}}catch(d){if(f!==null)throw Oe=f,d;mt=1,Cc(t,Mn(a,t.current)),Oe=null;return}r.flags&32768?(qe||l===1?t=!0:Ya||(je&536870912)!==0?t=!1:(Vr=t=!0,(l===2||l===9||l===3||l===6)&&(l=Ln.current,l!==null&&l.tag===13&&(l.flags|=16384))),Jv(r,t)):kc(r)}function kc(t){var r=t;do{if((r.flags&32768)!==0){Jv(r,Vr);return}t=r.return;var a=Mb(r.alternate,r,Ji);if(a!==null){Oe=a;return}if(r=r.sibling,r!==null){Oe=r;return}Oe=r=t}while(r!==null);mt===0&&(mt=5)}function Jv(t,r){do{var a=Vb(t.alternate,t);if(a!==null){a.flags&=32767,Oe=a;return}if(a=t.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!r&&(t=t.sibling,t!==null)){Oe=t;return}Oe=t=a}while(t!==null);mt=6,Oe=null}function e_(t,r,a,l,f,d,_,S,V){t.cancelPendingCommit=null;do Lc();while(Gt!==0);if((Qe&6)!==0)throw Error(s(327));if(r!==null){if(r===t.current)throw Error(s(177));if(d=r.lanes|r.childLanes,d|=zf,qo(t,a,d,_,S,V),t===it&&(Oe=it=null,je=0),Wa=r,Lr=t,Za=a,Gd=d,$d=f,Fv=l,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(t.callbackNode=null,t.callbackPriority=0,$b(Es,function(){return s_(),null})):(t.callbackNode=null,t.callbackPriority=0),l=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||l){l=W.T,W.T=null,f=le.p,le.p=2,_=Qe,Qe|=4;try{Pb(t,r,a)}finally{Qe=_,le.p=f,W.T=l}}Gt=1,t_(),n_(),i_()}}function t_(){if(Gt===1){Gt=0;var t=Lr,r=Wa,a=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var f=Qe;Qe|=4;try{Lv(r,t);var d=lm,_=qg(t.containerInfo),S=d.focusedElem,V=d.selectionRange;if(_!==S&&S&&S.ownerDocument&&Hg(S.ownerDocument.documentElement,S)){if(V!==null&&Pf(S)){var $=V.start,Z=V.end;if(Z===void 0&&(Z=$),"selectionStart"in S)S.selectionStart=$,S.selectionEnd=Math.min(Z,S.value.length);else{var ee=S.ownerDocument||document,K=ee&&ee.defaultView||window;if(K.getSelection){var Q=K.getSelection(),Ae=S.textContent.length,_e=Math.min(V.start,Ae),Je=V.end===void 0?_e:Math.min(V.end,Ae);!Q.extend&&_e>Je&&(_=Je,Je=_e,_e=_);var H=Bg(S,_e),z=Bg(S,Je);if(H&&z&&(Q.rangeCount!==1||Q.anchorNode!==H.node||Q.anchorOffset!==H.offset||Q.focusNode!==z.node||Q.focusOffset!==z.offset)){var G=ee.createRange();G.setStart(H.node,H.offset),Q.removeAllRanges(),_e>Je?(Q.addRange(G),Q.extend(z.node,z.offset)):(G.setEnd(z.node,z.offset),Q.addRange(G))}}}}for(ee=[],Q=S;Q=Q.parentNode;)Q.nodeType===1&&ee.push({element:Q,left:Q.scrollLeft,top:Q.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<ee.length;S++){var J=ee[S];J.element.scrollLeft=J.left,J.element.scrollTop=J.top}}Yc=!!om,lm=om=null}finally{Qe=f,le.p=l,W.T=a}}t.current=r,Gt=2}}function n_(){if(Gt===2){Gt=0;var t=Lr,r=Wa,a=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||a){a=W.T,W.T=null;var l=le.p;le.p=2;var f=Qe;Qe|=4;try{Mv(t,r.alternate,r)}finally{Qe=f,le.p=l,W.T=a}}Gt=3}}function i_(){if(Gt===4||Gt===3){Gt=0,Ou();var t=Lr,r=Wa,a=Za,l=Fv;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Gt=5:(Gt=0,Wa=Lr=null,r_(t,t.pendingLanes));var f=t.pendingLanes;if(f===0&&(kr=null),ya(a),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ft,r,void 0,(r.current.flags&128)===128)}catch{}if(l!==null){r=W.T,f=le.p,le.p=2,W.T=null;try{for(var d=t.onRecoverableError,_=0;_<l.length;_++){var S=l[_];d(S.value,{componentStack:S.stack})}}finally{W.T=r,le.p=f}}(Za&3)!==0&&Lc(),vi(t),f=t.pendingLanes,(a&4194090)!==0&&(f&42)!==0?t===Kd?Ol++:(Ol=0,Kd=t):Ol=0,Ml(0)}}function r_(t,r){(t.pooledCacheLanes&=r)===0&&(r=t.pooledCache,r!=null&&(t.pooledCache=null,fl(r)))}function Lc(t){return t_(),n_(),i_(),s_()}function s_(){if(Gt!==5)return!1;var t=Lr,r=Gd;Gd=0;var a=ya(Za),l=W.T,f=le.p;try{le.p=32>a?32:a,W.T=null,a=$d,$d=null;var d=Lr,_=Za;if(Gt=0,Wa=Lr=null,Za=0,(Qe&6)!==0)throw Error(s(331));var S=Qe;if(Qe|=4,Hv(d.current),jv(d,d.current,_,a),Qe=S,Ml(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ft,d)}catch{}return!0}finally{le.p=f,W.T=l,r_(t,r)}}function a_(t,r,a){r=Mn(a,r),r=wd(t.stateNode,r,2),t=Cr(t,r,2),t!==null&&(xi(t,2),vi(t))}function tt(t,r,a){if(t.tag===3)a_(t,t,a);else for(;r!==null;){if(r.tag===3){a_(r,t,a);break}else if(r.tag===1){var l=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(kr===null||!kr.has(l))){t=Mn(a,t),a=cv(2),l=Cr(r,a,2),l!==null&&(hv(a,l,r,t),xi(l,2),vi(l));break}}r=r.return}}function Wd(t,r,a){var l=t.pingCache;if(l===null){l=t.pingCache=new Ub;var f=new Set;l.set(r,f)}else f=l.get(r),f===void 0&&(f=new Set,l.set(r,f));f.has(a)||(Bd=!0,f.add(a),t=qb.bind(null,t,r,a),r.then(t,t))}function qb(t,r,a){var l=t.pingCache;l!==null&&l.delete(r),t.pingedLanes|=t.suspendedLanes&a,t.warmLanes&=~a,it===t&&(je&a)===a&&(mt===4||mt===3&&(je&62914560)===je&&300>Cn()-Fd?(Qe&2)===0&&Ja(t,0):Hd|=a,Xa===je&&(Xa=0)),vi(t)}function o_(t,r){r===0&&(r=Ho()),t=Pa(t,r),t!==null&&(xi(t,r),vi(t))}function Fb(t){var r=t.memoizedState,a=0;r!==null&&(a=r.retryLane),o_(t,a)}function Gb(t,r){var a=0;switch(t.tag){case 13:var l=t.stateNode,f=t.memoizedState;f!==null&&(a=f.retryLane);break;case 19:l=t.stateNode;break;case 22:l=t.stateNode._retryCache;break;default:throw Error(s(314))}l!==null&&l.delete(r),o_(t,a)}function $b(t,r){return vs(t,r)}var Uc=null,to=null,Zd=!1,jc=!1,Jd=!1,Js=0;function vi(t){t!==to&&t.next===null&&(to===null?Uc=to=t:to=to.next=t),jc=!0,Zd||(Zd=!0,Qb())}function Ml(t,r){if(!Jd&&jc){Jd=!0;do for(var a=!1,l=Uc;l!==null;){if(t!==0){var f=l.pendingLanes;if(f===0)var d=0;else{var _=l.suspendedLanes,S=l.pingedLanes;d=(1<<31-Zt(42|t)+1)-1,d&=f&~(_&~S),d=d&201326741?d&201326741|1:d?d|2:0}d!==0&&(a=!0,h_(l,d))}else d=je,d=ga(l,l===it?d:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(d&3)===0||bs(l,d)||(a=!0,h_(l,d));l=l.next}while(a);Jd=!1}}function Kb(){l_()}function l_(){jc=Zd=!1;var t=0;Js!==0&&(nw()&&(t=Js),Js=0);for(var r=Cn(),a=null,l=Uc;l!==null;){var f=l.next,d=u_(l,r);d===0?(l.next=null,a===null?Uc=f:a.next=f,f===null&&(to=a)):(a=l,(t!==0||(d&3)!==0)&&(jc=!0)),l=f}Ml(t)}function u_(t,r){for(var a=t.suspendedLanes,l=t.pingedLanes,f=t.expirationTimes,d=t.pendingLanes&-62914561;0<d;){var _=31-Zt(d),S=1<<_,V=f[_];V===-1?((S&a)===0||(S&l)!==0)&&(f[_]=zo(S,r)):V<=r&&(t.expiredLanes|=S),d&=~S}if(r=it,a=je,a=ga(t,t===r?a:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l=t.callbackNode,a===0||t===r&&(Ye===2||Ye===9)||t.cancelPendingCommit!==null)return l!==null&&l!==null&&_s(l),t.callbackNode=null,t.callbackPriority=0;if((a&3)===0||bs(t,a)){if(r=a&-a,r===t.callbackPriority)return r;switch(l!==null&&_s(l),ya(a)){case 2:case 8:a=ma;break;case 32:a=Es;break;case 268435456:a=pa;break;default:a=Es}return l=c_.bind(null,t),a=vs(a,l),t.callbackPriority=r,t.callbackNode=a,r}return l!==null&&l!==null&&_s(l),t.callbackPriority=2,t.callbackNode=null,2}function c_(t,r){if(Gt!==0&&Gt!==5)return t.callbackNode=null,t.callbackPriority=0,null;var a=t.callbackNode;if(Lc()&&t.callbackNode!==a)return null;var l=je;return l=ga(t,t===it?l:0,t.cancelPendingCommit!==null||t.timeoutHandle!==-1),l===0?null:($v(t,l,r),u_(t,Cn()),t.callbackNode!=null&&t.callbackNode===a?c_.bind(null,t):null)}function h_(t,r){if(Lc())return null;$v(t,r,!0)}function Qb(){rw(function(){(Qe&6)!==0?vs(Uo,Kb):l_()})}function em(){return Js===0&&(Js=Bo()),Js}function f_(t){return t==null||typeof t=="symbol"||typeof t=="boolean"?null:typeof t=="function"?t:Aa(""+t)}function d_(t,r){var a=r.ownerDocument.createElement("input");return a.name=r.name,a.value=r.value,t.id&&a.setAttribute("form",t.id),r.parentNode.insertBefore(a,r),t=new FormData(t),a.parentNode.removeChild(a),t}function Yb(t,r,a,l,f){if(r==="submit"&&a&&a.stateNode===f){var d=f_((f[_t]||null).action),_=l.submitter;_&&(r=(r=_[_t]||null)?f_(r.formAction):_.getAttribute("formAction"),r!==null&&(d=r,_=null));var S=new ba("action","action",null,l,f);t.push({event:S,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(Js!==0){var V=_?d_(f,_):new FormData(f);Ed(a,{pending:!0,data:V,method:f.method,action:d},null,V)}}else typeof d=="function"&&(S.preventDefault(),V=_?d_(f,_):new FormData(f),Ed(a,{pending:!0,data:V,method:f.method,action:d},d,V))},currentTarget:f}]})}}for(var tm=0;tm<jf.length;tm++){var nm=jf[tm],Xb=nm.toLowerCase(),Wb=nm[0].toUpperCase()+nm.slice(1);$n(Xb,"on"+Wb)}$n($g,"onAnimationEnd"),$n(Kg,"onAnimationIteration"),$n(Qg,"onAnimationStart"),$n("dblclick","onDoubleClick"),$n("focusin","onFocus"),$n("focusout","onBlur"),$n(mb,"onTransitionRun"),$n(pb,"onTransitionStart"),$n(gb,"onTransitionCancel"),$n(Yg,"onTransitionEnd"),Mi("onMouseEnter",["mouseout","mouseover"]),Mi("onMouseLeave",["mouseout","mouseover"]),Mi("onPointerEnter",["pointerout","pointerover"]),Mi("onPointerLeave",["pointerout","pointerover"]),Fn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Fn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Fn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Fn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Fn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Zb=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vl));function m_(t,r){r=(r&4)!==0;for(var a=0;a<t.length;a++){var l=t[a],f=l.event;l=l.listeners;e:{var d=void 0;if(r)for(var _=l.length-1;0<=_;_--){var S=l[_],V=S.instance,$=S.currentTarget;if(S=S.listener,V!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=$;try{d(f)}catch(Z){Rc(Z)}f.currentTarget=null,d=V}else for(_=0;_<l.length;_++){if(S=l[_],V=S.instance,$=S.currentTarget,S=S.listener,V!==d&&f.isPropagationStopped())break e;d=S,f.currentTarget=$;try{d(f)}catch(Z){Rc(Z)}f.currentTarget=null,d=V}}}}function Me(t,r){var a=r[Go];a===void 0&&(a=r[Go]=new Set);var l=t+"__bubble";a.has(l)||(p_(r,t,2,!1),a.add(l))}function im(t,r,a){var l=0;r&&(l|=4),p_(a,t,l,r)}var zc="_reactListening"+Math.random().toString(36).slice(2);function rm(t){if(!t[zc]){t[zc]=!0,$o.forEach(function(a){a!=="selectionchange"&&(Zb.has(a)||im(a,!1,t),im(a,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[zc]||(r[zc]=!0,im("selectionchange",!1,r))}}function p_(t,r,a,l){switch(j_(r)){case 2:var f=ww;break;case 8:f=Rw;break;default:f=vm}a=f.bind(null,r,a,t),f=void 0,!xn||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(f=!0),l?f!==void 0?t.addEventListener(r,a,{capture:!0,passive:f}):t.addEventListener(r,a,!0):f!==void 0?t.addEventListener(r,a,{passive:f}):t.addEventListener(r,a,!1)}function sm(t,r,a,l,f){var d=l;if((r&1)===0&&(r&2)===0&&l!==null)e:for(;;){if(l===null)return;var _=l.tag;if(_===3||_===4){var S=l.stateNode.containerInfo;if(S===f)break;if(_===4)for(_=l.return;_!==null;){var V=_.tag;if((V===3||V===4)&&_.stateNode.containerInfo===f)return;_=_.return}for(;S!==null;){if(_=Oi(S),_===null)return;if(V=_.tag,V===5||V===6||V===26||V===27){l=d=_;continue e}S=S.parentNode}}l=l.return}Hu(function(){var $=d,Z=Dn(a),ee=[];e:{var K=Xg.get(t);if(K!==void 0){var Q=ba,Ae=t;switch(t){case"keypress":if(ui(a)===0)break e;case"keydown":case"keyup":Q=Da;break;case"focusin":Ae="focus",Q=Ca;break;case"focusout":Ae="blur",Q=Ca;break;case"beforeblur":case"afterblur":Q=Ca;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Q=On;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Q=xf;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Q=Xu;break;case $g:case Kg:case Qg:Q=Ia;break;case Yg:Q=Zu;break;case"scroll":case"scrollend":Q=qu;break;case"wheel":Q=xa;break;case"copy":case"cut":case"paste":Q=Na;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Q=rl;break;case"toggle":case"beforetoggle":Q=ec}var _e=(r&4)!==0,Je=!_e&&(t==="scroll"||t==="scrollend"),H=_e?K!==null?K+"Capture":null:K;_e=[];for(var z=$,G;z!==null;){var J=z;if(G=J.stateNode,J=J.tag,J!==5&&J!==26&&J!==27||G===null||H===null||(J=Os(z,H),J!=null&&_e.push(Pl(z,J,G))),Je)break;z=z.return}0<_e.length&&(K=new Q(K,Ae,null,a,Z),ee.push({event:K,listeners:_e}))}}if((r&7)===0){e:{if(K=t==="mouseover"||t==="pointerover",Q=t==="mouseout"||t==="pointerout",K&&a!==ki&&(Ae=a.relatedTarget||a.fromElement)&&(Oi(Ae)||Ae[In]))break e;if((Q||K)&&(K=Z.window===Z?Z:(K=Z.ownerDocument)?K.defaultView||K.parentWindow:window,Q?(Ae=a.relatedTarget||a.toElement,Q=$,Ae=Ae?Oi(Ae):null,Ae!==null&&(Je=u(Ae),_e=Ae.tag,Ae!==Je||_e!==5&&_e!==27&&_e!==6)&&(Ae=null)):(Q=null,Ae=$),Q!==Ae)){if(_e=On,J="onMouseLeave",H="onMouseEnter",z="mouse",(t==="pointerout"||t==="pointerover")&&(_e=rl,J="onPointerLeave",H="onPointerEnter",z="pointer"),Je=Q==null?K:si(Q),G=Ae==null?K:si(Ae),K=new _e(J,z+"leave",Q,a,Z),K.target=Je,K.relatedTarget=G,J=null,Oi(Z)===$&&(_e=new _e(H,z+"enter",Ae,a,Z),_e.target=G,_e.relatedTarget=Je,J=_e),Je=J,Q&&Ae)t:{for(_e=Q,H=Ae,z=0,G=_e;G;G=no(G))z++;for(G=0,J=H;J;J=no(J))G++;for(;0<z-G;)_e=no(_e),z--;for(;0<G-z;)H=no(H),G--;for(;z--;){if(_e===H||H!==null&&_e===H.alternate)break t;_e=no(_e),H=no(H)}_e=null}else _e=null;Q!==null&&g_(ee,K,Q,_e,!1),Ae!==null&&Je!==null&&g_(ee,Je,Ae,_e,!0)}}e:{if(K=$?si($):window,Q=K.nodeName&&K.nodeName.toLowerCase(),Q==="select"||Q==="input"&&K.type==="file")var he=Pg;else if(It(K))if(kg)he=hb;else{he=ub;var xe=lb}else Q=K.nodeName,!Q||Q.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?$&&Wo($.elementType)&&(he=Pg):he=cb;if(he&&(he=he(t,$))){Bi(ee,he,a,Z);break e}xe&&xe(t,K,$),t==="focusout"&&$&&K.type==="number"&&$.memoizedProps.value!=null&&Sr(K,"number",K.value)}switch(xe=$?si($):window,t){case"focusin":(It(xe)||xe.contentEditable==="true")&&(Oa=xe,kf=$,ol=null);break;case"focusout":ol=kf=Oa=null;break;case"mousedown":Lf=!0;break;case"contextmenu":case"mouseup":case"dragend":Lf=!1,Fg(ee,a,Z);break;case"selectionchange":if(db)break;case"keydown":case"keyup":Fg(ee,a,Z)}var me;if(fi)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else Le?X(t,a)&&(Ee="onCompositionEnd"):t==="keydown"&&a.keyCode===229&&(Ee="onCompositionStart");Ee&&(v&&a.locale!=="ko"&&(Le||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&Le&&(me=Jo()):(li=Z,Ar="value"in li?li.value:li.textContent,Le=!0)),xe=Bc($,Ee),0<xe.length&&(Ee=new nl(Ee,t,null,a,Z),ee.push({event:Ee,listeners:xe}),me?Ee.data=me:(me=se(a),me!==null&&(Ee.data=me)))),(me=y?Ct(t,a):Ue(t,a))&&(Ee=Bc($,"onBeforeInput"),0<Ee.length&&(xe=new nl("onBeforeInput","beforeinput",null,a,Z),ee.push({event:xe,listeners:Ee}),xe.data=me)),Yb(ee,t,$,a,Z)}m_(ee,r)})}function Pl(t,r,a){return{instance:t,listener:r,currentTarget:a}}function Bc(t,r){for(var a=r+"Capture",l=[];t!==null;){var f=t,d=f.stateNode;if(f=f.tag,f!==5&&f!==26&&f!==27||d===null||(f=Os(t,a),f!=null&&l.unshift(Pl(t,f,d)),f=Os(t,r),f!=null&&l.push(Pl(t,f,d))),t.tag===3)return l;t=t.return}return[]}function no(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5&&t.tag!==27);return t||null}function g_(t,r,a,l,f){for(var d=r._reactName,_=[];a!==null&&a!==l;){var S=a,V=S.alternate,$=S.stateNode;if(S=S.tag,V!==null&&V===l)break;S!==5&&S!==26&&S!==27||$===null||(V=$,f?($=Os(a,d),$!=null&&_.unshift(Pl(a,$,V))):f||($=Os(a,d),$!=null&&_.push(Pl(a,$,V)))),a=a.return}_.length!==0&&t.push({event:r,listeners:_})}var Jb=/\r\n?/g,ew=/\u0000|\uFFFD/g;function y_(t){return(typeof t=="string"?t:""+t).replace(Jb,`
`).replace(ew,"")}function v_(t,r){return r=y_(r),y_(t)===r}function Hc(){}function Ze(t,r,a,l,f,d){switch(a){case"children":typeof l=="string"?r==="body"||r==="textarea"&&l===""||Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&r!=="body"&&Nn(t,""+l);break;case"className":ai(t,"class",l);break;case"tabIndex":ai(t,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":ai(t,a,l);break;case"style":Xo(t,l,d);break;case"data":if(r!=="object"){ai(t,"data",l);break}case"src":case"href":if(l===""&&(r!=="a"||a!=="href")){t.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){t.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof d=="function"&&(a==="formAction"?(r!=="input"&&Ze(t,r,"name",f.name,f,null),Ze(t,r,"formEncType",f.formEncType,f,null),Ze(t,r,"formMethod",f.formMethod,f,null),Ze(t,r,"formTarget",f.formTarget,f,null)):(Ze(t,r,"encType",f.encType,f,null),Ze(t,r,"method",f.method,f,null),Ze(t,r,"target",f.target,f,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){t.removeAttribute(a);break}l=Aa(""+l),t.setAttribute(a,l);break;case"onClick":l!=null&&(t.onclick=Hc);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"multiple":t.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":t.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){t.removeAttribute("xlink:href");break}a=Aa(""+l),t.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""+l):t.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,""):t.removeAttribute(a);break;case"capture":case"download":l===!0?t.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?t.setAttribute(a,l):t.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?t.setAttribute(a,l):t.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?t.removeAttribute(a):t.setAttribute(a,l);break;case"popover":Me("beforetoggle",t),Me("toggle",t),Tr(t,"popover",l);break;case"xlinkActuate":Ht(t,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Ht(t,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Ht(t,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Ht(t,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Ht(t,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Ht(t,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Ht(t,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Tr(t,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Nf.get(a)||a,Tr(t,a,l))}}function am(t,r,a,l,f,d){switch(a){case"style":Xo(t,l,d);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(s(61));if(a=l.__html,a!=null){if(f.children!=null)throw Error(s(60));t.innerHTML=a}}break;case"children":typeof l=="string"?Nn(t,l):(typeof l=="number"||typeof l=="bigint")&&Nn(t,""+l);break;case"onScroll":l!=null&&Me("scroll",t);break;case"onScrollEnd":l!=null&&Me("scrollend",t);break;case"onClick":l!=null&&(t.onclick=Hc);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!va.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(f=a.endsWith("Capture"),r=a.slice(2,f?a.length-7:void 0),d=t[_t]||null,d=d!=null?d[a]:null,typeof d=="function"&&t.removeEventListener(r,d,f),typeof l=="function")){typeof d!="function"&&d!==null&&(a in t?t[a]=null:t.hasAttribute(a)&&t.removeAttribute(a)),t.addEventListener(r,l,f);break e}a in t?t[a]=l:l===!0?t.setAttribute(a,""):Tr(t,a,l)}}}function $t(t,r,a){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Me("error",t),Me("load",t);var l=!1,f=!1,d;for(d in a)if(a.hasOwnProperty(d)){var _=a[d];if(_!=null)switch(d){case"src":l=!0;break;case"srcSet":f=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,d,_,a,null)}}f&&Ze(t,r,"srcSet",a.srcSet,a,null),l&&Ze(t,r,"src",a.src,a,null);return;case"input":Me("invalid",t);var S=d=_=f=null,V=null,$=null;for(l in a)if(a.hasOwnProperty(l)){var Z=a[l];if(Z!=null)switch(l){case"name":f=Z;break;case"type":_=Z;break;case"checked":V=Z;break;case"defaultChecked":$=Z;break;case"value":d=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(s(137,r));break;default:Ze(t,r,l,Z,a,null)}}Ns(t,d,S,V,$,_,f,!1),Sa(t);return;case"select":Me("invalid",t),l=_=d=null;for(f in a)if(a.hasOwnProperty(f)&&(S=a[f],S!=null))switch(f){case"value":d=S;break;case"defaultValue":_=S;break;case"multiple":l=S;default:Ze(t,r,f,S,a,null)}r=d,a=_,t.multiple=!!l,r!=null?Pi(t,!!l,r,!1):a!=null&&Pi(t,!!l,a,!0);return;case"textarea":Me("invalid",t),d=f=l=null;for(_ in a)if(a.hasOwnProperty(_)&&(S=a[_],S!=null))switch(_){case"value":l=S;break;case"defaultValue":f=S;break;case"children":d=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(s(91));break;default:Ze(t,r,_,S,a,null)}Ds(t,l,f,d),Sa(t);return;case"option":for(V in a)if(a.hasOwnProperty(V)&&(l=a[V],l!=null))switch(V){case"selected":t.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Ze(t,r,V,l,a,null)}return;case"dialog":Me("beforetoggle",t),Me("toggle",t),Me("cancel",t),Me("close",t);break;case"iframe":case"object":Me("load",t);break;case"video":case"audio":for(l=0;l<Vl.length;l++)Me(Vl[l],t);break;case"image":Me("error",t),Me("load",t);break;case"details":Me("toggle",t);break;case"embed":case"source":case"link":Me("error",t),Me("load",t);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for($ in a)if(a.hasOwnProperty($)&&(l=a[$],l!=null))switch($){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,r));default:Ze(t,r,$,l,a,null)}return;default:if(Wo(r)){for(Z in a)a.hasOwnProperty(Z)&&(l=a[Z],l!==void 0&&am(t,r,Z,l,a,void 0));return}}for(S in a)a.hasOwnProperty(S)&&(l=a[S],l!=null&&Ze(t,r,S,l,a,null))}function tw(t,r,a,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var f=null,d=null,_=null,S=null,V=null,$=null,Z=null;for(Q in a){var ee=a[Q];if(a.hasOwnProperty(Q)&&ee!=null)switch(Q){case"checked":break;case"value":break;case"defaultValue":V=ee;default:l.hasOwnProperty(Q)||Ze(t,r,Q,null,l,ee)}}for(var K in l){var Q=l[K];if(ee=a[K],l.hasOwnProperty(K)&&(Q!=null||ee!=null))switch(K){case"type":d=Q;break;case"name":f=Q;break;case"checked":$=Q;break;case"defaultChecked":Z=Q;break;case"value":_=Q;break;case"defaultValue":S=Q;break;case"children":case"dangerouslySetInnerHTML":if(Q!=null)throw Error(s(137,r));break;default:Q!==ee&&Ze(t,r,K,Q,l,ee)}}vn(t,_,S,V,$,Z,d,f);return;case"select":Q=_=S=K=null;for(d in a)if(V=a[d],a.hasOwnProperty(d)&&V!=null)switch(d){case"value":break;case"multiple":Q=V;default:l.hasOwnProperty(d)||Ze(t,r,d,null,l,V)}for(f in l)if(d=l[f],V=a[f],l.hasOwnProperty(f)&&(d!=null||V!=null))switch(f){case"value":K=d;break;case"defaultValue":S=d;break;case"multiple":_=d;default:d!==V&&Ze(t,r,f,d,l,V)}r=S,a=_,l=Q,K!=null?Pi(t,!!a,K,!1):!!l!=!!a&&(r!=null?Pi(t,!!a,r,!0):Pi(t,!!a,a?[]:"",!1));return;case"textarea":Q=K=null;for(S in a)if(f=a[S],a.hasOwnProperty(S)&&f!=null&&!l.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:Ze(t,r,S,null,l,f)}for(_ in l)if(f=l[_],d=a[_],l.hasOwnProperty(_)&&(f!=null||d!=null))switch(_){case"value":K=f;break;case"defaultValue":Q=f;break;case"children":break;case"dangerouslySetInnerHTML":if(f!=null)throw Error(s(91));break;default:f!==d&&Ze(t,r,_,f,l,d)}Xe(t,K,Q);return;case"option":for(var Ae in a)if(K=a[Ae],a.hasOwnProperty(Ae)&&K!=null&&!l.hasOwnProperty(Ae))switch(Ae){case"selected":t.selected=!1;break;default:Ze(t,r,Ae,null,l,K)}for(V in l)if(K=l[V],Q=a[V],l.hasOwnProperty(V)&&K!==Q&&(K!=null||Q!=null))switch(V){case"selected":t.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:Ze(t,r,V,K,l,Q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var _e in a)K=a[_e],a.hasOwnProperty(_e)&&K!=null&&!l.hasOwnProperty(_e)&&Ze(t,r,_e,null,l,K);for($ in l)if(K=l[$],Q=a[$],l.hasOwnProperty($)&&K!==Q&&(K!=null||Q!=null))switch($){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(s(137,r));break;default:Ze(t,r,$,K,l,Q)}return;default:if(Wo(r)){for(var Je in a)K=a[Je],a.hasOwnProperty(Je)&&K!==void 0&&!l.hasOwnProperty(Je)&&am(t,r,Je,void 0,l,K);for(Z in l)K=l[Z],Q=a[Z],!l.hasOwnProperty(Z)||K===Q||K===void 0&&Q===void 0||am(t,r,Z,K,l,Q);return}}for(var H in a)K=a[H],a.hasOwnProperty(H)&&K!=null&&!l.hasOwnProperty(H)&&Ze(t,r,H,null,l,K);for(ee in l)K=l[ee],Q=a[ee],!l.hasOwnProperty(ee)||K===Q||K==null&&Q==null||Ze(t,r,ee,K,l,Q)}var om=null,lm=null;function qc(t){return t.nodeType===9?t:t.ownerDocument}function __(t){switch(t){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function E_(t,r){if(t===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return t===1&&r==="foreignObject"?0:t}function um(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var cm=null;function nw(){var t=window.event;return t&&t.type==="popstate"?t===cm?!1:(cm=t,!0):(cm=null,!1)}var T_=typeof setTimeout=="function"?setTimeout:void 0,iw=typeof clearTimeout=="function"?clearTimeout:void 0,S_=typeof Promise=="function"?Promise:void 0,rw=typeof queueMicrotask=="function"?queueMicrotask:typeof S_<"u"?function(t){return S_.resolve(null).then(t).catch(sw)}:T_;function sw(t){setTimeout(function(){throw t})}function jr(t){return t==="head"}function A_(t,r){var a=r,l=0,f=0;do{var d=a.nextSibling;if(t.removeChild(a),d&&d.nodeType===8)if(a=d.data,a==="/$"){if(0<l&&8>l){a=l;var _=t.ownerDocument;if(a&1&&kl(_.documentElement),a&2&&kl(_.body),a&4)for(a=_.head,kl(a),_=a.firstChild;_;){var S=_.nextSibling,V=_.nodeName;_[ws]||V==="SCRIPT"||V==="STYLE"||V==="LINK"&&_.rel.toLowerCase()==="stylesheet"||a.removeChild(_),_=S}}if(f===0){t.removeChild(d),Fl(r);return}f--}else a==="$"||a==="$?"||a==="$!"?f++:l=a.charCodeAt(0)-48;else l=0;a=d}while(a);Fl(r)}function hm(t){var r=t.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var a=r;switch(r=r.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":hm(a),Er(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}t.removeChild(a)}}function aw(t,r,a,l){for(;t.nodeType===1;){var f=a;if(t.nodeName.toLowerCase()!==r.toLowerCase()){if(!l&&(t.nodeName!=="INPUT"||t.type!=="hidden"))break}else if(l){if(!t[ws])switch(r){case"meta":if(!t.hasAttribute("itemprop"))break;return t;case"link":if(d=t.getAttribute("rel"),d==="stylesheet"&&t.hasAttribute("data-precedence"))break;if(d!==f.rel||t.getAttribute("href")!==(f.href==null||f.href===""?null:f.href)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin)||t.getAttribute("title")!==(f.title==null?null:f.title))break;return t;case"style":if(t.hasAttribute("data-precedence"))break;return t;case"script":if(d=t.getAttribute("src"),(d!==(f.src==null?null:f.src)||t.getAttribute("type")!==(f.type==null?null:f.type)||t.getAttribute("crossorigin")!==(f.crossOrigin==null?null:f.crossOrigin))&&d&&t.hasAttribute("async")&&!t.hasAttribute("itemprop"))break;return t;default:return t}}else if(r==="input"&&t.type==="hidden"){var d=f.name==null?null:""+f.name;if(f.type==="hidden"&&t.getAttribute("name")===d)return t}else return t;if(t=Qn(t.nextSibling),t===null)break}return null}function ow(t,r,a){if(r==="")return null;for(;t.nodeType!==3;)if((t.nodeType!==1||t.nodeName!=="INPUT"||t.type!=="hidden")&&!a||(t=Qn(t.nextSibling),t===null))return null;return t}function fm(t){return t.data==="$!"||t.data==="$?"&&t.ownerDocument.readyState==="complete"}function lw(t,r){var a=t.ownerDocument;if(t.data!=="$?"||a.readyState==="complete")r();else{var l=function(){r(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),t._reactRetry=l}}function Qn(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?"||r==="F!"||r==="F")break;if(r==="/$")return null}}return t}var dm=null;function b_(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var a=t.data;if(a==="$"||a==="$!"||a==="$?"){if(r===0)return t;r--}else a==="/$"&&r++}t=t.previousSibling}return null}function w_(t,r,a){switch(r=qc(a),t){case"html":if(t=r.documentElement,!t)throw Error(s(452));return t;case"head":if(t=r.head,!t)throw Error(s(453));return t;case"body":if(t=r.body,!t)throw Error(s(454));return t;default:throw Error(s(451))}}function kl(t){for(var r=t.attributes;r.length;)t.removeAttributeNode(r[0]);Er(t)}var jn=new Map,R_=new Set;function Fc(t){return typeof t.getRootNode=="function"?t.getRootNode():t.nodeType===9?t:t.ownerDocument}var er=le.d;le.d={f:uw,r:cw,D:hw,C:fw,L:dw,m:mw,X:gw,S:pw,M:yw};function uw(){var t=er.f(),r=Pc();return t||r}function cw(t){var r=ri(t);r!==null&&r.tag===5&&r.type==="form"?$y(r):er.r(t)}var io=typeof document>"u"?null:document;function C_(t,r,a){var l=io;if(l&&typeof r=="string"&&r){var f=Et(r);f='link[rel="'+t+'"][href="'+f+'"]',typeof a=="string"&&(f+='[crossorigin="'+a+'"]'),R_.has(f)||(R_.add(f),t={rel:t,crossOrigin:a,href:r},l.querySelector(f)===null&&(r=l.createElement("link"),$t(r,"link",t),pt(r),l.head.appendChild(r)))}}function hw(t){er.D(t),C_("dns-prefetch",t,null)}function fw(t,r){er.C(t,r),C_("preconnect",t,r)}function dw(t,r,a){er.L(t,r,a);var l=io;if(l&&t&&r){var f='link[rel="preload"][as="'+Et(r)+'"]';r==="image"&&a&&a.imageSrcSet?(f+='[imagesrcset="'+Et(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(f+='[imagesizes="'+Et(a.imageSizes)+'"]')):f+='[href="'+Et(t)+'"]';var d=f;switch(r){case"style":d=ro(t);break;case"script":d=so(t)}jn.has(d)||(t=E({rel:"preload",href:r==="image"&&a&&a.imageSrcSet?void 0:t,as:r},a),jn.set(d,t),l.querySelector(f)!==null||r==="style"&&l.querySelector(Ll(d))||r==="script"&&l.querySelector(Ul(d))||(r=l.createElement("link"),$t(r,"link",t),pt(r),l.head.appendChild(r)))}}function mw(t,r){er.m(t,r);var a=io;if(a&&t){var l=r&&typeof r.as=="string"?r.as:"script",f='link[rel="modulepreload"][as="'+Et(l)+'"][href="'+Et(t)+'"]',d=f;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":d=so(t)}if(!jn.has(d)&&(t=E({rel:"modulepreload",href:t},r),jn.set(d,t),a.querySelector(f)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Ul(d)))return}l=a.createElement("link"),$t(l,"link",t),pt(l),a.head.appendChild(l)}}}function pw(t,r,a){er.S(t,r,a);var l=io;if(l&&t){var f=ln(l).hoistableStyles,d=ro(t);r=r||"default";var _=f.get(d);if(!_){var S={loading:0,preload:null};if(_=l.querySelector(Ll(d)))S.loading=5;else{t=E({rel:"stylesheet",href:t,"data-precedence":r},a),(a=jn.get(d))&&mm(t,a);var V=_=l.createElement("link");pt(V),$t(V,"link",t),V._p=new Promise(function($,Z){V.onload=$,V.onerror=Z}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Gc(_,r,l)}_={type:"stylesheet",instance:_,count:1,state:S},f.set(d,_)}}}function gw(t,r){er.X(t,r);var a=io;if(a&&t){var l=ln(a).hoistableScripts,f=so(t),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(t=E({src:t,async:!0},r),(r=jn.get(f))&&pm(t,r),d=a.createElement("script"),pt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function yw(t,r){er.M(t,r);var a=io;if(a&&t){var l=ln(a).hoistableScripts,f=so(t),d=l.get(f);d||(d=a.querySelector(Ul(f)),d||(t=E({src:t,async:!0,type:"module"},r),(r=jn.get(f))&&pm(t,r),d=a.createElement("script"),pt(d),$t(d,"link",t),a.head.appendChild(d)),d={type:"script",instance:d,count:1,state:null},l.set(f,d))}}function I_(t,r,a,l){var f=(f=be.current)?Fc(f):null;if(!f)throw Error(s(446));switch(t){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(r=ro(a.href),a=ln(f).hoistableStyles,l=a.get(r),l||(l={type:"style",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){t=ro(a.href);var d=ln(f).hoistableStyles,_=d.get(t);if(_||(f=f.ownerDocument||f,_={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},d.set(t,_),(d=f.querySelector(Ll(t)))&&!d._p&&(_.instance=d,_.state.loading=5),jn.has(t)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},jn.set(t,a),d||vw(f,t,a,_.state))),r&&l===null)throw Error(s(528,""));return _}if(r&&l!==null)throw Error(s(529,""));return null;case"script":return r=a.async,a=a.src,typeof a=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=so(a),a=ln(f).hoistableScripts,l=a.get(r),l||(l={type:"script",instance:null,count:0,state:null},a.set(r,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,t))}}function ro(t){return'href="'+Et(t)+'"'}function Ll(t){return'link[rel="stylesheet"]['+t+"]"}function N_(t){return E({},t,{"data-precedence":t.precedence,precedence:null})}function vw(t,r,a,l){t.querySelector('link[rel="preload"][as="style"]['+r+"]")?l.loading=1:(r=t.createElement("link"),l.preload=r,r.addEventListener("load",function(){return l.loading|=1}),r.addEventListener("error",function(){return l.loading|=2}),$t(r,"link",a),pt(r),t.head.appendChild(r))}function so(t){return'[src="'+Et(t)+'"]'}function Ul(t){return"script[async]"+t}function D_(t,r,a){if(r.count++,r.instance===null)switch(r.type){case"style":var l=t.querySelector('style[data-href~="'+Et(a.href)+'"]');if(l)return r.instance=l,pt(l),l;var f=E({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(t.ownerDocument||t).createElement("style"),pt(l),$t(l,"style",f),Gc(l,a.precedence,t),r.instance=l;case"stylesheet":f=ro(a.href);var d=t.querySelector(Ll(f));if(d)return r.state.loading|=4,r.instance=d,pt(d),d;l=N_(a),(f=jn.get(f))&&mm(l,f),d=(t.ownerDocument||t).createElement("link"),pt(d);var _=d;return _._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),$t(d,"link",l),r.state.loading|=4,Gc(d,a.precedence,t),r.instance=d;case"script":return d=so(a.src),(f=t.querySelector(Ul(d)))?(r.instance=f,pt(f),f):(l=a,(f=jn.get(d))&&(l=E({},a),pm(l,f)),t=t.ownerDocument||t,f=t.createElement("script"),pt(f),$t(f,"link",l),t.head.appendChild(f),r.instance=f);case"void":return null;default:throw Error(s(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(l=r.instance,r.state.loading|=4,Gc(l,a.precedence,t));return r.instance}function Gc(t,r,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),f=l.length?l[l.length-1]:null,d=f,_=0;_<l.length;_++){var S=l[_];if(S.dataset.precedence===r)d=S;else if(d!==f)break}d?d.parentNode.insertBefore(t,d.nextSibling):(r=a.nodeType===9?a.head:a,r.insertBefore(t,r.firstChild))}function mm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.title==null&&(t.title=r.title)}function pm(t,r){t.crossOrigin==null&&(t.crossOrigin=r.crossOrigin),t.referrerPolicy==null&&(t.referrerPolicy=r.referrerPolicy),t.integrity==null&&(t.integrity=r.integrity)}var $c=null;function x_(t,r,a){if($c===null){var l=new Map,f=$c=new Map;f.set(a,l)}else f=$c,l=f.get(a),l||(l=new Map,f.set(a,l));if(l.has(t))return l;for(l.set(t,null),a=a.getElementsByTagName(t),f=0;f<a.length;f++){var d=a[f];if(!(d[ws]||d[Rt]||t==="link"&&d.getAttribute("rel")==="stylesheet")&&d.namespaceURI!=="http://www.w3.org/2000/svg"){var _=d.getAttribute(r)||"";_=t+_;var S=l.get(_);S?S.push(d):l.set(_,[d])}}return l}function O_(t,r,a){t=t.ownerDocument||t,t.head.insertBefore(a,r==="title"?t.querySelector("head > title"):null)}function _w(t,r,a){if(a===1||r.itemProp!=null)return!1;switch(t){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return t=r.disabled,typeof r.precedence=="string"&&t==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function M_(t){return!(t.type==="stylesheet"&&(t.state.loading&3)===0)}var jl=null;function Ew(){}function Tw(t,r,a){if(jl===null)throw Error(s(475));var l=jl;if(r.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(r.state.loading&4)===0){if(r.instance===null){var f=ro(a.href),d=t.querySelector(Ll(f));if(d){t=d._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(l.count++,l=Kc.bind(l),t.then(l,l)),r.state.loading|=4,r.instance=d,pt(d);return}d=t.ownerDocument||t,a=N_(a),(f=jn.get(f))&&mm(a,f),d=d.createElement("link"),pt(d);var _=d;_._p=new Promise(function(S,V){_.onload=S,_.onerror=V}),$t(d,"link",a),r.instance=d}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(r,t),(t=r.state.preload)&&(r.state.loading&3)===0&&(l.count++,r=Kc.bind(l),t.addEventListener("load",r),t.addEventListener("error",r))}}function Sw(){if(jl===null)throw Error(s(475));var t=jl;return t.stylesheets&&t.count===0&&gm(t,t.stylesheets),0<t.count?function(r){var a=setTimeout(function(){if(t.stylesheets&&gm(t,t.stylesheets),t.unsuspend){var l=t.unsuspend;t.unsuspend=null,l()}},6e4);return t.unsuspend=r,function(){t.unsuspend=null,clearTimeout(a)}}:null}function Kc(){if(this.count--,this.count===0){if(this.stylesheets)gm(this,this.stylesheets);else if(this.unsuspend){var t=this.unsuspend;this.unsuspend=null,t()}}}var Qc=null;function gm(t,r){t.stylesheets=null,t.unsuspend!==null&&(t.count++,Qc=new Map,r.forEach(Aw,t),Qc=null,Kc.call(t))}function Aw(t,r){if(!(r.state.loading&4)){var a=Qc.get(t);if(a)var l=a.get(null);else{a=new Map,Qc.set(t,a);for(var f=t.querySelectorAll("link[data-precedence],style[data-precedence]"),d=0;d<f.length;d++){var _=f[d];(_.nodeName==="LINK"||_.getAttribute("media")!=="not all")&&(a.set(_.dataset.precedence,_),l=_)}l&&a.set(null,l)}f=r.instance,_=f.getAttribute("data-precedence"),d=a.get(_)||l,d===l&&a.set(null,f),a.set(_,f),this.count++,l=Kc.bind(this),f.addEventListener("load",l),f.addEventListener("error",l),d?d.parentNode.insertBefore(f,d.nextSibling):(t=t.nodeType===9?t.head:t,t.insertBefore(f,t.firstChild)),r.state.loading|=4}}var zl={$$typeof:Y,Provider:null,Consumer:null,_currentValue:ge,_currentValue2:ge,_threadCount:0};function bw(t,r,a,l,f,d,_,S){this.tag=1,this.containerInfo=t,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Di(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Di(0),this.hiddenUpdates=Di(null),this.identifierPrefix=l,this.onUncaughtError=f,this.onCaughtError=d,this.onRecoverableError=_,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=S,this.incompleteTransitions=new Map}function V_(t,r,a,l,f,d,_,S,V,$,Z,ee){return t=new bw(t,r,a,_,S,V,$,ee),r=1,d===!0&&(r|=24),d=En(3,null,null,r),t.current=d,d.stateNode=t,r=Wf(),r.refCount++,t.pooledCache=r,r.refCount++,d.memoizedState={element:l,isDehydrated:a,cache:r},td(d),t}function P_(t){return t?(t=ka,t):ka}function k_(t,r,a,l,f,d){f=P_(f),l.context===null?l.context=f:l.pendingContext=f,l=Rr(r),l.payload={element:a},d=d===void 0?null:d,d!==null&&(l.callback=d),a=Cr(t,l,r),a!==null&&(wn(a,t,r),gl(a,t,r))}function L_(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var a=t.retryLane;t.retryLane=a!==0&&a<r?a:r}}function ym(t,r){L_(t,r),(t=t.alternate)&&L_(t,r)}function U_(t){if(t.tag===13){var r=Pa(t,67108864);r!==null&&wn(r,t,67108864),ym(t,67108864)}}var Yc=!0;function ww(t,r,a,l){var f=W.T;W.T=null;var d=le.p;try{le.p=2,vm(t,r,a,l)}finally{le.p=d,W.T=f}}function Rw(t,r,a,l){var f=W.T;W.T=null;var d=le.p;try{le.p=8,vm(t,r,a,l)}finally{le.p=d,W.T=f}}function vm(t,r,a,l){if(Yc){var f=_m(l);if(f===null)sm(t,r,l,Xc,a),z_(t,l);else if(Iw(f,t,r,a,l))l.stopPropagation();else if(z_(t,l),r&4&&-1<Cw.indexOf(t)){for(;f!==null;){var d=ri(f);if(d!==null)switch(d.tag){case 3:if(d=d.stateNode,d.current.memoizedState.isDehydrated){var _=qn(d.pendingLanes);if(_!==0){var S=d;for(S.pendingLanes|=2,S.entangledLanes|=2;_;){var V=1<<31-Zt(_);S.entanglements[1]|=V,_&=~V}vi(d),(Qe&6)===0&&(Mc=Cn()+500,Ml(0))}}break;case 13:S=Pa(d,2),S!==null&&wn(S,d,2),Pc(),ym(d,2)}if(d=_m(l),d===null&&sm(t,r,l,Xc,a),d===f)break;f=d}f!==null&&l.stopPropagation()}else sm(t,r,l,null,a)}}function _m(t){return t=Dn(t),Em(t)}var Xc=null;function Em(t){if(Xc=null,t=Oi(t),t!==null){var r=u(t);if(r===null)t=null;else{var a=r.tag;if(a===13){if(t=h(r),t!==null)return t;t=null}else if(a===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null)}}return Xc=t,null}function j_(t){switch(t){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Af()){case Uo:return 2;case ma:return 8;case Es:case bf:return 32;case pa:return 268435456;default:return 32}default:return 32}}var Tm=!1,zr=null,Br=null,Hr=null,Bl=new Map,Hl=new Map,qr=[],Cw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function z_(t,r){switch(t){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":Hr=null;break;case"pointerover":case"pointerout":Bl.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":Hl.delete(r.pointerId)}}function ql(t,r,a,l,f,d){return t===null||t.nativeEvent!==d?(t={blockedOn:r,domEventName:a,eventSystemFlags:l,nativeEvent:d,targetContainers:[f]},r!==null&&(r=ri(r),r!==null&&U_(r)),t):(t.eventSystemFlags|=l,r=t.targetContainers,f!==null&&r.indexOf(f)===-1&&r.push(f),t)}function Iw(t,r,a,l,f){switch(r){case"focusin":return zr=ql(zr,t,r,a,l,f),!0;case"dragenter":return Br=ql(Br,t,r,a,l,f),!0;case"mouseover":return Hr=ql(Hr,t,r,a,l,f),!0;case"pointerover":var d=f.pointerId;return Bl.set(d,ql(Bl.get(d)||null,t,r,a,l,f)),!0;case"gotpointercapture":return d=f.pointerId,Hl.set(d,ql(Hl.get(d)||null,t,r,a,l,f)),!0}return!1}function B_(t){var r=Oi(t.target);if(r!==null){var a=u(r);if(a!==null){if(r=a.tag,r===13){if(r=h(a),r!==null){t.blockedOn=r,Pu(t.priority,function(){if(a.tag===13){var l=bn();l=yr(l);var f=Pa(a,l);f!==null&&wn(f,a,l),ym(a,l)}});return}}else if(r===3&&a.stateNode.current.memoizedState.isDehydrated){t.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wc(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var a=_m(t.nativeEvent);if(a===null){a=t.nativeEvent;var l=new a.constructor(a.type,a);ki=l,a.target.dispatchEvent(l),ki=null}else return r=ri(a),r!==null&&U_(r),t.blockedOn=a,!1;r.shift()}return!0}function H_(t,r,a){Wc(t)&&a.delete(r)}function Nw(){Tm=!1,zr!==null&&Wc(zr)&&(zr=null),Br!==null&&Wc(Br)&&(Br=null),Hr!==null&&Wc(Hr)&&(Hr=null),Bl.forEach(H_),Hl.forEach(H_)}function Zc(t,r){t.blockedOn===r&&(t.blockedOn=null,Tm||(Tm=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Nw)))}var Jc=null;function q_(t){Jc!==t&&(Jc=t,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Jc===t&&(Jc=null);for(var r=0;r<t.length;r+=3){var a=t[r],l=t[r+1],f=t[r+2];if(typeof l!="function"){if(Em(l||a)===null)continue;break}var d=ri(a);d!==null&&(t.splice(r,3),r-=3,Ed(d,{pending:!0,data:f,method:a.method,action:l},l,f))}}))}function Fl(t){function r(V){return Zc(V,t)}zr!==null&&Zc(zr,t),Br!==null&&Zc(Br,t),Hr!==null&&Zc(Hr,t),Bl.forEach(r),Hl.forEach(r);for(var a=0;a<qr.length;a++){var l=qr[a];l.blockedOn===t&&(l.blockedOn=null)}for(;0<qr.length&&(a=qr[0],a.blockedOn===null);)B_(a),a.blockedOn===null&&qr.shift();if(a=(t.ownerDocument||t).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var f=a[l],d=a[l+1],_=f[_t]||null;if(typeof d=="function")_||q_(a);else if(_){var S=null;if(d&&d.hasAttribute("formAction")){if(f=d,_=d[_t]||null)S=_.formAction;else if(Em(f)!==null)continue}else S=_.action;typeof S=="function"?a[l+1]=S:(a.splice(l,3),l-=3),q_(a)}}}function Sm(t){this._internalRoot=t}eh.prototype.render=Sm.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(s(409));var a=r.current,l=bn();k_(a,l,t,r,null,null)},eh.prototype.unmount=Sm.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;k_(t.current,2,null,t,null,null),Pc(),r[In]=null}};function eh(t){this._internalRoot=t}eh.prototype.unstable_scheduleHydration=function(t){if(t){var r=vr();t={blockedOn:null,target:t,priority:r};for(var a=0;a<qr.length&&r!==0&&r<qr[a].priority;a++);qr.splice(a,0,t),a===0&&B_(t)}};var F_=e.version;if(F_!=="19.1.0")throw Error(s(527,F_,"19.1.0"));le.findDOMNode=function(t){var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(s(188)):(t=Object.keys(t).join(","),Error(s(268,t)));return t=p(r),t=t!==null?g(t):null,t=t===null?null:t.stateNode,t};var Dw={bundleType:0,version:"19.1.0",rendererPackageName:"react-dom",currentDispatcherRef:W,reconcilerVersion:"19.1.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!th.isDisabled&&th.supportsFiber)try{ft=th.inject(Dw),Ke=th}catch{}}return $l.createRoot=function(t,r){if(!o(t))throw Error(s(299));var a=!1,l="",f=av,d=ov,_=lv,S=null;return r!=null&&(r.unstable_strictMode===!0&&(a=!0),r.identifierPrefix!==void 0&&(l=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(d=r.onCaughtError),r.onRecoverableError!==void 0&&(_=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(S=r.unstable_transitionCallbacks)),r=V_(t,1,!1,null,null,a,l,f,d,_,S,null),t[In]=r.current,rm(t),new Sm(r)},$l.hydrateRoot=function(t,r,a){if(!o(t))throw Error(s(299));var l=!1,f="",d=av,_=ov,S=lv,V=null,$=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(f=a.identifierPrefix),a.onUncaughtError!==void 0&&(d=a.onUncaughtError),a.onCaughtError!==void 0&&(_=a.onCaughtError),a.onRecoverableError!==void 0&&(S=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(V=a.unstable_transitionCallbacks),a.formState!==void 0&&($=a.formState)),r=V_(t,1,!0,r,a??null,l,f,d,_,S,V,$),r.context=P_(null),a=r.current,l=bn(),l=yr(l),f=Rr(l),f.callback=null,Cr(a,f,l),a=l,r.current.lanes=a,xi(r,a),vi(r),t[In]=r.current,rm(t),new eh(r)},$l.version="19.1.0",$l}var eE;function jw(){if(eE)return wm.exports;eE=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),wm.exports=Uw(),wm.exports}var zw=jw(),Kl={},tE;function Bw(){if(tE)return Kl;tE=1,Object.defineProperty(Kl,"__esModule",{value:!0}),Kl.parse=h,Kl.serialize=g;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,o=Object.prototype.toString,u=(()=>{const T=function(){};return T.prototype=Object.create(null),T})();function h(T,w){const C=new u,N=T.length;if(N<2)return C;const I=w?.decode||E;let O=0;do{const k=T.indexOf("=",O);if(k===-1)break;const Y=T.indexOf(";",O),ae=Y===-1?N:Y;if(k>ae){O=T.lastIndexOf(";",k-1)+1;continue}const oe=m(T,O,k),fe=p(T,k,oe),U=T.slice(oe,fe);if(C[U]===void 0){let D=m(T,k+1,ae),M=p(T,ae,D);const j=I(T.slice(D,M));C[U]=j}O=ae+1}while(O<N);return C}function m(T,w,C){do{const N=T.charCodeAt(w);if(N!==32&&N!==9)return w}while(++w<C);return C}function p(T,w,C){for(;w>C;){const N=T.charCodeAt(--w);if(N!==32&&N!==9)return w+1}return C}function g(T,w,C){const N=C?.encode||encodeURIComponent;if(!i.test(T))throw new TypeError(`argument name is invalid: ${T}`);const I=N(w);if(!e.test(I))throw new TypeError(`argument val is invalid: ${w}`);let O=T+"="+I;if(!C)return O;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);O+="; Max-Age="+C.maxAge}if(C.domain){if(!n.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);O+="; Domain="+C.domain}if(C.path){if(!s.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);O+="; Path="+C.path}if(C.expires){if(!b(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);O+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(O+="; HttpOnly"),C.secure&&(O+="; Secure"),C.partitioned&&(O+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":O+="; Priority=Low";break;case"medium":O+="; Priority=Medium";break;case"high":O+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":O+="; SameSite=Strict";break;case"lax":O+="; SameSite=Lax";break;case"none":O+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return O}function E(T){if(T.indexOf("%")===-1)return T;try{return decodeURIComponent(T)}catch{return T}}function b(T){return o.call(T)==="[object Date]"}return Kl}Bw();var nE="popstate";function Hw(i={}){function e(s,o){let{pathname:u,search:h,hash:m}=s.location;return Qm("",{pathname:u,search:h,hash:m},o.state&&o.state.usr||null,o.state&&o.state.key||"default")}function n(s,o){return typeof o=="string"?o:lu(o)}return Fw(e,n,null,i)}function lt(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Jn(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function qw(){return Math.random().toString(36).substring(2,10)}function iE(i,e){return{usr:i.state,key:i.key,idx:e}}function Qm(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ro(e):e,state:n,key:e&&e.key||s||qw()}}function lu({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ro(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function Fw(i,e,n,s={}){let{window:o=document.defaultView,v5Compat:u=!1}=s,h=o.history,m="POP",p=null,g=E();g==null&&(g=0,h.replaceState({...h.state,idx:g},""));function E(){return(h.state||{idx:null}).idx}function b(){m="POP";let I=E(),O=I==null?null:I-g;g=I,p&&p({action:m,location:N.location,delta:O})}function T(I,O){m="PUSH";let k=Qm(N.location,I,O);g=E()+1;let Y=iE(k,g),ae=N.createHref(k);try{h.pushState(Y,"",ae)}catch(oe){if(oe instanceof DOMException&&oe.name==="DataCloneError")throw oe;o.location.assign(ae)}u&&p&&p({action:m,location:N.location,delta:1})}function w(I,O){m="REPLACE";let k=Qm(N.location,I,O);g=E();let Y=iE(k,g),ae=N.createHref(k);h.replaceState(Y,"",ae),u&&p&&p({action:m,location:N.location,delta:0})}function C(I){return Gw(I)}let N={get action(){return m},get location(){return i(o,h)},listen(I){if(p)throw new Error("A history only accepts one active listener");return o.addEventListener(nE,b),p=I,()=>{o.removeEventListener(nE,b),p=null}},createHref(I){return e(o,I)},createURL:C,encodeLocation(I){let O=C(I);return{pathname:O.pathname,search:O.search,hash:O.hash}},push:T,replace:w,go(I){return h.go(I)}};return N}function Gw(i,e=!1){let n="http://localhost";typeof window<"u"&&(n=window.location.origin!=="null"?window.location.origin:window.location.href),lt(n,"No window.location.(origin|href) available to create URL");let s=typeof i=="string"?i:lu(i);return s=s.replace(/ $/,"%20"),!e&&s.startsWith("//")&&(s=n+s),new URL(s,n)}function $T(i,e,n="/"){return $w(i,e,n,!1)}function $w(i,e,n,s){let o=typeof e=="string"?Ro(e):e,u=ar(o.pathname||"/",n);if(u==null)return null;let h=KT(i);Kw(h);let m=null;for(let p=0;m==null&&p<h.length;++p){let g=rR(u);m=nR(h[p],g,s)}return m}function KT(i,e=[],n=[],s=""){let o=(u,h,m)=>{let p={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};p.relativePath.startsWith("/")&&(lt(p.relativePath.startsWith(s),`Absolute route path "${p.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(s.length));let g=rr([s,p.relativePath]),E=n.concat(p);u.children&&u.children.length>0&&(lt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${g}".`),KT(u.children,e,E,g)),!(u.path==null&&!u.index)&&e.push({path:g,score:eR(g,u.index),routesMeta:E})};return i.forEach((u,h)=>{if(u.path===""||!u.path?.includes("?"))o(u,h);else for(let m of QT(u.path))o(u,h,m)}),e}function QT(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,o=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return o?[u,""]:[u];let h=QT(s.join("/")),m=[];return m.push(...h.map(p=>p===""?u:[u,p].join("/"))),o&&m.push(...h),m.map(p=>i.startsWith("/")&&p===""?"/":p)}function Kw(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:tR(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var Qw=/^:[\w-]+$/,Yw=3,Xw=2,Ww=1,Zw=10,Jw=-2,rE=i=>i==="*";function eR(i,e){let n=i.split("/"),s=n.length;return n.some(rE)&&(s+=Jw),e&&(s+=Xw),n.filter(o=>!rE(o)).reduce((o,u)=>o+(Qw.test(u)?Yw:u===""?Ww:Zw),s)}function tR(i,e){return i.length===e.length&&i.slice(0,-1).every((s,o)=>s===e[o])?i[i.length-1]-e[e.length-1]:0}function nR(i,e,n=!1){let{routesMeta:s}=i,o={},u="/",h=[];for(let m=0;m<s.length;++m){let p=s[m],g=m===s.length-1,E=u==="/"?e:e.slice(u.length)||"/",b=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:g},E),T=p.route;if(!b&&g&&n&&!s[s.length-1].route.index&&(b=Ah({path:p.relativePath,caseSensitive:p.caseSensitive,end:!1},E)),!b)return null;Object.assign(o,b.params),h.push({params:o,pathname:rr([u,b.pathname]),pathnameBase:lR(rr([u,b.pathnameBase])),route:T}),b.pathnameBase!=="/"&&(u=rr([u,b.pathnameBase]))}return h}function Ah(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=iR(i.path,i.caseSensitive,i.end),o=e.match(n);if(!o)return null;let u=o[0],h=u.replace(/(.)\/+$/,"$1"),m=o.slice(1);return{params:s.reduce((g,{paramName:E,isOptional:b},T)=>{if(E==="*"){let C=m[T]||"";h=u.slice(0,u.length-C.length).replace(/(.)\/+$/,"$1")}const w=m[T];return b&&!w?g[E]=void 0:g[E]=(w||"").replace(/%2F/g,"/"),g},{}),pathname:u,pathnameBase:h,pattern:i}}function iR(i,e=!1,n=!0){Jn(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],o="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,p)=>(s.push({paramName:m,isOptional:p!=null}),p?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),o+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?o+="\\/*$":i!==""&&i!=="/"&&(o+="(?:(?=\\/|$))"),[new RegExp(o,e?void 0:"i"),s]}function rR(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Jn(!1,`The URL path "${i}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function ar(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function sR(i,e="/"){let{pathname:n,search:s="",hash:o=""}=typeof i=="string"?Ro(i):i;return{pathname:n?n.startsWith("/")?n:aR(n,e):e,search:uR(s),hash:cR(o)}}function aR(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(o=>{o===".."?n.length>1&&n.pop():o!=="."&&n.push(o)}),n.length>1?n.join("/"):"/"}function Nm(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function oR(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ip(i){let e=oR(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Np(i,e,n,s=!1){let o;typeof i=="string"?o=Ro(i):(o={...i},lt(!o.pathname||!o.pathname.includes("?"),Nm("?","pathname","search",o)),lt(!o.pathname||!o.pathname.includes("#"),Nm("#","pathname","hash",o)),lt(!o.search||!o.search.includes("#"),Nm("#","search","hash",o)));let u=i===""||o.pathname==="",h=u?"/":o.pathname,m;if(h==null)m=n;else{let b=e.length-1;if(!s&&h.startsWith("..")){let T=h.split("/");for(;T[0]==="..";)T.shift(),b-=1;o.pathname=T.join("/")}m=b>=0?e[b]:"/"}let p=sR(o,m),g=h&&h!=="/"&&h.endsWith("/"),E=(u||h===".")&&n.endsWith("/");return!p.pathname.endsWith("/")&&(g||E)&&(p.pathname+="/"),p}var rr=i=>i.join("/").replace(/\/\/+/g,"/"),lR=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),uR=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,cR=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function hR(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var YT=["POST","PUT","PATCH","DELETE"];new Set(YT);var fR=["GET",...YT];new Set(fR);var Co=x.createContext(null);Co.displayName="DataRouter";var Yh=x.createContext(null);Yh.displayName="DataRouterState";var XT=x.createContext({isTransitioning:!1});XT.displayName="ViewTransition";var dR=x.createContext(new Map);dR.displayName="Fetchers";var mR=x.createContext(null);mR.displayName="Await";var ti=x.createContext(null);ti.displayName="Navigation";var vu=x.createContext(null);vu.displayName="Location";var Ii=x.createContext({outlet:null,matches:[],isDataRoute:!1});Ii.displayName="Route";var Dp=x.createContext(null);Dp.displayName="RouteError";function pR(i,{relative:e}={}){lt(Io(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=x.useContext(ti),{hash:o,pathname:u,search:h}=_u(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:rr([n,u])),s.createHref({pathname:m,search:h,hash:o})}function Io(){return x.useContext(vu)!=null}function ds(){return lt(Io(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(vu).location}var WT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function ZT(i){x.useContext(ti).static||x.useLayoutEffect(i)}function xp(){let{isDataRoute:i}=x.useContext(Ii);return i?IR():gR()}function gR(){lt(Io(),"useNavigate() may be used only in the context of a <Router> component.");let i=x.useContext(Co),{basename:e,navigator:n}=x.useContext(ti),{matches:s}=x.useContext(Ii),{pathname:o}=ds(),u=JSON.stringify(Ip(s)),h=x.useRef(!1);return ZT(()=>{h.current=!0}),x.useCallback((p,g={})=>{if(Jn(h.current,WT),!h.current)return;if(typeof p=="number"){n.go(p);return}let E=Np(p,JSON.parse(u),o,g.relative==="path");i==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:rr([e,E.pathname])),(g.replace?n.replace:n.push)(E,g.state,g)},[e,n,u,o,i])}x.createContext(null);function _u(i,{relative:e}={}){let{matches:n}=x.useContext(Ii),{pathname:s}=ds(),o=JSON.stringify(Ip(n));return x.useMemo(()=>Np(i,JSON.parse(o),s,e==="path"),[i,o,s,e])}function yR(i,e){return JT(i,e)}function JT(i,e,n,s){lt(Io(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:o}=x.useContext(ti),{matches:u}=x.useContext(Ii),h=u[u.length-1],m=h?h.params:{},p=h?h.pathname:"/",g=h?h.pathnameBase:"/",E=h&&h.route;{let O=E&&E.path||"";e0(p,!E||O.endsWith("*")||O.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${O}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${O}"> to <Route path="${O==="/"?"*":`${O}/*`}">.`)}let b=ds(),T;if(e){let O=typeof e=="string"?Ro(e):e;lt(g==="/"||O.pathname?.startsWith(g),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${O.pathname}" was given in the \`location\` prop.`),T=O}else T=b;let w=T.pathname||"/",C=w;if(g!=="/"){let O=g.replace(/^\//,"").split("/");C="/"+w.replace(/^\//,"").split("/").slice(O.length).join("/")}let N=$T(i,{pathname:C});Jn(E||N!=null,`No routes matched location "${T.pathname}${T.search}${T.hash}" `),Jn(N==null||N[N.length-1].route.element!==void 0||N[N.length-1].route.Component!==void 0||N[N.length-1].route.lazy!==void 0,`Matched leaf route at location "${T.pathname}${T.search}${T.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let I=SR(N&&N.map(O=>Object.assign({},O,{params:Object.assign({},m,O.params),pathname:rr([g,o.encodeLocation?o.encodeLocation(O.pathname).pathname:O.pathname]),pathnameBase:O.pathnameBase==="/"?g:rr([g,o.encodeLocation?o.encodeLocation(O.pathnameBase).pathname:O.pathnameBase])})),u,n,s);return e&&I?x.createElement(vu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...T},navigationType:"POP"}},I):I}function vR(){let i=CR(),e=hR(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",o={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=x.createElement(x.Fragment,null,x.createElement("p",null,"💿 Hey developer 👋"),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:u},"ErrorBoundary")," or"," ",x.createElement("code",{style:u},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},e),n?x.createElement("pre",{style:o},n):null,h)}var _R=x.createElement(vR,null),ER=class extends x.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?x.createElement(Ii.Provider,{value:this.props.routeContext},x.createElement(Dp.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function TR({routeContext:i,match:e,children:n}){let s=x.useContext(Co);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),x.createElement(Ii.Provider,{value:i},n)}function SR(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let o=i,u=n?.errors;if(u!=null){let p=o.findIndex(g=>g.route.id&&u?.[g.route.id]!==void 0);lt(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),o=o.slice(0,Math.min(o.length,p+1))}let h=!1,m=-1;if(n)for(let p=0;p<o.length;p++){let g=o[p];if((g.route.HydrateFallback||g.route.hydrateFallbackElement)&&(m=p),g.route.id){let{loaderData:E,errors:b}=n,T=g.route.loader&&!E.hasOwnProperty(g.route.id)&&(!b||b[g.route.id]===void 0);if(g.route.lazy||T){h=!0,m>=0?o=o.slice(0,m+1):o=[o[0]];break}}}return o.reduceRight((p,g,E)=>{let b,T=!1,w=null,C=null;n&&(b=u&&g.route.id?u[g.route.id]:void 0,w=g.route.errorElement||_R,h&&(m<0&&E===0?(e0("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),T=!0,C=null):m===E&&(T=!0,C=g.route.hydrateFallbackElement||null)));let N=e.concat(o.slice(0,E+1)),I=()=>{let O;return b?O=w:T?O=C:g.route.Component?O=x.createElement(g.route.Component,null):g.route.element?O=g.route.element:O=p,x.createElement(TR,{match:g,routeContext:{outlet:p,matches:N,isDataRoute:n!=null},children:O})};return n&&(g.route.ErrorBoundary||g.route.errorElement||E===0)?x.createElement(ER,{location:n.location,revalidation:n.revalidation,component:w,error:b,children:I(),routeContext:{outlet:null,matches:N,isDataRoute:!0}}):I()},null)}function Op(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function AR(i){let e=x.useContext(Co);return lt(e,Op(i)),e}function bR(i){let e=x.useContext(Yh);return lt(e,Op(i)),e}function wR(i){let e=x.useContext(Ii);return lt(e,Op(i)),e}function Mp(i){let e=wR(i),n=e.matches[e.matches.length-1];return lt(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function RR(){return Mp("useRouteId")}function CR(){let i=x.useContext(Dp),e=bR("useRouteError"),n=Mp("useRouteError");return i!==void 0?i:e.errors?.[n]}function IR(){let{router:i}=AR("useNavigate"),e=Mp("useNavigate"),n=x.useRef(!1);return ZT(()=>{n.current=!0}),x.useCallback(async(o,u={})=>{Jn(n.current,WT),n.current&&(typeof o=="number"?i.navigate(o):await i.navigate(o,{fromRouteId:e,...u}))},[i,e])}var sE={};function e0(i,e,n){!e&&!sE[i]&&(sE[i]=!0,Jn(!1,n))}x.memo(NR);function NR({routes:i,future:e,state:n}){return JT(i,void 0,n,e)}function DR({to:i,replace:e,state:n,relative:s}){lt(Io(),"<Navigate> may be used only in the context of a <Router> component.");let{static:o}=x.useContext(ti);Jn(!o,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=x.useContext(Ii),{pathname:h}=ds(),m=xp(),p=Np(i,Ip(u),h,s==="path"),g=JSON.stringify(p);return x.useEffect(()=>{m(JSON.parse(g),{replace:e,state:n,relative:s})},[m,g,s,e,n]),null}function Yn(i){lt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function xR({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:o,static:u=!1}){lt(!Io(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=x.useMemo(()=>({basename:h,navigator:o,static:u,future:{}}),[h,o,u]);typeof n=="string"&&(n=Ro(n));let{pathname:p="/",search:g="",hash:E="",state:b=null,key:T="default"}=n,w=x.useMemo(()=>{let C=ar(p,h);return C==null?null:{location:{pathname:C,search:g,hash:E,state:b,key:T},navigationType:s}},[h,p,g,E,b,T,s]);return Jn(w!=null,`<Router basename="${h}"> is not able to match the URL "${p}${g}${E}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:x.createElement(ti.Provider,{value:m},x.createElement(vu.Provider,{children:e,value:w}))}function OR({children:i,location:e}){return yR(Ym(i),e)}function Ym(i,e=[]){let n=[];return x.Children.forEach(i,(s,o)=>{if(!x.isValidElement(s))return;let u=[...e,o];if(s.type===x.Fragment){n.push.apply(n,Ym(s.props.children,u));return}lt(s.type===Yn,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lt(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Ym(s.props.children,u)),n.push(h)}),n}var hh="get",fh="application/x-www-form-urlencoded";function Xh(i){return i!=null&&typeof i.tagName=="string"}function MR(i){return Xh(i)&&i.tagName.toLowerCase()==="button"}function VR(i){return Xh(i)&&i.tagName.toLowerCase()==="form"}function PR(i){return Xh(i)&&i.tagName.toLowerCase()==="input"}function kR(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function LR(i,e){return i.button===0&&(!e||e==="_self")&&!kR(i)}var nh=null;function UR(){if(nh===null)try{new FormData(document.createElement("form"),0),nh=!1}catch{nh=!0}return nh}var jR=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Dm(i){return i!=null&&!jR.has(i)?(Jn(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${fh}"`),null):i}function zR(i,e){let n,s,o,u,h;if(VR(i)){let m=i.getAttribute("action");s=m?ar(m,e):null,n=i.getAttribute("method")||hh,o=Dm(i.getAttribute("enctype"))||fh,u=new FormData(i)}else if(MR(i)||PR(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let p=i.getAttribute("formaction")||m.getAttribute("action");if(s=p?ar(p,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||hh,o=Dm(i.getAttribute("formenctype"))||Dm(m.getAttribute("enctype"))||fh,u=new FormData(m,i),!UR()){let{name:g,type:E,value:b}=i;if(E==="image"){let T=g?`${g}.`:"";u.append(`${T}x`,"0"),u.append(`${T}y`,"0")}else g&&u.append(g,b)}}else{if(Xh(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=hh,s=null,o=fh,h=i}return u&&o==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:o,formData:u,body:h}}function Vp(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function BR(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function HR(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function qR(i,e,n){let s=await Promise.all(i.map(async o=>{let u=e.routes[o.route.id];if(u){let h=await BR(u,n);return h.links?h.links():[]}return[]}));return KR(s.flat(1).filter(HR).filter(o=>o.rel==="stylesheet"||o.rel==="preload").map(o=>o.rel==="stylesheet"?{...o,rel:"prefetch",as:"style"}:{...o,rel:"prefetch"}))}function aE(i,e,n,s,o,u){let h=(p,g)=>n[g]?p.route.id!==n[g].route.id:!0,m=(p,g)=>n[g].pathname!==p.pathname||n[g].route.path?.endsWith("*")&&n[g].params["*"]!==p.params["*"];return u==="assets"?e.filter((p,g)=>h(p,g)||m(p,g)):u==="data"?e.filter((p,g)=>{let E=s.routes[p.route.id];if(!E||!E.hasLoader)return!1;if(h(p,g)||m(p,g))return!0;if(p.route.shouldRevalidate){let b=p.route.shouldRevalidate({currentUrl:new URL(o.pathname+o.search+o.hash,window.origin),currentParams:n[0]?.params||{},nextUrl:new URL(i,window.origin),nextParams:p.params,defaultShouldRevalidate:!0});if(typeof b=="boolean")return b}return!0}):[]}function FR(i,e,{includeHydrateFallback:n}={}){return GR(i.map(s=>{let o=e.routes[s.route.id];if(!o)return[];let u=[o.module];return o.clientActionModule&&(u=u.concat(o.clientActionModule)),o.clientLoaderModule&&(u=u.concat(o.clientLoaderModule)),n&&o.hydrateFallbackModule&&(u=u.concat(o.hydrateFallbackModule)),o.imports&&(u=u.concat(o.imports)),u}).flat(1))}function GR(i){return[...new Set(i)]}function $R(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function KR(i,e){let n=new Set;return new Set(e),i.reduce((s,o)=>{let u=JSON.stringify($R(o));return n.has(u)||(n.add(u),s.push({key:u,link:o})),s},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var QR=new Set([100,101,204,205]);function YR(i,e){let n=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return n.pathname==="/"?n.pathname="_root.data":e&&ar(n.pathname,e)==="/"?n.pathname=`${e.replace(/\/$/,"")}/_root.data`:n.pathname=`${n.pathname.replace(/\/$/,"")}.data`,n}function t0(){let i=x.useContext(Co);return Vp(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function XR(){let i=x.useContext(Yh);return Vp(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var Pp=x.createContext(void 0);Pp.displayName="FrameworkContext";function n0(){let i=x.useContext(Pp);return Vp(i,"You must render this element inside a <HydratedRouter> element"),i}function WR(i,e){let n=x.useContext(Pp),[s,o]=x.useState(!1),[u,h]=x.useState(!1),{onFocus:m,onBlur:p,onMouseEnter:g,onMouseLeave:E,onTouchStart:b}=e,T=x.useRef(null);x.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let N=O=>{O.forEach(k=>{h(k.isIntersecting)})},I=new IntersectionObserver(N,{threshold:.5});return T.current&&I.observe(T.current),()=>{I.disconnect()}}},[i]),x.useEffect(()=>{if(s){let N=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout(N)}}},[s]);let w=()=>{o(!0)},C=()=>{o(!1),h(!1)};return n?i!=="intent"?[u,T,{}]:[u,T,{onFocus:Ql(m,w),onBlur:Ql(p,C),onMouseEnter:Ql(g,w),onMouseLeave:Ql(E,C),onTouchStart:Ql(b,w)}]:[!1,T,{}]}function Ql(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function ZR({page:i,...e}){let{router:n}=t0(),s=x.useMemo(()=>$T(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?x.createElement(e1,{page:i,matches:s,...e}):null}function JR(i){let{manifest:e,routeModules:n}=n0(),[s,o]=x.useState([]);return x.useEffect(()=>{let u=!1;return qR(i,e,n).then(h=>{u||o(h)}),()=>{u=!0}},[i,e,n]),s}function e1({page:i,matches:e,...n}){let s=ds(),{manifest:o,routeModules:u}=n0(),{basename:h}=t0(),{loaderData:m,matches:p}=XR(),g=x.useMemo(()=>aE(i,e,p,o,s,"data"),[i,e,p,o,s]),E=x.useMemo(()=>aE(i,e,p,o,s,"assets"),[i,e,p,o,s]),b=x.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let C=new Set,N=!1;if(e.forEach(O=>{let k=o.routes[O.route.id];!k||!k.hasLoader||(!g.some(Y=>Y.route.id===O.route.id)&&O.route.id in m&&u[O.route.id]?.shouldRevalidate||k.hasClientLoader?N=!0:C.add(O.route.id))}),C.size===0)return[];let I=YR(i,h);return N&&C.size>0&&I.searchParams.set("_routes",e.filter(O=>C.has(O.route.id)).map(O=>O.route.id).join(",")),[I.pathname+I.search]},[h,m,s,o,g,e,i,u]),T=x.useMemo(()=>FR(E,o),[E,o]),w=JR(E);return x.createElement(x.Fragment,null,b.map(C=>x.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...n})),T.map(C=>x.createElement("link",{key:C,rel:"modulepreload",href:C,...n})),w.map(({key:C,link:N})=>x.createElement("link",{key:C,...N})))}function t1(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var i0=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{i0&&(window.__reactRouterVersion="7.6.3")}catch{}function n1({basename:i,children:e,window:n}){let s=x.useRef();s.current==null&&(s.current=Hw({window:n,v5Compat:!0}));let o=s.current,[u,h]=x.useState({action:o.action,location:o.location}),m=x.useCallback(p=>{x.startTransition(()=>h(p))},[h]);return x.useLayoutEffect(()=>o.listen(m),[o,m]),x.createElement(xR,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:o})}var r0=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zn=x.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:o,reloadDocument:u,replace:h,state:m,target:p,to:g,preventScrollReset:E,viewTransition:b,...T},w){let{basename:C}=x.useContext(ti),N=typeof g=="string"&&r0.test(g),I,O=!1;if(typeof g=="string"&&N&&(I=g,i0))try{let M=new URL(window.location.href),j=g.startsWith("//")?new URL(M.protocol+g):new URL(g),B=ar(j.pathname,C);j.origin===M.origin&&B!=null?g=B+j.search+j.hash:O=!0}catch{Jn(!1,`<Link to="${g}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let k=pR(g,{relative:o}),[Y,ae,oe]=WR(s,T),fe=a1(g,{replace:h,state:m,target:p,preventScrollReset:E,relative:o,viewTransition:b});function U(M){e&&e(M),M.defaultPrevented||fe(M)}let D=x.createElement("a",{...T,...oe,href:I||k,onClick:O||u?e:U,ref:t1(w,ae),target:p,"data-discover":!N&&n==="render"?"true":void 0});return Y&&!N?x.createElement(x.Fragment,null,D,x.createElement(ZR,{page:k})):D});zn.displayName="Link";var i1=x.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:o=!1,style:u,to:h,viewTransition:m,children:p,...g},E){let b=_u(h,{relative:g.relative}),T=ds(),w=x.useContext(Yh),{navigator:C,basename:N}=x.useContext(ti),I=w!=null&&h1(b)&&m===!0,O=C.encodeLocation?C.encodeLocation(b).pathname:b.pathname,k=T.pathname,Y=w&&w.navigation&&w.navigation.location?w.navigation.location.pathname:null;n||(k=k.toLowerCase(),Y=Y?Y.toLowerCase():null,O=O.toLowerCase()),Y&&N&&(Y=ar(Y,N)||Y);const ae=O!=="/"&&O.endsWith("/")?O.length-1:O.length;let oe=k===O||!o&&k.startsWith(O)&&k.charAt(ae)==="/",fe=Y!=null&&(Y===O||!o&&Y.startsWith(O)&&Y.charAt(O.length)==="/"),U={isActive:oe,isPending:fe,isTransitioning:I},D=oe?e:void 0,M;typeof s=="function"?M=s(U):M=[s,oe?"active":null,fe?"pending":null,I?"transitioning":null].filter(Boolean).join(" ");let j=typeof u=="function"?u(U):u;return x.createElement(zn,{...g,"aria-current":D,className:M,ref:E,style:j,to:h,viewTransition:m},typeof p=="function"?p(U):p)});i1.displayName="NavLink";var r1=x.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:o,state:u,method:h=hh,action:m,onSubmit:p,relative:g,preventScrollReset:E,viewTransition:b,...T},w)=>{let C=u1(),N=c1(m,{relative:g}),I=h.toLowerCase()==="get"?"get":"post",O=typeof m=="string"&&r0.test(m),k=Y=>{if(p&&p(Y),Y.defaultPrevented)return;Y.preventDefault();let ae=Y.nativeEvent.submitter,oe=ae?.getAttribute("formmethod")||h;C(ae||Y.currentTarget,{fetcherKey:e,method:oe,navigate:n,replace:o,state:u,relative:g,preventScrollReset:E,viewTransition:b})};return x.createElement("form",{ref:w,method:I,action:N,onSubmit:s?p:k,...T,"data-discover":!O&&i==="render"?"true":void 0})});r1.displayName="Form";function s1(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function s0(i){let e=x.useContext(Co);return lt(e,s1(i)),e}function a1(i,{target:e,replace:n,state:s,preventScrollReset:o,relative:u,viewTransition:h}={}){let m=xp(),p=ds(),g=_u(i,{relative:u});return x.useCallback(E=>{if(LR(E,e)){E.preventDefault();let b=n!==void 0?n:lu(p)===lu(g);m(i,{replace:b,state:s,preventScrollReset:o,relative:u,viewTransition:h})}},[p,m,g,n,s,e,i,o,u,h])}var o1=0,l1=()=>`__${String(++o1)}__`;function u1(){let{router:i}=s0("useSubmit"),{basename:e}=x.useContext(ti),n=RR();return x.useCallback(async(s,o={})=>{let{action:u,method:h,encType:m,formData:p,body:g}=zR(s,e);if(o.navigate===!1){let E=o.fetcherKey||l1();await i.fetch(E,n,o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,flushSync:o.flushSync})}else await i.navigate(o.action||u,{preventScrollReset:o.preventScrollReset,formData:p,body:g,formMethod:o.method||h,formEncType:o.encType||m,replace:o.replace,state:o.state,fromRouteId:n,flushSync:o.flushSync,viewTransition:o.viewTransition})},[i,e,n])}function c1(i,{relative:e}={}){let{basename:n}=x.useContext(ti),s=x.useContext(Ii);lt(s,"useFormAction must be used inside a RouteContext");let[o]=s.matches.slice(-1),u={..._u(i||".",{relative:e})},h=ds();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),p=m.getAll("index");if(p.some(E=>E==="")){m.delete("index"),p.filter(b=>b).forEach(b=>m.append("index",b));let E=m.toString();u.search=E?`?${E}`:""}}return(!i||i===".")&&o.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:rr([n,u.pathname])),lu(u)}function h1(i,e={}){let n=x.useContext(XT);lt(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=s0("useViewTransitionState"),o=_u(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=ar(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=ar(n.nextLocation.pathname,s)||n.nextLocation.pathname;return Ah(o.pathname,h)!=null||Ah(o.pathname,u)!=null}[...QR];var f1=GT();const Yl=Qh(f1),d1=()=>{};var oE={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a0=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let o=i.charCodeAt(s);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(o=65536+((o&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},m1=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const o=i[n++];if(o<128)e[s++]=String.fromCharCode(o);else if(o>191&&o<224){const u=i[n++];e[s++]=String.fromCharCode((o&31)<<6|u&63)}else if(o>239&&o<365){const u=i[n++],h=i[n++],m=i[n++],p=((o&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(p>>10)),e[s++]=String.fromCharCode(56320+(p&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((o&15)<<12|(u&63)<<6|h&63)}}return e.join("")},o0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let o=0;o<i.length;o+=3){const u=i[o],h=o+1<i.length,m=h?i[o+1]:0,p=o+2<i.length,g=p?i[o+2]:0,E=u>>2,b=(u&3)<<4|m>>4;let T=(m&15)<<2|g>>6,w=g&63;p||(w=64,h||(T=64)),s.push(n[E],n[b],n[T],n[w])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(a0(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):m1(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let o=0;o<i.length;){const u=n[i.charAt(o++)],m=o<i.length?n[i.charAt(o)]:0;++o;const g=o<i.length?n[i.charAt(o)]:64;++o;const b=o<i.length?n[i.charAt(o)]:64;if(++o,u==null||m==null||g==null||b==null)throw new p1;const T=u<<2|m>>4;if(s.push(T),g!==64){const w=m<<4&240|g>>2;if(s.push(w),b!==64){const C=g<<6&192|b;s.push(C)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class p1 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const g1=function(i){const e=a0(i);return o0.encodeByteArray(e,!0)},bh=function(i){return g1(i).replace(/\./g,"")},l0=function(i){try{return o0.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y1(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=()=>y1().__FIREBASE_DEFAULTS__,_1=()=>{if(typeof process>"u"||typeof oE>"u")return;const i=oE.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},E1=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&l0(i[1]);return e&&JSON.parse(e)},Wh=()=>{try{return d1()||v1()||_1()||E1()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},u0=i=>{var e,n;return(n=(e=Wh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},T1=i=>{const e=u0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},c0=()=>{var i;return(i=Wh())===null||i===void 0?void 0:i.config},h0=i=>{var e;return(e=Wh())===null||e===void 0?void 0:e[`_${i}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function No(i){try{return(i.startsWith("http://")||i.startsWith("https://")?new URL(i).hostname:i).endsWith(".cloudworkstations.dev")}catch{return!1}}async function f0(i){return(await fetch(i,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function A1(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",o=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:o,exp:o+3600,auth_time:o,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[bh(JSON.stringify(n)),bh(JSON.stringify(h)),""].join(".")}const nu={};function b1(){const i={prod:[],emulator:[]};for(const e of Object.keys(nu))nu[e]?i.emulator.push(e):i.prod.push(e);return i}function w1(i){let e=document.getElementById(i),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",i),n=!0),{created:n,element:e}}let lE=!1;function d0(i,e){if(typeof window>"u"||typeof document>"u"||!No(window.location.host)||nu[i]===e||nu[i]||lE)return;nu[i]=e;function n(T){return`__firebase__banner__${T}`}const s="__firebase__banner",u=b1().prod.length>0;function h(){const T=document.getElementById(s);T&&T.remove()}function m(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function p(T,w){T.setAttribute("width","24"),T.setAttribute("id",w),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{lE=!0,h()},T}function E(T,w){T.setAttribute("id",w),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=w1(s),w=n("text"),C=document.getElementById(w)||document.createElement("span"),N=n("learnmore"),I=document.getElementById(N)||document.createElement("a"),O=n("preprendIcon"),k=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Y=T.element;m(Y),E(I,N);const ae=g();p(k,O),Y.append(k,C,I,ae),document.body.appendChild(Y)}u?(C.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function on(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function R1(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(on())}function C1(){var i;const e=(i=Wh())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function I1(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function N1(){const i=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof i=="object"&&i.id!==void 0}function D1(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function x1(){const i=on();return i.indexOf("MSIE ")>=0||i.indexOf("Trident/")>=0}function O1(){return!C1()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function M1(){try{return typeof indexedDB=="object"}catch{return!1}}function V1(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(s);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var u;e(((u=o.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P1="FirebaseError";class fr extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=P1,Object.setPrototypeOf(this,fr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Eu.prototype.create)}}class Eu{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},o=`${this.service}/${e}`,u=this.errors[e],h=u?k1(u,s):"Error",m=`${this.serviceName}: ${h} (${o}).`;return new fr(o,m,s)}}function k1(i,e){return i.replace(L1,(n,s)=>{const o=e[s];return o!=null?String(o):`<${s}?>`})}const L1=/\{\$([^}]+)}/g;function U1(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}function sa(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const o of n){if(!s.includes(o))return!1;const u=i[o],h=e[o];if(uE(u)&&uE(h)){if(!sa(u,h))return!1}else if(u!==h)return!1}for(const o of s)if(!n.includes(o))return!1;return!0}function uE(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tu(i){const e=[];for(const[n,s]of Object.entries(i))Array.isArray(s)?s.forEach(o=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(o))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Xl(i){const e={};return i.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[o,u]=s.split("=");e[decodeURIComponent(o)]=decodeURIComponent(u)}}),e}function Wl(i){const e=i.indexOf("?");if(!e)return"";const n=i.indexOf("#",e);return i.substring(e,n>0?n:void 0)}function j1(i,e){const n=new z1(i,e);return n.subscribe.bind(n)}class z1{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let o;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");B1(e,["next","error","complete"])?o=e:o={next:e,error:n,complete:s},o.next===void 0&&(o.next=xm),o.error===void 0&&(o.error=xm),o.complete===void 0&&(o.complete=xm);const u=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?o.error(this.finalError):o.complete()}catch{}}),this.observers.push(o),u}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function B1(i,e){if(typeof i!="object"||i===null)return!1;for(const n of e)if(n in i&&typeof i[n]=="function")return!0;return!1}function xm(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(i){return i&&i._delegate?i._delegate:i}class aa{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H1=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new S1;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&s.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e?.identifier),o=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(o)return null;throw u}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(F1(e))try{this.getOrInitializeService({instanceIdentifier:ea})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:o});s.resolve(u)}catch{}}}}clearInstance(e=ea){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ea){return this.instances.has(e)}getOptions(e=ea){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(o)}return o}onInit(e,n){var s;const o=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(o))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(o,u);const h=this.instances.get(o);return h&&e(h,o),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const o of s)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:q1(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ea){return this.component?this.component.multipleInstances?e:ea:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function q1(i){return i===ea?void 0:i}function F1(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new H1(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Pe;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(Pe||(Pe={}));const $1={debug:Pe.DEBUG,verbose:Pe.VERBOSE,info:Pe.INFO,warn:Pe.WARN,error:Pe.ERROR,silent:Pe.SILENT},K1=Pe.INFO,Q1={[Pe.DEBUG]:"log",[Pe.VERBOSE]:"log",[Pe.INFO]:"info",[Pe.WARN]:"warn",[Pe.ERROR]:"error"},Y1=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),o=Q1[e];if(o)console[o](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kp{constructor(e){this.name=e,this._logLevel=K1,this._logHandler=Y1,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Pe))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?$1[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Pe.DEBUG,...e),this._logHandler(this,Pe.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Pe.VERBOSE,...e),this._logHandler(this,Pe.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Pe.INFO,...e),this._logHandler(this,Pe.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Pe.WARN,...e),this._logHandler(this,Pe.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Pe.ERROR,...e),this._logHandler(this,Pe.ERROR,...e)}}const X1=(i,e)=>e.some(n=>i instanceof n);let cE,hE;function W1(){return cE||(cE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Z1(){return hE||(hE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const m0=new WeakMap,Xm=new WeakMap,p0=new WeakMap,Om=new WeakMap,Lp=new WeakMap;function J1(i){const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Zr(i.result)),o()},h=()=>{s(i.error),o()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&m0.set(n,i)}).catch(()=>{}),Lp.set(e,i),e}function eC(i){if(Xm.has(i))return;const e=new Promise((n,s)=>{const o=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),o()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),o()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Xm.set(i,e)}let Wm={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Xm.get(i);if(e==="objectStoreNames")return i.objectStoreNames||p0.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Zr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function tC(i){Wm=i(Wm)}function nC(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(Mm(this),e,...n);return p0.set(s,e.sort?e.sort():[e]),Zr(s)}:Z1().includes(i)?function(...e){return i.apply(Mm(this),e),Zr(m0.get(this))}:function(...e){return Zr(i.apply(Mm(this),e))}}function iC(i){return typeof i=="function"?nC(i):(i instanceof IDBTransaction&&eC(i),X1(i,W1())?new Proxy(i,Wm):i)}function Zr(i){if(i instanceof IDBRequest)return J1(i);if(Om.has(i))return Om.get(i);const e=iC(i);return e!==i&&(Om.set(i,e),Lp.set(e,i)),e}const Mm=i=>Lp.get(i);function rC(i,e,{blocked:n,upgrade:s,blocking:o,terminated:u}={}){const h=indexedDB.open(i,e),m=Zr(h);return s&&h.addEventListener("upgradeneeded",p=>{s(Zr(h.result),p.oldVersion,p.newVersion,Zr(h.transaction),p)}),n&&h.addEventListener("blocked",p=>n(p.oldVersion,p.newVersion,p)),m.then(p=>{u&&p.addEventListener("close",()=>u()),o&&p.addEventListener("versionchange",g=>o(g.oldVersion,g.newVersion,g))}).catch(()=>{}),m}const sC=["get","getKey","getAll","getAllKeys","count"],aC=["put","add","delete","clear"],Vm=new Map;function fE(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(Vm.get(e))return Vm.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,o=aC.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(o||sC.includes(n)))return;const u=async function(h,...m){const p=this.transaction(h,o?"readwrite":"readonly");let g=p.store;return s&&(g=g.index(m.shift())),(await Promise.all([g[n](...m),o&&p.done]))[0]};return Vm.set(e,u),u}tC(i=>({...i,get:(e,n,s)=>fE(e,n)||i.get(e,n,s),has:(e,n)=>!!fE(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(lC(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function lC(i){const e=i.getComponent();return e?.type==="VERSION"}const Zm="@firebase/app",dE="0.13.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const or=new kp("@firebase/app"),uC="@firebase/app-compat",cC="@firebase/analytics-compat",hC="@firebase/analytics",fC="@firebase/app-check-compat",dC="@firebase/app-check",mC="@firebase/auth",pC="@firebase/auth-compat",gC="@firebase/database",yC="@firebase/data-connect",vC="@firebase/database-compat",_C="@firebase/functions",EC="@firebase/functions-compat",TC="@firebase/installations",SC="@firebase/installations-compat",AC="@firebase/messaging",bC="@firebase/messaging-compat",wC="@firebase/performance",RC="@firebase/performance-compat",CC="@firebase/remote-config",IC="@firebase/remote-config-compat",NC="@firebase/storage",DC="@firebase/storage-compat",xC="@firebase/firestore",OC="@firebase/ai",MC="@firebase/firestore-compat",VC="firebase",PC="11.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jm="[DEFAULT]",kC={[Zm]:"fire-core",[uC]:"fire-core-compat",[hC]:"fire-analytics",[cC]:"fire-analytics-compat",[dC]:"fire-app-check",[fC]:"fire-app-check-compat",[mC]:"fire-auth",[pC]:"fire-auth-compat",[gC]:"fire-rtdb",[yC]:"fire-data-connect",[vC]:"fire-rtdb-compat",[_C]:"fire-fn",[EC]:"fire-fn-compat",[TC]:"fire-iid",[SC]:"fire-iid-compat",[AC]:"fire-fcm",[bC]:"fire-fcm-compat",[wC]:"fire-perf",[RC]:"fire-perf-compat",[CC]:"fire-rc",[IC]:"fire-rc-compat",[NC]:"fire-gcs",[DC]:"fire-gcs-compat",[xC]:"fire-fst",[MC]:"fire-fst-compat",[OC]:"fire-vertex","fire-js":"fire-js",[VC]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wh=new Map,LC=new Map,ep=new Map;function mE(i,e){try{i.container.addComponent(e)}catch(n){or.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function _o(i){const e=i.name;if(ep.has(e))return or.debug(`There were multiple attempts to register component ${e}.`),!1;ep.set(e,i);for(const n of wh.values())mE(n,i);for(const n of LC.values())mE(n,i);return!0}function Up(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}function Xn(i){return i==null?!1:i.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new Eu("app","Firebase",UC);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jC{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new aa("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Do=PC;function g0(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:Jm,automaticDataCollectionEnabled:!0},e),o=s.name;if(typeof o!="string"||!o)throw Jr.create("bad-app-name",{appName:String(o)});if(n||(n=c0()),!n)throw Jr.create("no-options");const u=wh.get(o);if(u){if(sa(n,u.options)&&sa(s,u.config))return u;throw Jr.create("duplicate-app",{appName:o})}const h=new G1(o);for(const p of ep.values())h.addComponent(p);const m=new jC(n,s,h);return wh.set(o,m),m}function y0(i=Jm){const e=wh.get(i);if(!e&&i===Jm&&c0())return g0();if(!e)throw Jr.create("no-app",{appName:i});return e}function es(i,e,n){var s;let o=(s=kC[i])!==null&&s!==void 0?s:i;n&&(o+=`-${n}`);const u=o.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${o}" with version "${e}":`];u&&m.push(`library name "${o}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),or.warn(m.join(" "));return}_o(new aa(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC="firebase-heartbeat-database",BC=1,uu="firebase-heartbeat-store";let Pm=null;function v0(){return Pm||(Pm=rC(zC,BC,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(uu)}catch(n){console.warn(n)}}}}).catch(i=>{throw Jr.create("idb-open",{originalErrorMessage:i.message})})),Pm}async function HC(i){try{const n=(await v0()).transaction(uu),s=await n.objectStore(uu).get(_0(i));return await n.done,s}catch(e){if(e instanceof fr)or.warn(e.message);else{const n=Jr.create("idb-get",{originalErrorMessage:e?.message});or.warn(n.message)}}}async function pE(i,e){try{const s=(await v0()).transaction(uu,"readwrite");await s.objectStore(uu).put(e,_0(i)),await s.done}catch(n){if(n instanceof fr)or.warn(n.message);else{const s=Jr.create("idb-set",{originalErrorMessage:n?.message});or.warn(s.message)}}}function _0(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qC=1024,FC=30;class GC{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new KC(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=gE();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u))return;if(this._heartbeatsCache.heartbeats.push({date:u,agent:o}),this._heartbeatsCache.heartbeats.length>FC){const h=QC(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(h,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){or.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=gE(),{heartbeatsToSend:s,unsentEntries:o}=$C(this._heartbeatsCache.heartbeats),u=bh(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return or.warn(n),""}}}function gE(){return new Date().toISOString().substring(0,10)}function $C(i,e=qC){const n=[];let s=i.slice();for(const o of i){const u=n.find(h=>h.agent===o.agent);if(u){if(u.dates.push(o.date),yE(n)>e){u.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),yE(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class KC{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return M1()?V1().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await HC(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return pE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return pE(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function yE(i){return bh(JSON.stringify({version:2,heartbeats:i})).length}function QC(i){if(i.length===0)return-1;let e=0,n=i[0].date;for(let s=1;s<i.length;s++)i[s].date<n&&(n=i[s].date,e=s);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YC(i){_o(new aa("platform-logger",e=>new oC(e),"PRIVATE")),_o(new aa("heartbeat",e=>new GC(e),"PRIVATE")),es(Zm,dE,i),es(Zm,dE,"esm2017"),es("fire-js","")}YC("");function jp(i,e){var n={};for(var s in i)Object.prototype.hasOwnProperty.call(i,s)&&e.indexOf(s)<0&&(n[s]=i[s]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,s=Object.getOwnPropertySymbols(i);o<s.length;o++)e.indexOf(s[o])<0&&Object.prototype.propertyIsEnumerable.call(i,s[o])&&(n[s[o]]=i[s[o]]);return n}function E0(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const XC=E0,T0=new Eu("auth","Firebase",E0());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rh=new kp("@firebase/auth");function WC(i,...e){Rh.logLevel<=Pe.WARN&&Rh.warn(`Auth (${Do}): ${i}`,...e)}function dh(i,...e){Rh.logLevel<=Pe.ERROR&&Rh.error(`Auth (${Do}): ${i}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ei(i,...e){throw zp(i,...e)}function Ei(i,...e){return zp(i,...e)}function S0(i,e,n){const s=Object.assign(Object.assign({},XC()),{[e]:n});return new Eu("auth","Firebase",s).create(e,{appName:i.name})}function ts(i){return S0(i,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function zp(i,...e){if(typeof i!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=i.name),i._errorFactory.create(n,...s)}return T0.create(i,...e)}function Te(i,e,...n){if(!i)throw zp(e,...n)}function nr(i){const e="INTERNAL ASSERTION FAILED: "+i;throw dh(e),new Error(e)}function lr(i,e){i||nr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tp(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.href)||""}function ZC(){return vE()==="http:"||vE()==="https:"}function vE(){var i;return typeof self<"u"&&((i=self.location)===null||i===void 0?void 0:i.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JC(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZC()||N1()||"connection"in navigator)?navigator.onLine:!0}function eI(){if(typeof navigator>"u")return null;const i=navigator;return i.languages&&i.languages[0]||i.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.shortDelay=e,this.longDelay=n,lr(n>e,"Short delay should be less than long delay!"),this.isMobile=R1()||D1()}get(){return JC()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bp(i,e){lr(i.emulator,"Emulator should always be set here");const{url:n}=i.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A0{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;nr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;nr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;nr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tI={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],iI=new Su(3e4,6e4);function ca(i,e){return i.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:i.tenantId}):e}async function ms(i,e,n,s,o={}){return b0(i,o,async()=>{let u={},h={};s&&(e==="GET"?h=s:u={body:JSON.stringify(s)});const m=Tu(Object.assign({key:i.config.apiKey},h)).slice(1),p=await i._getAdditionalHeaders();p["Content-Type"]="application/json",i.languageCode&&(p["X-Firebase-Locale"]=i.languageCode);const g=Object.assign({method:e,headers:p},u);return I1()||(g.referrerPolicy="no-referrer"),i.emulatorConfig&&No(i.emulatorConfig.host)&&(g.credentials="include"),A0.fetch()(await w0(i,i.config.apiHost,n,m),g)})}async function b0(i,e,n){i._canInitEmulator=!1;const s=Object.assign(Object.assign({},tI),e);try{const o=new sI(i),u=await Promise.race([n(),o.promise]);o.clearNetworkTimeout();const h=await u.json();if("needConfirmation"in h)throw ih(i,"account-exists-with-different-credential",h);if(u.ok&&!("errorMessage"in h))return h;{const m=u.ok?h.errorMessage:h.error.message,[p,g]=m.split(" : ");if(p==="FEDERATED_USER_ID_ALREADY_LINKED")throw ih(i,"credential-already-in-use",h);if(p==="EMAIL_EXISTS")throw ih(i,"email-already-in-use",h);if(p==="USER_DISABLED")throw ih(i,"user-disabled",h);const E=s[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw S0(i,E,g);ei(i,E)}}catch(o){if(o instanceof fr)throw o;ei(i,"network-request-failed",{message:String(o)})}}async function Zh(i,e,n,s,o={}){const u=await ms(i,e,n,s,o);return"mfaPendingCredential"in u&&ei(i,"multi-factor-auth-required",{_serverResponse:u}),u}async function w0(i,e,n,s){const o=`${e}${n}?${s}`,u=i,h=u.config.emulator?Bp(i.config,o):`${i.config.apiScheme}://${o}`;return nI.includes(n)&&(await u._persistenceManagerAvailable,u._getPersistenceType()==="COOKIE")?u._getPersistence()._getFinalTarget(h).toString():h}function rI(i){switch(i){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class sI{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Ei(this.auth,"network-request-failed")),iI.get())})}}function ih(i,e,n){const s={appName:i.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const o=Ei(i,e,s);return o.customData._tokenResponse=n,o}function _E(i){return i!==void 0&&i.enterprise!==void 0}class aI{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return rI(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function oI(i,e){return ms(i,"GET","/v2/recaptchaConfig",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lI(i,e){return ms(i,"POST","/v1/accounts:delete",e)}async function Ch(i,e){return ms(i,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iu(i){if(i)try{const e=new Date(Number(i));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function uI(i,e=!1){const n=Yt(i),s=await n.getIdToken(e),o=Hp(s);Te(o&&o.exp&&o.auth_time&&o.iat,n.auth,"internal-error");const u=typeof o.firebase=="object"?o.firebase:void 0,h=u?.sign_in_provider;return{claims:o,token:s,authTime:iu(km(o.auth_time)),issuedAtTime:iu(km(o.iat)),expirationTime:iu(km(o.exp)),signInProvider:h||null,signInSecondFactor:u?.sign_in_second_factor||null}}function km(i){return Number(i)*1e3}function Hp(i){const[e,n,s]=i.split(".");if(e===void 0||n===void 0||s===void 0)return dh("JWT malformed, contained fewer than 3 sections"),null;try{const o=l0(n);return o?JSON.parse(o):(dh("Failed to decode base64 JWT payload"),null)}catch(o){return dh("Caught error parsing JWT payload as JSON",o?.toString()),null}}function EE(i){const e=Hp(i);return Te(e,"internal-error"),Te(typeof e.exp<"u","internal-error"),Te(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cu(i,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof fr&&cI(s)&&i.auth.currentUser===i&&await i.auth.signOut(),s}}function cI({code:i}){return i==="auth/user-disabled"||i==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const o=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,o)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class np{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=iu(this.lastLoginAt),this.creationTime=iu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ih(i){var e;const n=i.auth,s=await i.getIdToken(),o=await cu(i,Ch(n,{idToken:s}));Te(o?.users.length,n,"internal-error");const u=o.users[0];i._notifyReloadListener(u);const h=!((e=u.providerUserInfo)===null||e===void 0)&&e.length?R0(u.providerUserInfo):[],m=dI(i.providerData,h),p=i.isAnonymous,g=!(i.email&&u.passwordHash)&&!m?.length,E=p?g:!1,b={uid:u.localId,displayName:u.displayName||null,photoURL:u.photoUrl||null,email:u.email||null,emailVerified:u.emailVerified||!1,phoneNumber:u.phoneNumber||null,tenantId:u.tenantId||null,providerData:m,metadata:new np(u.createdAt,u.lastLoginAt),isAnonymous:E};Object.assign(i,b)}async function fI(i){const e=Yt(i);await Ih(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function dI(i,e){return[...i.filter(s=>!e.some(o=>o.providerId===s.providerId)),...e]}function R0(i){return i.map(e=>{var{providerId:n}=e,s=jp(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mI(i,e){const n=await b0(i,{},async()=>{const s=Tu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:o,apiKey:u}=i.config,h=await w0(i,o,"/v1/token",`key=${u}`),m=await i._getAdditionalHeaders();m["Content-Type"]="application/x-www-form-urlencoded";const p={method:"POST",headers:m,body:s};return i.emulatorConfig&&No(i.emulatorConfig.host)&&(p.credentials="include"),A0.fetch()(h,p)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function pI(i,e){return ms(i,"POST","/v2/accounts:revokeToken",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Te(e.idToken,"internal-error"),Te(typeof e.idToken<"u","internal-error"),Te(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):EE(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Te(e.length!==0,"internal-error");const n=EE(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Te(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:o,expiresIn:u}=await mI(e,n);this.updateTokensAndExpiration(s,o,Number(u))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:o,expirationTime:u}=n,h=new fo;return s&&(Te(typeof s=="string","internal-error",{appName:e}),h.refreshToken=s),o&&(Te(typeof o=="string","internal-error",{appName:e}),h.accessToken=o),u&&(Te(typeof u=="number","internal-error",{appName:e}),h.expirationTime=u),h}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new fo,this.toJSON())}_performRefresh(){return nr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gr(i,e){Te(typeof i=="string"||typeof i>"u","internal-error",{appName:e})}class Wn{constructor(e){var{uid:n,auth:s,stsTokenManager:o}=e,u=jp(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new hI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=o,this.accessToken=o.accessToken,this.displayName=u.displayName||null,this.email=u.email||null,this.emailVerified=u.emailVerified||!1,this.phoneNumber=u.phoneNumber||null,this.photoURL=u.photoURL||null,this.isAnonymous=u.isAnonymous||!1,this.tenantId=u.tenantId||null,this.providerData=u.providerData?[...u.providerData]:[],this.metadata=new np(u.createdAt||void 0,u.lastLoginAt||void 0)}async getIdToken(e){const n=await cu(this,this.stsTokenManager.getToken(this.auth,e));return Te(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return uI(this,e)}reload(){return fI(this)}_assign(e){this!==e&&(Te(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new Wn(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){Te(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Ih(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Xn(this.auth.app))return Promise.reject(ts(this.auth));const e=await this.getIdToken();return await cu(this,lI(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,o,u,h,m,p,g,E;const b=(s=n.displayName)!==null&&s!==void 0?s:void 0,T=(o=n.email)!==null&&o!==void 0?o:void 0,w=(u=n.phoneNumber)!==null&&u!==void 0?u:void 0,C=(h=n.photoURL)!==null&&h!==void 0?h:void 0,N=(m=n.tenantId)!==null&&m!==void 0?m:void 0,I=(p=n._redirectEventId)!==null&&p!==void 0?p:void 0,O=(g=n.createdAt)!==null&&g!==void 0?g:void 0,k=(E=n.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:Y,emailVerified:ae,isAnonymous:oe,providerData:fe,stsTokenManager:U}=n;Te(Y&&U,e,"internal-error");const D=fo.fromJSON(this.name,U);Te(typeof Y=="string",e,"internal-error"),Gr(b,e.name),Gr(T,e.name),Te(typeof ae=="boolean",e,"internal-error"),Te(typeof oe=="boolean",e,"internal-error"),Gr(w,e.name),Gr(C,e.name),Gr(N,e.name),Gr(I,e.name),Gr(O,e.name),Gr(k,e.name);const M=new Wn({uid:Y,auth:e,email:T,emailVerified:ae,displayName:b,isAnonymous:oe,photoURL:C,phoneNumber:w,tenantId:N,stsTokenManager:D,createdAt:O,lastLoginAt:k});return fe&&Array.isArray(fe)&&(M.providerData=fe.map(j=>Object.assign({},j))),I&&(M._redirectEventId=I),M}static async _fromIdTokenResponse(e,n,s=!1){const o=new fo;o.updateFromServerResponse(n);const u=new Wn({uid:n.localId,auth:e,stsTokenManager:o,isAnonymous:s});return await Ih(u),u}static async _fromGetAccountInfoResponse(e,n,s){const o=n.users[0];Te(o.localId!==void 0,"internal-error");const u=o.providerUserInfo!==void 0?R0(o.providerUserInfo):[],h=!(o.email&&o.passwordHash)&&!u?.length,m=new fo;m.updateFromIdToken(s);const p=new Wn({uid:o.localId,auth:e,stsTokenManager:m,isAnonymous:h}),g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:u,metadata:new np(o.createdAt,o.lastLoginAt),isAnonymous:!(o.email&&o.passwordHash)&&!u?.length};return Object.assign(p,g),p}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE=new Map;function ir(i){lr(i instanceof Function,"Expected a class definition");let e=TE.get(i);return e?(lr(e instanceof i,"Instance stored in cache mismatched with class"),e):(e=new i,TE.set(i,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C0{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}C0.type="NONE";const SE=C0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(i,e,n){return`firebase:${i}:${e}:${n}`}class mo{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:o,name:u}=this.auth;this.fullUserKey=mh(this.userKey,o.apiKey,u),this.fullPersistenceKey=mh("persistence",o.apiKey,u),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Ch(this.auth,{idToken:e}).catch(()=>{});return n?Wn._fromGetAccountInfoResponse(this.auth,n,e):null}return Wn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new mo(ir(SE),e,s);const o=(await Promise.all(n.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let u=o[0]||ir(SE);const h=mh(s,e.config.apiKey,e.name);let m=null;for(const g of n)try{const E=await g._get(h);if(E){let b;if(typeof E=="string"){const T=await Ch(e,{idToken:E}).catch(()=>{});if(!T)break;b=await Wn._fromGetAccountInfoResponse(e,T,E)}else b=Wn._fromJSON(e,E);g!==u&&(m=b),u=g;break}}catch{}const p=o.filter(g=>g._shouldAllowMigration);return!u._shouldAllowMigration||!p.length?new mo(u,e,s):(u=p[0],m&&await u._set(h,m.toJSON()),await Promise.all(n.map(async g=>{if(g!==u)try{await g._remove(h)}catch{}})),new mo(u,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AE(i){const e=i.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(x0(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(I0(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(M0(e))return"Blackberry";if(V0(e))return"Webos";if(N0(e))return"Safari";if((e.includes("chrome/")||D0(e))&&!e.includes("edge/"))return"Chrome";if(O0(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=i.match(n);if(s?.length===2)return s[1]}return"Other"}function I0(i=on()){return/firefox\//i.test(i)}function N0(i=on()){const e=i.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function D0(i=on()){return/crios\//i.test(i)}function x0(i=on()){return/iemobile/i.test(i)}function O0(i=on()){return/android/i.test(i)}function M0(i=on()){return/blackberry/i.test(i)}function V0(i=on()){return/webos/i.test(i)}function qp(i=on()){return/iphone|ipad|ipod/i.test(i)||/macintosh/i.test(i)&&/mobile/i.test(i)}function gI(i=on()){var e;return qp(i)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function yI(){return x1()&&document.documentMode===10}function P0(i=on()){return qp(i)||O0(i)||V0(i)||M0(i)||/windows phone/i.test(i)||x0(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k0(i,e=[]){let n;switch(i){case"Browser":n=AE(on());break;case"Worker":n=`${AE(on())}-${i}`;break;default:n=i}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Do}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vI{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=u=>new Promise((h,m)=>{try{const p=e(u);h(p)}catch(p){m(p)}});s.onAbort=n,this.queue.push(s);const o=this.queue.length-1;return()=>{this.queue[o]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const o of n)try{o()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s?.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _I(i,e={}){return ms(i,"GET","/v2/passwordPolicy",ca(i,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EI=6;class TI{constructor(e){var n,s,o,u;const h=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=h.minPasswordLength)!==null&&n!==void 0?n:EI,h.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=h.maxPasswordLength),h.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=h.containsLowercaseCharacter),h.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=h.containsUppercaseCharacter),h.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=h.containsNumericCharacter),h.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=h.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(o=(s=e.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&o!==void 0?o:"",this.forceUpgradeOnSignin=(u=e.forceUpgradeOnSignin)!==null&&u!==void 0?u:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,s,o,u,h,m;const p={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,p),this.validatePasswordCharacterOptions(e,p),p.isValid&&(p.isValid=(n=p.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),p.isValid&&(p.isValid=(s=p.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),p.isValid&&(p.isValid=(o=p.containsLowercaseLetter)!==null&&o!==void 0?o:!0),p.isValid&&(p.isValid=(u=p.containsUppercaseLetter)!==null&&u!==void 0?u:!0),p.isValid&&(p.isValid=(h=p.containsNumericCharacter)!==null&&h!==void 0?h:!0),p.isValid&&(p.isValid=(m=p.containsNonAlphanumericCharacter)!==null&&m!==void 0?m:!0),p}validatePasswordLengthOptions(e,n){const s=this.customStrengthOptions.minPasswordLength,o=this.customStrengthOptions.maxPasswordLength;s&&(n.meetsMinPasswordLength=e.length>=s),o&&(n.meetsMaxPasswordLength=e.length<=o)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let s;for(let o=0;o<e.length;o++)s=e.charAt(o),this.updatePasswordCharacterOptionsStatuses(n,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(e,n,s,o,u){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=o)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,n,s,o){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=o,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new bE(this),this.idTokenSubscription=new bE(this),this.beforeStateQueue=new vI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=T0,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=o.sdkClientVersion,this._persistenceManagerAvailable=new Promise(u=>this._resolvePersistenceManagerAvailable=u)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ir(n)),this._initializationPromise=this.queue(async()=>{var s,o,u;if(!this._deleted&&(this.persistenceManager=await mo.create(this,e),(s=this._resolvePersistenceManagerAvailable)===null||s===void 0||s.call(this),!this._deleted)){if(!((o=this._popupRedirectResolver)===null||o===void 0)&&o._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((u=this.currentUser)===null||u===void 0?void 0:u.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Ch(this,{idToken:e}),s=await Wn._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(s)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Xn(this.app)){const h=this.app.settings.authIdToken;return h?new Promise(m=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(h).then(m,m))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let o=s,u=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const h=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,m=o?._redirectEventId,p=await this.tryRedirectSignIn(e);(!h||h===m)&&p?.user&&(o=p.user,u=!0)}if(!o)return this.directlySetCurrentUser(null);if(!o._redirectEventId){if(u)try{await this.beforeStateQueue.runMiddleware(o)}catch(h){o=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(h))}return o?this.reloadAndSetCurrentUserOrClear(o):this.directlySetCurrentUser(null)}return Te(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===o._redirectEventId?this.directlySetCurrentUser(o):this.reloadAndSetCurrentUserOrClear(o)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Ih(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=eI()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Xn(this.app))return Promise.reject(ts(this));const n=e?Yt(e):null;return n&&Te(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Te(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Xn(this.app)?Promise.reject(ts(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Xn(this.app)?Promise.reject(ts(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ir(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await _I(this),n=new TI(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Eu("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const s=this.onAuthStateChanged(()=>{s(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(s.tenantId=this.tenantId),await pI(this,s)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ir(e)||this._popupRedirectResolver;Te(n,this,"argument-error"),this.redirectPersistenceManager=await mo.create(this,[ir(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,o){if(this._deleted)return()=>{};const u=typeof n=="function"?n:n.next.bind(n);let h=!1;const m=this._isInitialized?Promise.resolve():this._initializationPromise;if(Te(m,this,"internal-error"),m.then(()=>{h||u(this.currentUser)}),typeof n=="function"){const p=e.addObserver(n,s,o);return()=>{h=!0,p()}}else{const p=e.addObserver(n);return()=>{h=!0,p()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Te(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=k0(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const o=await this._getAppCheckToken();return o&&(n["X-Firebase-AppCheck"]=o),n}async _getAppCheckToken(){var e;if(Xn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n?.error&&WC(`Error while retrieving App Check token: ${n.error}`),n?.token}}function xo(i){return Yt(i)}class bE{constructor(e){this.auth=e,this.observer=null,this.addObserver=j1(n=>this.observer=n)}get next(){return Te(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Jh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function AI(i){Jh=i}function L0(i){return Jh.loadJS(i)}function bI(){return Jh.recaptchaEnterpriseScript}function wI(){return Jh.gapiScript}function RI(i){return`__${i}${Math.floor(Math.random()*1e6)}`}class CI{constructor(){this.enterprise=new II}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class II{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const NI="recaptcha-enterprise",U0="NO_RECAPTCHA";class DI{constructor(e){this.type=NI,this.auth=xo(e)}async verify(e="verify",n=!1){async function s(u){if(!n){if(u.tenantId==null&&u._agentRecaptchaConfig!=null)return u._agentRecaptchaConfig.siteKey;if(u.tenantId!=null&&u._tenantRecaptchaConfigs[u.tenantId]!==void 0)return u._tenantRecaptchaConfigs[u.tenantId].siteKey}return new Promise(async(h,m)=>{oI(u,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(p=>{if(p.recaptchaKey===void 0)m(new Error("recaptcha Enterprise site key undefined"));else{const g=new aI(p);return u.tenantId==null?u._agentRecaptchaConfig=g:u._tenantRecaptchaConfigs[u.tenantId]=g,h(g.siteKey)}}).catch(p=>{m(p)})})}function o(u,h,m){const p=window.grecaptcha;_E(p)?p.enterprise.ready(()=>{p.enterprise.execute(u,{action:e}).then(g=>{h(g)}).catch(()=>{h(U0)})}):m(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new CI().execute("siteKey",{action:"verify"}):new Promise((u,h)=>{s(this.auth).then(m=>{if(!n&&_E(window.grecaptcha))o(m,u,h);else{if(typeof window>"u"){h(new Error("RecaptchaVerifier is only supported in browser"));return}let p=bI();p.length!==0&&(p+=m),L0(p).then(()=>{o(m,u,h)}).catch(g=>{h(g)})}}).catch(m=>{h(m)})})}}async function wE(i,e,n,s=!1,o=!1){const u=new DI(i);let h;if(o)h=U0;else try{h=await u.verify(n)}catch{h=await u.verify(n,!0)}const m=Object.assign({},e);if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in m){const p=m.phoneEnrollmentInfo.phoneNumber,g=m.phoneEnrollmentInfo.recaptchaToken;Object.assign(m,{phoneEnrollmentInfo:{phoneNumber:p,recaptchaToken:g,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in m){const p=m.phoneSignInInfo.recaptchaToken;Object.assign(m,{phoneSignInInfo:{recaptchaToken:p,captchaResponse:h,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return m}return s?Object.assign(m,{captchaResp:h}):Object.assign(m,{captchaResponse:h}),Object.assign(m,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(m,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),m}async function RE(i,e,n,s,o){var u;if(!((u=i._getRecaptchaConfig())===null||u===void 0)&&u.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const h=await wE(i,e,n,n==="getOobCode");return s(i,h)}else return s(i,e).catch(async h=>{if(h.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const m=await wE(i,e,n,n==="getOobCode");return s(i,m)}else return Promise.reject(h)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xI(i,e){const n=Up(i,"auth");if(n.isInitialized()){const o=n.getImmediate(),u=n.getOptions();if(sa(u,e??{}))return o;ei(o,"already-initialized")}return n.initialize({options:e})}function OI(i,e){const n=e?.persistence||[],s=(Array.isArray(n)?n:[n]).map(ir);e?.errorMap&&i._updateErrorMap(e.errorMap),i._initializeWithPersistence(s,e?.popupRedirectResolver)}function MI(i,e,n){const s=xo(i);Te(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const o=!1,u=j0(e),{host:h,port:m}=VI(e),p=m===null?"":`:${m}`,g={url:`${u}//${h}${p}/`},E=Object.freeze({host:h,port:m,protocol:u.replace(":",""),options:Object.freeze({disableWarnings:o})});if(!s._canInitEmulator){Te(s.config.emulator&&s.emulatorConfig,s,"emulator-config-failed"),Te(sa(g,s.config.emulator)&&sa(E,s.emulatorConfig),s,"emulator-config-failed");return}s.config.emulator=g,s.emulatorConfig=E,s.settings.appVerificationDisabledForTesting=!0,No(h)?(f0(`${u}//${h}${p}`),d0("Auth",!0)):PI()}function j0(i){const e=i.indexOf(":");return e<0?"":i.substr(0,e+1)}function VI(i){const e=j0(i),n=/(\/\/)?([^?#/]+)/.exec(i.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",o=/^(\[[^\]]+\])(:|$)/.exec(s);if(o){const u=o[1];return{host:u,port:CE(s.substr(u.length+1))}}else{const[u,h]=s.split(":");return{host:u,port:CE(h)}}}function CE(i){if(!i)return null;const e=Number(i);return isNaN(e)?null:e}function PI(){function i(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",i):i())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fp{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return nr("not implemented")}_getIdTokenResponse(e){return nr("not implemented")}_linkToIdToken(e,n){return nr("not implemented")}_getReauthenticationResolver(e){return nr("not implemented")}}async function kI(i,e){return ms(i,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function LI(i,e){return Zh(i,"POST","/v1/accounts:signInWithPassword",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UI(i,e){return Zh(i,"POST","/v1/accounts:signInWithEmailLink",ca(i,e))}async function jI(i,e){return Zh(i,"POST","/v1/accounts:signInWithEmailLink",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu extends Fp{constructor(e,n,s,o=null){super("password",s),this._email=e,this._password=n,this._tenantId=o}static _fromEmailAndPassword(e,n){return new hu(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new hu(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return RE(e,n,"signInWithPassword",LI);case"emailLink":return UI(e,{email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const s={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return RE(e,s,"signUpPassword",kI);case"emailLink":return jI(e,{idToken:n,email:this._email,oobCode:this._password});default:ei(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function po(i,e){return Zh(i,"POST","/v1/accounts:signInWithIdp",ca(i,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zI="http://localhost";class oa extends Fp{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new oa(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):ei("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:o}=n,u=jp(n,["providerId","signInMethod"]);if(!s||!o)return null;const h=new oa(s,o);return h.idToken=u.idToken||void 0,h.accessToken=u.accessToken||void 0,h.secret=u.secret,h.nonce=u.nonce,h.pendingToken=u.pendingToken||null,h}_getIdTokenResponse(e){const n=this.buildRequest();return po(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,po(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,po(e,n)}buildRequest(){const e={requestUri:zI,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Tu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BI(i){switch(i){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HI(i){const e=Xl(Wl(i)).link,n=e?Xl(Wl(e)).deep_link_id:null,s=Xl(Wl(i)).deep_link_id;return(s?Xl(Wl(s)).link:null)||s||n||e||i}class Gp{constructor(e){var n,s,o,u,h,m;const p=Xl(Wl(e)),g=(n=p.apiKey)!==null&&n!==void 0?n:null,E=(s=p.oobCode)!==null&&s!==void 0?s:null,b=BI((o=p.mode)!==null&&o!==void 0?o:null);Te(g&&E&&b,"argument-error"),this.apiKey=g,this.operation=b,this.code=E,this.continueUrl=(u=p.continueUrl)!==null&&u!==void 0?u:null,this.languageCode=(h=p.lang)!==null&&h!==void 0?h:null,this.tenantId=(m=p.tenantId)!==null&&m!==void 0?m:null}static parseLink(e){const n=HI(e);try{return new Gp(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oo{constructor(){this.providerId=Oo.PROVIDER_ID}static credential(e,n){return hu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=Gp.parseLink(n);return Te(s,"argument-error"),hu._fromEmailAndCode(e,s.code,s.tenantId)}}Oo.PROVIDER_ID="password";Oo.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Oo.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends z0{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr extends Au{constructor(){super("facebook.com")}static credential(e){return oa._fromParams({providerId:Kr.PROVIDER_ID,signInMethod:Kr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Kr.credentialFromTaggedObject(e)}static credentialFromError(e){return Kr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Kr.credential(e.oauthAccessToken)}catch{return null}}}Kr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Kr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qr extends Au{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return oa._fromParams({providerId:Qr.PROVIDER_ID,signInMethod:Qr.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Qr.credentialFromTaggedObject(e)}static credentialFromError(e){return Qr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Qr.credential(n,s)}catch{return null}}}Qr.GOOGLE_SIGN_IN_METHOD="google.com";Qr.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yr extends Au{constructor(){super("github.com")}static credential(e){return oa._fromParams({providerId:Yr.PROVIDER_ID,signInMethod:Yr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Yr.credentialFromTaggedObject(e)}static credentialFromError(e){return Yr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Yr.credential(e.oauthAccessToken)}catch{return null}}}Yr.GITHUB_SIGN_IN_METHOD="github.com";Yr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr extends Au{constructor(){super("twitter.com")}static credential(e,n){return oa._fromParams({providerId:Xr.PROVIDER_ID,signInMethod:Xr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Xr.credentialFromTaggedObject(e)}static credentialFromError(e){return Xr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Xr.credential(n,s)}catch{return null}}}Xr.TWITTER_SIGN_IN_METHOD="twitter.com";Xr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,o=!1){const u=await Wn._fromIdTokenResponse(e,s,o),h=IE(s);return new Eo({user:u,providerId:h,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const o=IE(s);return new Eo({user:e,providerId:o,_tokenResponse:s,operationType:n})}}function IE(i){return i.providerId?i.providerId:"phoneNumber"in i?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nh extends fr{constructor(e,n,s,o){var u;super(n.code,n.message),this.operationType=s,this.user=o,Object.setPrototypeOf(this,Nh.prototype),this.customData={appName:e.name,tenantId:(u=e.tenantId)!==null&&u!==void 0?u:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,o){return new Nh(e,n,s,o)}}function B0(i,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(i):n._getIdTokenResponse(i)).catch(u=>{throw u.code==="auth/multi-factor-auth-required"?Nh._fromErrorAndOperation(i,u,e,s):u})}async function qI(i,e,n=!1){const s=await cu(i,e._linkToIdToken(i.auth,await i.getIdToken()),n);return Eo._forOperation(i,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FI(i,e,n=!1){const{auth:s}=i;if(Xn(s.app))return Promise.reject(ts(s));const o="reauthenticate";try{const u=await cu(i,B0(s,o,e,i),n);Te(u.idToken,s,"internal-error");const h=Hp(u.idToken);Te(h,s,"internal-error");const{sub:m}=h;return Te(i.uid===m,s,"user-mismatch"),Eo._forOperation(i,o,u)}catch(u){throw u?.code==="auth/user-not-found"&&ei(s,"user-mismatch"),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H0(i,e,n=!1){if(Xn(i.app))return Promise.reject(ts(i));const s="signIn",o=await B0(i,s,e),u=await Eo._fromIdTokenResponse(i,s,o);return n||await i._updateCurrentUser(u.user),u}async function GI(i,e){return H0(xo(i),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $I(i){const e=xo(i);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function KI(i,e,n){return Xn(i.app)?Promise.reject(ts(i)):GI(Yt(i),Oo.credential(e,n)).catch(async s=>{throw s.code==="auth/password-does-not-meet-requirements"&&$I(i),s})}function QI(i,e,n,s){return Yt(i).onIdTokenChanged(e,n,s)}function YI(i,e,n){return Yt(i).beforeAuthStateChanged(e,n)}function XI(i,e,n,s){return Yt(i).onAuthStateChanged(e,n,s)}function WI(i){return Yt(i).signOut()}const Dh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Dh,"1"),this.storage.removeItem(Dh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=1e3,JI=10;class F0 extends q0{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=P0(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),o=this.localCache[n];s!==o&&e(n,o,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((h,m,p)=>{this.notifyListeners(h,p)});return}const s=e.key;n?this.detachListener():this.stopPolling();const o=()=>{const h=this.storage.getItem(s);!n&&this.localCache[s]===h||this.notifyListeners(s,h)},u=this.storage.getItem(s);yI()&&u!==e.newValue&&e.newValue!==e.oldValue?setTimeout(o,JI):o()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},ZI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}F0.type="LOCAL";const eN=F0;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0 extends q0{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}G0.type="SESSION";const $0=G0;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tN(i){return Promise.all(i.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(o=>o.isListeningto(e));if(n)return n;const s=new ef(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:o,data:u}=n.data,h=this.handlersMap[o];if(!h?.size)return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const m=Array.from(h).map(async g=>g(n.origin,u)),p=await tN(m);n.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:p})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ef.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $p(i="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return i+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const o=typeof MessageChannel<"u"?new MessageChannel:null;if(!o)throw new Error("connection_unavailable");let u,h;return new Promise((m,p)=>{const g=$p("",20);o.port1.start();const E=setTimeout(()=>{p(new Error("unsupported_event"))},s);h={messageChannel:o,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(E),u=setTimeout(()=>{p(new Error("timeout"))},3e3);break;case"done":clearTimeout(u),m(T.data.response);break;default:clearTimeout(E),clearTimeout(u),p(new Error("invalid_response"));break}}},this.handlers.add(h),o.port1.addEventListener("message",h.onMessage),this.target.postMessage({eventType:e,eventId:g,data:n},[o.port2])}).finally(()=>{h&&this.removeMessageHandler(h)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ti(){return window}function iN(i){Ti().location.href=i}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K0(){return typeof Ti().WorkerGlobalScope<"u"&&typeof Ti().importScripts=="function"}async function rN(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function sN(){var i;return((i=navigator?.serviceWorker)===null||i===void 0?void 0:i.controller)||null}function aN(){return K0()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0="firebaseLocalStorageDb",oN=1,xh="firebaseLocalStorage",Y0="fbase_key";class bu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function tf(i,e){return i.transaction([xh],e?"readwrite":"readonly").objectStore(xh)}function lN(){const i=indexedDB.deleteDatabase(Q0);return new bu(i).toPromise()}function ip(){const i=indexedDB.open(Q0,oN);return new Promise((e,n)=>{i.addEventListener("error",()=>{n(i.error)}),i.addEventListener("upgradeneeded",()=>{const s=i.result;try{s.createObjectStore(xh,{keyPath:Y0})}catch(o){n(o)}}),i.addEventListener("success",async()=>{const s=i.result;s.objectStoreNames.contains(xh)?e(s):(s.close(),await lN(),e(await ip()))})})}async function NE(i,e,n){const s=tf(i,!0).put({[Y0]:e,value:n});return new bu(s).toPromise()}async function uN(i,e){const n=tf(i,!1).get(e),s=await new bu(n).toPromise();return s===void 0?null:s.value}function DE(i,e){const n=tf(i,!0).delete(e);return new bu(n).toPromise()}const cN=800,hN=3;class X0{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await ip(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>hN)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return K0()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ef._getInstance(aN()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await rN(),!this.activeServiceWorker)return;this.sender=new nN(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||sN()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await ip();return await NE(e,Dh,"1"),await DE(e,Dh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>NE(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>uN(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>DE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(o=>{const u=tf(o,!1).getAll();return new bu(u).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;if(e.length!==0)for(const{fbase_key:o,value:u}of e)s.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(u)&&(this.notifyListeners(o,u),n.push(o));for(const o of Object.keys(this.localCache))this.localCache[o]&&!s.has(o)&&(this.notifyListeners(o,null),n.push(o));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const o of Array.from(s))o(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),cN)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}X0.type="LOCAL";const fN=X0;new Su(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dN(i,e){return e?ir(e):(Te(i._popupRedirectResolver,i,"argument-error"),i._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp extends Fp{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return po(e,this._buildIdpRequest())}_linkToIdToken(e,n){return po(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return po(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function mN(i){return H0(i.auth,new Kp(i),i.bypassAuthState)}function pN(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),FI(n,new Kp(i),i.bypassAuthState)}async function gN(i){const{auth:e,user:n}=i;return Te(n,e,"internal-error"),qI(n,new Kp(i),i.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W0{constructor(e,n,s,o,u=!1){this.auth=e,this.resolver=s,this.user=o,this.bypassAuthState=u,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:o,tenantId:u,error:h,type:m}=e;if(h){this.reject(h);return}const p={auth:this.auth,requestUri:n,sessionId:s,tenantId:u||void 0,postBody:o||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(m)(p))}catch(g){this.reject(g)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return mN;case"linkViaPopup":case"linkViaRedirect":return gN;case"reauthViaPopup":case"reauthViaRedirect":return pN;default:ei(this.auth,"internal-error")}}resolve(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){lr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yN=new Su(2e3,1e4);class ho extends W0{constructor(e,n,s,o,u){super(e,n,o,u),this.provider=s,this.authWindow=null,this.pollId=null,ho.currentPopupAction&&ho.currentPopupAction.cancel(),ho.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Te(e,this.auth,"internal-error"),e}async onExecution(){lr(this.filter.length===1,"Popup operations only handle one event");const e=$p();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ei(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Ei(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ho.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ei(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,yN.get())};e()}}ho.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN="pendingRedirect",ph=new Map;class _N extends W0{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=ph.get(this.auth._key());if(!e){try{const s=await EN(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}ph.set(this.auth._key(),e)}return this.bypassAuthState||ph.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function EN(i,e){const n=AN(e),s=SN(i);if(!await s._isAvailable())return!1;const o=await s._get(n)==="true";return await s._remove(n),o}function TN(i,e){ph.set(i._key(),e)}function SN(i){return ir(i._redirectPersistence)}function AN(i){return mh(vN,i.config.apiKey,i.name)}async function bN(i,e,n=!1){if(Xn(i.app))return Promise.reject(ts(i));const s=xo(i),o=dN(s,e),h=await new _N(s,o,n).execute();return h&&!n&&(delete h.user._redirectEventId,await s._persistUserIfCurrent(h.user),await s._setRedirectUser(null,e)),h}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wN=10*60*1e3;class RN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!CN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!Z0(e)){const o=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Ei(this.auth,o))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=wN&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(e))}saveEventToCache(e){this.cachedEventUids.add(xE(e)),this.lastProcessedEventTime=Date.now()}}function xE(i){return[i.type,i.eventId,i.sessionId,i.tenantId].filter(e=>e).join("-")}function Z0({type:i,error:e}){return i==="unknown"&&e?.code==="auth/no-auth-event"}function CN(i){switch(i.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Z0(i);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function IN(i,e={}){return ms(i,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,DN=/^https?/;async function xN(i){if(i.config.emulator)return;const{authorizedDomains:e}=await IN(i);for(const n of e)try{if(ON(n))return}catch{}ei(i,"unauthorized-domain")}function ON(i){const e=tp(),{protocol:n,hostname:s}=new URL(e);if(i.startsWith("chrome-extension://")){const h=new URL(i);return h.hostname===""&&s===""?n==="chrome-extension:"&&i.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&h.hostname===s}if(!DN.test(n))return!1;if(NN.test(i))return s===i;const o=i.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new Su(3e4,6e4);function OE(){const i=Ti().___jsl;if(i?.H){for(const e of Object.keys(i.H))if(i.H[e].r=i.H[e].r||[],i.H[e].L=i.H[e].L||[],i.H[e].r=[...i.H[e].L],i.CP)for(let n=0;n<i.CP.length;n++)i.CP[n]=null}}function VN(i){return new Promise((e,n)=>{var s,o,u;function h(){OE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{OE(),n(Ei(i,"network-request-failed"))},timeout:MN.get()})}if(!((o=(s=Ti().gapi)===null||s===void 0?void 0:s.iframes)===null||o===void 0)&&o.Iframe)e(gapi.iframes.getContext());else if(!((u=Ti().gapi)===null||u===void 0)&&u.load)h();else{const m=RI("iframefcb");return Ti()[m]=()=>{gapi.load?h():n(Ei(i,"network-request-failed"))},L0(`${wI()}?onload=${m}`).catch(p=>n(p))}}).catch(e=>{throw gh=null,e})}let gh=null;function PN(i){return gh=gh||VN(i),gh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN=new Su(5e3,15e3),LN="__/auth/iframe",UN="emulator/auth/iframe",jN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function BN(i){const e=i.config;Te(e.authDomain,i,"auth-domain-config-required");const n=e.emulator?Bp(e,UN):`https://${i.config.authDomain}/${LN}`,s={apiKey:e.apiKey,appName:i.name,v:Do},o=zN.get(i.config.apiHost);o&&(s.eid=o);const u=i._getFrameworks();return u.length&&(s.fw=u.join(",")),`${n}?${Tu(s).slice(1)}`}async function HN(i){const e=await PN(i),n=Ti().gapi;return Te(n,i,"internal-error"),e.open({where:document.body,url:BN(i),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jN,dontclear:!0},s=>new Promise(async(o,u)=>{await s.restyle({setHideOnLeave:!1});const h=Ei(i,"network-request-failed"),m=Ti().setTimeout(()=>{u(h)},kN.get());function p(){Ti().clearTimeout(m),o(s)}s.ping(p).then(p,()=>{u(h)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},FN=500,GN=600,$N="_blank",KN="http://localhost";class ME{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function QN(i,e,n,s=FN,o=GN){const u=Math.max((window.screen.availHeight-o)/2,0).toString(),h=Math.max((window.screen.availWidth-s)/2,0).toString();let m="";const p=Object.assign(Object.assign({},qN),{width:s.toString(),height:o.toString(),top:u,left:h}),g=on().toLowerCase();n&&(m=D0(g)?$N:n),I0(g)&&(e=e||KN,p.scrollbars="yes");const E=Object.entries(p).reduce((T,[w,C])=>`${T}${w}=${C},`,"");if(gI(g)&&m!=="_self")return YN(e||"",m),new ME(null);const b=window.open(e||"",m,E);Te(b,i,"popup-blocked");try{b.focus()}catch{}return new ME(b)}function YN(i,e){const n=document.createElement("a");n.href=i,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN="__/auth/handler",WN="emulator/auth/handler",ZN=encodeURIComponent("fac");async function VE(i,e,n,s,o,u){Te(i.config.authDomain,i,"auth-domain-config-required"),Te(i.config.apiKey,i,"invalid-api-key");const h={apiKey:i.config.apiKey,appName:i.name,authType:n,redirectUrl:s,v:Do,eventId:o};if(e instanceof z0){e.setDefaultLanguage(i.languageCode),h.providerId=e.providerId||"",U1(e.getCustomParameters())||(h.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,b]of Object.entries({}))h[E]=b}if(e instanceof Au){const E=e.getScopes().filter(b=>b!=="");E.length>0&&(h.scopes=E.join(","))}i.tenantId&&(h.tid=i.tenantId);const m=h;for(const E of Object.keys(m))m[E]===void 0&&delete m[E];const p=await i._getAppCheckToken(),g=p?`#${ZN}=${encodeURIComponent(p)}`:"";return`${JN(i)}?${Tu(m).slice(1)}${g}`}function JN({config:i}){return i.emulator?Bp(i,WN):`https://${i.authDomain}/${XN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="webStorageSupport";class eD{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=$0,this._completeRedirectFn=bN,this._overrideRedirectResult=TN}async _openPopup(e,n,s,o){var u;lr((u=this.eventManagers[e._key()])===null||u===void 0?void 0:u.manager,"_initialize() not called before _openPopup()");const h=await VE(e,n,s,tp(),o);return QN(e,h,$p())}async _openRedirect(e,n,s,o){await this._originValidation(e);const u=await VE(e,n,s,tp(),o);return iN(u),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:o,promise:u}=this.eventManagers[n];return o?Promise.resolve(o):(lr(u,"If manager is not set, promise should be"),u)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await HN(e),s=new RN(e);return n.register("authEvent",o=>(Te(o?.authEvent,e,"invalid-auth-event"),{status:s.onEvent(o.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Lm,{type:Lm},o=>{var u;const h=(u=o?.[0])===null||u===void 0?void 0:u[Lm];h!==void 0&&n(!!h),ei(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=xN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return P0()||N0()||qp()}}const tD=eD;var PE="@firebase/auth",kE="1.10.8";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e(s?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Te(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iD(i){switch(i){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function rD(i){_o(new aa("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),o=e.getProvider("heartbeat"),u=e.getProvider("app-check-internal"),{apiKey:h,authDomain:m}=s.options;Te(h&&!h.includes(":"),"invalid-api-key",{appName:s.name});const p={apiKey:h,authDomain:m,clientPlatform:i,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:k0(i)},g=new SI(s,o,u,p);return OI(g,n),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),_o(new aa("auth-internal",e=>{const n=xo(e.getProvider("auth").getImmediate());return(s=>new nD(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),es(PE,kE,iD(i)),es(PE,kE,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sD=5*60,aD=h0("authIdTokenMaxAge")||sD;let LE=null;const oD=i=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>aD)return;const o=n?.token;LE!==o&&(LE=o,await fetch(i,{method:o?"POST":"DELETE",headers:o?{Authorization:`Bearer ${o}`}:{}}))};function lD(i=y0()){const e=Up(i,"auth");if(e.isInitialized())return e.getImmediate();const n=xI(i,{popupRedirectResolver:tD,persistence:[fN,eN,$0]}),s=h0("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const u=new URL(s,location.origin);if(location.origin===u.origin){const h=oD(u.toString());YI(n,h,()=>h(n.currentUser)),QI(n,m=>h(m))}}const o=u0("auth");return o&&MI(n,`http://${o}`),n}function uD(){var i,e;return(e=(i=document.getElementsByTagName("head"))===null||i===void 0?void 0:i[0])!==null&&e!==void 0?e:document}AI({loadJS(i){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",i),s.onload=e,s.onerror=o=>{const u=Ei("internal-error");u.customData=o,n(u)},s.type="text/javascript",s.charset="UTF-8",uD().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});rD("Browser");var cD="firebase",hD="11.10.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */es(cD,hD,"app");var UE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ns,J0;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(U,D){function M(){}M.prototype=D.prototype,U.D=D.prototype,U.prototype=new M,U.prototype.constructor=U,U.C=function(j,B,q){for(var P=Array(arguments.length-2),Bt=2;Bt<arguments.length;Bt++)P[Bt-2]=arguments[Bt];return D.prototype[B].apply(j,P)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function o(U,D,M){M||(M=0);var j=Array(16);if(typeof D=="string")for(var B=0;16>B;++B)j[B]=D.charCodeAt(M++)|D.charCodeAt(M++)<<8|D.charCodeAt(M++)<<16|D.charCodeAt(M++)<<24;else for(B=0;16>B;++B)j[B]=D[M++]|D[M++]<<8|D[M++]<<16|D[M++]<<24;D=U.g[0],M=U.g[1],B=U.g[2];var q=U.g[3],P=D+(q^M&(B^q))+j[0]+3614090360&4294967295;D=M+(P<<7&4294967295|P>>>25),P=q+(B^D&(M^B))+j[1]+3905402710&4294967295,q=D+(P<<12&4294967295|P>>>20),P=B+(M^q&(D^M))+j[2]+606105819&4294967295,B=q+(P<<17&4294967295|P>>>15),P=M+(D^B&(q^D))+j[3]+3250441966&4294967295,M=B+(P<<22&4294967295|P>>>10),P=D+(q^M&(B^q))+j[4]+4118548399&4294967295,D=M+(P<<7&4294967295|P>>>25),P=q+(B^D&(M^B))+j[5]+1200080426&4294967295,q=D+(P<<12&4294967295|P>>>20),P=B+(M^q&(D^M))+j[6]+2821735955&4294967295,B=q+(P<<17&4294967295|P>>>15),P=M+(D^B&(q^D))+j[7]+4249261313&4294967295,M=B+(P<<22&4294967295|P>>>10),P=D+(q^M&(B^q))+j[8]+1770035416&4294967295,D=M+(P<<7&4294967295|P>>>25),P=q+(B^D&(M^B))+j[9]+2336552879&4294967295,q=D+(P<<12&4294967295|P>>>20),P=B+(M^q&(D^M))+j[10]+4294925233&4294967295,B=q+(P<<17&4294967295|P>>>15),P=M+(D^B&(q^D))+j[11]+2304563134&4294967295,M=B+(P<<22&4294967295|P>>>10),P=D+(q^M&(B^q))+j[12]+1804603682&4294967295,D=M+(P<<7&4294967295|P>>>25),P=q+(B^D&(M^B))+j[13]+4254626195&4294967295,q=D+(P<<12&4294967295|P>>>20),P=B+(M^q&(D^M))+j[14]+2792965006&4294967295,B=q+(P<<17&4294967295|P>>>15),P=M+(D^B&(q^D))+j[15]+1236535329&4294967295,M=B+(P<<22&4294967295|P>>>10),P=D+(B^q&(M^B))+j[1]+4129170786&4294967295,D=M+(P<<5&4294967295|P>>>27),P=q+(M^B&(D^M))+j[6]+3225465664&4294967295,q=D+(P<<9&4294967295|P>>>23),P=B+(D^M&(q^D))+j[11]+643717713&4294967295,B=q+(P<<14&4294967295|P>>>18),P=M+(q^D&(B^q))+j[0]+3921069994&4294967295,M=B+(P<<20&4294967295|P>>>12),P=D+(B^q&(M^B))+j[5]+3593408605&4294967295,D=M+(P<<5&4294967295|P>>>27),P=q+(M^B&(D^M))+j[10]+38016083&4294967295,q=D+(P<<9&4294967295|P>>>23),P=B+(D^M&(q^D))+j[15]+3634488961&4294967295,B=q+(P<<14&4294967295|P>>>18),P=M+(q^D&(B^q))+j[4]+3889429448&4294967295,M=B+(P<<20&4294967295|P>>>12),P=D+(B^q&(M^B))+j[9]+568446438&4294967295,D=M+(P<<5&4294967295|P>>>27),P=q+(M^B&(D^M))+j[14]+3275163606&4294967295,q=D+(P<<9&4294967295|P>>>23),P=B+(D^M&(q^D))+j[3]+4107603335&4294967295,B=q+(P<<14&4294967295|P>>>18),P=M+(q^D&(B^q))+j[8]+1163531501&4294967295,M=B+(P<<20&4294967295|P>>>12),P=D+(B^q&(M^B))+j[13]+2850285829&4294967295,D=M+(P<<5&4294967295|P>>>27),P=q+(M^B&(D^M))+j[2]+4243563512&4294967295,q=D+(P<<9&4294967295|P>>>23),P=B+(D^M&(q^D))+j[7]+1735328473&4294967295,B=q+(P<<14&4294967295|P>>>18),P=M+(q^D&(B^q))+j[12]+2368359562&4294967295,M=B+(P<<20&4294967295|P>>>12),P=D+(M^B^q)+j[5]+4294588738&4294967295,D=M+(P<<4&4294967295|P>>>28),P=q+(D^M^B)+j[8]+2272392833&4294967295,q=D+(P<<11&4294967295|P>>>21),P=B+(q^D^M)+j[11]+1839030562&4294967295,B=q+(P<<16&4294967295|P>>>16),P=M+(B^q^D)+j[14]+4259657740&4294967295,M=B+(P<<23&4294967295|P>>>9),P=D+(M^B^q)+j[1]+2763975236&4294967295,D=M+(P<<4&4294967295|P>>>28),P=q+(D^M^B)+j[4]+1272893353&4294967295,q=D+(P<<11&4294967295|P>>>21),P=B+(q^D^M)+j[7]+4139469664&4294967295,B=q+(P<<16&4294967295|P>>>16),P=M+(B^q^D)+j[10]+3200236656&4294967295,M=B+(P<<23&4294967295|P>>>9),P=D+(M^B^q)+j[13]+681279174&4294967295,D=M+(P<<4&4294967295|P>>>28),P=q+(D^M^B)+j[0]+3936430074&4294967295,q=D+(P<<11&4294967295|P>>>21),P=B+(q^D^M)+j[3]+3572445317&4294967295,B=q+(P<<16&4294967295|P>>>16),P=M+(B^q^D)+j[6]+76029189&4294967295,M=B+(P<<23&4294967295|P>>>9),P=D+(M^B^q)+j[9]+3654602809&4294967295,D=M+(P<<4&4294967295|P>>>28),P=q+(D^M^B)+j[12]+3873151461&4294967295,q=D+(P<<11&4294967295|P>>>21),P=B+(q^D^M)+j[15]+530742520&4294967295,B=q+(P<<16&4294967295|P>>>16),P=M+(B^q^D)+j[2]+3299628645&4294967295,M=B+(P<<23&4294967295|P>>>9),P=D+(B^(M|~q))+j[0]+4096336452&4294967295,D=M+(P<<6&4294967295|P>>>26),P=q+(M^(D|~B))+j[7]+1126891415&4294967295,q=D+(P<<10&4294967295|P>>>22),P=B+(D^(q|~M))+j[14]+2878612391&4294967295,B=q+(P<<15&4294967295|P>>>17),P=M+(q^(B|~D))+j[5]+4237533241&4294967295,M=B+(P<<21&4294967295|P>>>11),P=D+(B^(M|~q))+j[12]+1700485571&4294967295,D=M+(P<<6&4294967295|P>>>26),P=q+(M^(D|~B))+j[3]+2399980690&4294967295,q=D+(P<<10&4294967295|P>>>22),P=B+(D^(q|~M))+j[10]+4293915773&4294967295,B=q+(P<<15&4294967295|P>>>17),P=M+(q^(B|~D))+j[1]+2240044497&4294967295,M=B+(P<<21&4294967295|P>>>11),P=D+(B^(M|~q))+j[8]+1873313359&4294967295,D=M+(P<<6&4294967295|P>>>26),P=q+(M^(D|~B))+j[15]+4264355552&4294967295,q=D+(P<<10&4294967295|P>>>22),P=B+(D^(q|~M))+j[6]+2734768916&4294967295,B=q+(P<<15&4294967295|P>>>17),P=M+(q^(B|~D))+j[13]+1309151649&4294967295,M=B+(P<<21&4294967295|P>>>11),P=D+(B^(M|~q))+j[4]+4149444226&4294967295,D=M+(P<<6&4294967295|P>>>26),P=q+(M^(D|~B))+j[11]+3174756917&4294967295,q=D+(P<<10&4294967295|P>>>22),P=B+(D^(q|~M))+j[2]+718787259&4294967295,B=q+(P<<15&4294967295|P>>>17),P=M+(q^(B|~D))+j[9]+3951481745&4294967295,U.g[0]=U.g[0]+D&4294967295,U.g[1]=U.g[1]+(B+(P<<21&4294967295|P>>>11))&4294967295,U.g[2]=U.g[2]+B&4294967295,U.g[3]=U.g[3]+q&4294967295}s.prototype.u=function(U,D){D===void 0&&(D=U.length);for(var M=D-this.blockSize,j=this.B,B=this.h,q=0;q<D;){if(B==0)for(;q<=M;)o(this,U,q),q+=this.blockSize;if(typeof U=="string"){for(;q<D;)if(j[B++]=U.charCodeAt(q++),B==this.blockSize){o(this,j),B=0;break}}else for(;q<D;)if(j[B++]=U[q++],B==this.blockSize){o(this,j),B=0;break}}this.h=B,this.o+=D},s.prototype.v=function(){var U=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);U[0]=128;for(var D=1;D<U.length-8;++D)U[D]=0;var M=8*this.o;for(D=U.length-8;D<U.length;++D)U[D]=M&255,M/=256;for(this.u(U),U=Array(16),D=M=0;4>D;++D)for(var j=0;32>j;j+=8)U[M++]=this.g[D]>>>j&255;return U};function u(U,D){var M=m;return Object.prototype.hasOwnProperty.call(M,U)?M[U]:M[U]=D(U)}function h(U,D){this.h=D;for(var M=[],j=!0,B=U.length-1;0<=B;B--){var q=U[B]|0;j&&q==D||(M[B]=q,j=!1)}this.g=M}var m={};function p(U){return-128<=U&&128>U?u(U,function(D){return new h([D|0],0>D?-1:0)}):new h([U|0],0>U?-1:0)}function g(U){if(isNaN(U)||!isFinite(U))return b;if(0>U)return I(g(-U));for(var D=[],M=1,j=0;U>=M;j++)D[j]=U/M|0,M*=4294967296;return new h(D,0)}function E(U,D){if(U.length==0)throw Error("number format error: empty string");if(D=D||10,2>D||36<D)throw Error("radix out of range: "+D);if(U.charAt(0)=="-")return I(E(U.substring(1),D));if(0<=U.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=g(Math.pow(D,8)),j=b,B=0;B<U.length;B+=8){var q=Math.min(8,U.length-B),P=parseInt(U.substring(B,B+q),D);8>q?(q=g(Math.pow(D,q)),j=j.j(q).add(g(P))):(j=j.j(M),j=j.add(g(P)))}return j}var b=p(0),T=p(1),w=p(16777216);i=h.prototype,i.m=function(){if(N(this))return-I(this).m();for(var U=0,D=1,M=0;M<this.g.length;M++){var j=this.i(M);U+=(0<=j?j:4294967296+j)*D,D*=4294967296}return U},i.toString=function(U){if(U=U||10,2>U||36<U)throw Error("radix out of range: "+U);if(C(this))return"0";if(N(this))return"-"+I(this).toString(U);for(var D=g(Math.pow(U,6)),M=this,j="";;){var B=ae(M,D).g;M=O(M,B.j(D));var q=((0<M.g.length?M.g[0]:M.h)>>>0).toString(U);if(M=B,C(M))return q+j;for(;6>q.length;)q="0"+q;j=q+j}},i.i=function(U){return 0>U?0:U<this.g.length?this.g[U]:this.h};function C(U){if(U.h!=0)return!1;for(var D=0;D<U.g.length;D++)if(U.g[D]!=0)return!1;return!0}function N(U){return U.h==-1}i.l=function(U){return U=O(this,U),N(U)?-1:C(U)?0:1};function I(U){for(var D=U.g.length,M=[],j=0;j<D;j++)M[j]=~U.g[j];return new h(M,~U.h).add(T)}i.abs=function(){return N(this)?I(this):this},i.add=function(U){for(var D=Math.max(this.g.length,U.g.length),M=[],j=0,B=0;B<=D;B++){var q=j+(this.i(B)&65535)+(U.i(B)&65535),P=(q>>>16)+(this.i(B)>>>16)+(U.i(B)>>>16);j=P>>>16,q&=65535,P&=65535,M[B]=P<<16|q}return new h(M,M[M.length-1]&-2147483648?-1:0)};function O(U,D){return U.add(I(D))}i.j=function(U){if(C(this)||C(U))return b;if(N(this))return N(U)?I(this).j(I(U)):I(I(this).j(U));if(N(U))return I(this.j(I(U)));if(0>this.l(w)&&0>U.l(w))return g(this.m()*U.m());for(var D=this.g.length+U.g.length,M=[],j=0;j<2*D;j++)M[j]=0;for(j=0;j<this.g.length;j++)for(var B=0;B<U.g.length;B++){var q=this.i(j)>>>16,P=this.i(j)&65535,Bt=U.i(B)>>>16,ht=U.i(B)&65535;M[2*j+2*B]+=P*ht,k(M,2*j+2*B),M[2*j+2*B+1]+=q*ht,k(M,2*j+2*B+1),M[2*j+2*B+1]+=P*Bt,k(M,2*j+2*B+1),M[2*j+2*B+2]+=q*Bt,k(M,2*j+2*B+2)}for(j=0;j<D;j++)M[j]=M[2*j+1]<<16|M[2*j];for(j=D;j<2*D;j++)M[j]=0;return new h(M,0)};function k(U,D){for(;(U[D]&65535)!=U[D];)U[D+1]+=U[D]>>>16,U[D]&=65535,D++}function Y(U,D){this.g=U,this.h=D}function ae(U,D){if(C(D))throw Error("division by zero");if(C(U))return new Y(b,b);if(N(U))return D=ae(I(U),D),new Y(I(D.g),I(D.h));if(N(D))return D=ae(U,I(D)),new Y(I(D.g),D.h);if(30<U.g.length){if(N(U)||N(D))throw Error("slowDivide_ only works with positive integers.");for(var M=T,j=D;0>=j.l(U);)M=oe(M),j=oe(j);var B=fe(M,1),q=fe(j,1);for(j=fe(j,2),M=fe(M,2);!C(j);){var P=q.add(j);0>=P.l(U)&&(B=B.add(M),q=P),j=fe(j,1),M=fe(M,1)}return D=O(U,B.j(D)),new Y(B,D)}for(B=b;0<=U.l(D);){for(M=Math.max(1,Math.floor(U.m()/D.m())),j=Math.ceil(Math.log(M)/Math.LN2),j=48>=j?1:Math.pow(2,j-48),q=g(M),P=q.j(D);N(P)||0<P.l(U);)M-=j,q=g(M),P=q.j(D);C(q)&&(q=T),B=B.add(q),U=O(U,P)}return new Y(B,U)}i.A=function(U){return ae(this,U).h},i.and=function(U){for(var D=Math.max(this.g.length,U.g.length),M=[],j=0;j<D;j++)M[j]=this.i(j)&U.i(j);return new h(M,this.h&U.h)},i.or=function(U){for(var D=Math.max(this.g.length,U.g.length),M=[],j=0;j<D;j++)M[j]=this.i(j)|U.i(j);return new h(M,this.h|U.h)},i.xor=function(U){for(var D=Math.max(this.g.length,U.g.length),M=[],j=0;j<D;j++)M[j]=this.i(j)^U.i(j);return new h(M,this.h^U.h)};function oe(U){for(var D=U.g.length+1,M=[],j=0;j<D;j++)M[j]=U.i(j)<<1|U.i(j-1)>>>31;return new h(M,U.h)}function fe(U,D){var M=D>>5;D%=32;for(var j=U.g.length-M,B=[],q=0;q<j;q++)B[q]=0<D?U.i(q+M)>>>D|U.i(q+M+1)<<32-D:U.i(q+M);return new h(B,U.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,J0=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=g,h.fromString=E,ns=h}).apply(typeof UE<"u"?UE:typeof self<"u"?self:typeof window<"u"?window:{});var rh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var eS,Zl,tS,yh,rp,nS,iS,rS;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,y,v){return c==Array.prototype||c==Object.prototype||(c[y]=v.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rh=="object"&&rh];for(var y=0;y<c.length;++y){var v=c[y];if(v&&v.Math==Math)return v}throw Error("Cannot find global object")}var s=n(this);function o(c,y){if(y)e:{var v=s;c=c.split(".");for(var R=0;R<c.length-1;R++){var F=c[R];if(!(F in v))break e;v=v[F]}c=c[c.length-1],R=v[c],y=y(R),y!=R&&y!=null&&e(v,c,{configurable:!0,writable:!0,value:y})}}function u(c,y){c instanceof String&&(c+="");var v=0,R=!1,F={next:function(){if(!R&&v<c.length){var X=v++;return{value:y(X,c[X]),done:!1}}return R=!0,{done:!0,value:void 0}}};return F[Symbol.iterator]=function(){return F},F}o("Array.prototype.values",function(c){return c||function(){return u(this,function(y,v){return v})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function p(c){var y=typeof c;return y=y!="object"?y:c?Array.isArray(c)?"array":y:"null",y=="array"||y=="object"&&typeof c.length=="number"}function g(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function E(c,y,v){return c.call.apply(c.bind,arguments)}function b(c,y,v){if(!c)throw Error();if(2<arguments.length){var R=Array.prototype.slice.call(arguments,2);return function(){var F=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(F,R),c.apply(y,F)}}return function(){return c.apply(y,arguments)}}function T(c,y,v){return T=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:b,T.apply(null,arguments)}function w(c,y){var v=Array.prototype.slice.call(arguments,1);return function(){var R=v.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function C(c,y){function v(){}v.prototype=y.prototype,c.aa=y.prototype,c.prototype=new v,c.prototype.constructor=c,c.Qb=function(R,F,X){for(var se=Array(arguments.length-2),Le=2;Le<arguments.length;Le++)se[Le-2]=arguments[Le];return y.prototype[F].apply(R,se)}}function N(c){const y=c.length;if(0<y){const v=Array(y);for(let R=0;R<y;R++)v[R]=c[R];return v}return[]}function I(c,y){for(let v=1;v<arguments.length;v++){const R=arguments[v];if(p(R)){const F=c.length||0,X=R.length||0;c.length=F+X;for(let se=0;se<X;se++)c[F+se]=R[se]}else c.push(R)}}class O{constructor(y,v){this.i=y,this.j=v,this.h=0,this.g=null}get(){let y;return 0<this.h?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function k(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=m.navigator;return c&&(c=c.userAgent)?c:""}function ae(c){return ae[" "](c),c}ae[" "]=function(){};var oe=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function fe(c,y,v){for(const R in c)y.call(v,c[R],R,c)}function U(c,y){for(const v in c)y.call(void 0,c[v],v,c)}function D(c){const y={};for(const v in c)y[v]=c[v];return y}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function j(c,y){let v,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(v in R)c[v]=R[v];for(let X=0;X<M.length;X++)v=M[X],Object.prototype.hasOwnProperty.call(R,v)&&(c[v]=R[v])}}function B(c){var y=1;c=c.split(":");const v=[];for(;0<y&&c.length;)v.push(c.shift()),y--;return c.length&&v.push(c.join(":")),v}function q(c){m.setTimeout(()=>{throw c},0)}function P(){var c=He;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class Bt{constructor(){this.h=this.g=null}add(y,v){const R=ht.get();R.set(y,v),this.h?this.h.next=R:this.g=R,this.h=R}}var ht=new O(()=>new W,c=>c.reset());class W{constructor(){this.next=this.g=this.h=null}set(y,v){this.h=y,this.g=v,this.next=null}reset(){this.next=this.g=this.h=null}}let le,ge=!1,He=new Bt,L=()=>{const c=m.Promise.resolve(void 0);le=()=>{c.then(ne)}};var ne=()=>{for(var c;c=P();){try{c.h.call(c.g)}catch(v){q(v)}var y=ht;y.j(c),100>y.h&&(y.h++,c.next=y.g,y.g=c)}ge=!1};function ue(){this.s=this.s,this.C=this.C}ue.prototype.s=!1,ue.prototype.ma=function(){this.s||(this.s=!0,this.N())},ue.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function re(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}re.prototype.h=function(){this.defaultPrevented=!0};var ye=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const v=()=>{};m.addEventListener("test",v,y),m.removeEventListener("test",v,y)}catch{}return c}();function De(c,y){if(re.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var v=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget){if(oe){e:{try{ae(y.nodeName);var F=!0;break e}catch{}F=!1}F||(y=null)}}else v=="mouseover"?y=c.fromElement:v=="mouseout"&&(y=c.toElement);this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:be[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&De.aa.h.call(this)}}C(De,re);var be={2:"touch",3:"pen",4:"mouse"};De.prototype.h=function(){De.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Vt="closure_listenable_"+(1e6*Math.random()|0),nt=0;function ni(c,y,v,R,F){this.listener=c,this.proxy=null,this.src=y,this.type=v,this.capture=!!R,this.ha=F,this.key=++nt,this.da=this.fa=!1}function gr(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Ni(c){this.src=c,this.g={},this.h=0}Ni.prototype.add=function(c,y,v,R,F){var X=c.toString();c=this.g[X],c||(c=this.g[X]=[],this.h++);var se=vs(c,y,R,F);return-1<se?(y=c[se],v||(y.fa=!1)):(y=new ni(y,this.src,X,!!R,F),y.fa=v,c.push(y)),y};function ys(c,y){var v=y.type;if(v in c.g){var R=c.g[v],F=Array.prototype.indexOf.call(R,y,void 0),X;(X=0<=F)&&Array.prototype.splice.call(R,F,1),X&&(gr(y),c.g[v].length==0&&(delete c.g[v],c.h--))}}function vs(c,y,v,R){for(var F=0;F<c.length;++F){var X=c[F];if(!X.da&&X.listener==y&&X.capture==!!v&&X.ha==R)return F}return-1}var _s="closure_lm_"+(1e6*Math.random()|0),Lo={};function Ou(c,y,v,R,F){if(Array.isArray(y)){for(var X=0;X<y.length;X++)Ou(c,y[X],v,R,F);return null}return v=Mu(v),c&&c[Vt]?c.K(y,v,g(R)?!!R.capture:!1,F):Cn(c,y,v,!1,R,F)}function Cn(c,y,v,R,F,X){if(!y)throw Error("Invalid event type");var se=g(F)?!!F.capture:!!F,Le=pa(c);if(Le||(c[_s]=Le=new Ni(c)),v=Le.add(y,v,R,se,X),v.proxy)return v;if(R=Af(),v.proxy=R,R.src=c,R.listener=v,c.addEventListener)ye||(F=se),F===void 0&&(F=!1),c.addEventListener(y.toString(),R,F);else if(c.attachEvent)c.attachEvent(Es(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return v}function Af(){function c(v){return y.call(c.src,c.listener,v)}const y=bf;return c}function Uo(c,y,v,R,F){if(Array.isArray(y))for(var X=0;X<y.length;X++)Uo(c,y[X],v,R,F);else R=g(R)?!!R.capture:!!R,v=Mu(v),c&&c[Vt]?(c=c.i,y=String(y).toString(),y in c.g&&(X=c.g[y],v=vs(X,v,R,F),-1<v&&(gr(X[v]),Array.prototype.splice.call(X,v,1),X.length==0&&(delete c.g[y],c.h--)))):c&&(c=pa(c))&&(y=c.g[y.toString()],c=-1,y&&(c=vs(y,v,R,F)),(v=-1<c?y[c]:null)&&ma(v))}function ma(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[Vt])ys(y.i,c);else{var v=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(v,R,c.capture):y.detachEvent?y.detachEvent(Es(v),R):y.addListener&&y.removeListener&&y.removeListener(R),(v=pa(y))?(ys(v,c),v.h==0&&(v.src=null,y[_s]=null)):gr(c)}}}function Es(c){return c in Lo?Lo[c]:Lo[c]="on"+c}function bf(c,y){if(c.da)c=!0;else{y=new De(y,this);var v=c.listener,R=c.ha||c.src;c.fa&&ma(c),c=v.call(R,y)}return c}function pa(c){return c=c[_s],c instanceof Ni?c:null}var jo="__closure_events_fn_"+(1e9*Math.random()>>>0);function Mu(c){return typeof c=="function"?c:(c[jo]||(c[jo]=function(y){return c.handleEvent(y)}),c[jo])}function ft(){ue.call(this),this.i=new Ni(this),this.M=this,this.F=null}C(ft,ue),ft.prototype[Vt]=!0,ft.prototype.removeEventListener=function(c,y,v,R){Uo(this,c,y,v,R)};function Ke(c,y){var v,R=c.F;if(R)for(v=[];R;R=R.F)v.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new re(y,c);else if(y instanceof re)y.target=y.target||c;else{var F=y;y=new re(R,c),j(y,F)}if(F=!0,v)for(var X=v.length-1;0<=X;X--){var se=y.g=v[X];F=yn(se,R,!0,y)&&F}if(se=y.g=c,F=yn(se,R,!0,y)&&F,F=yn(se,R,!1,y)&&F,v)for(X=0;X<v.length;X++)se=y.g=v[X],F=yn(se,R,!1,y)&&F}ft.prototype.N=function(){if(ft.aa.N.call(this),this.i){var c=this.i,y;for(y in c.g){for(var v=c.g[y],R=0;R<v.length;R++)gr(v[R]);delete c.g[y],c.h--}}this.F=null},ft.prototype.K=function(c,y,v,R){return this.i.add(String(c),y,!1,v,R)},ft.prototype.L=function(c,y,v,R){return this.i.add(String(c),y,!0,v,R)};function yn(c,y,v,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();for(var F=!0,X=0;X<y.length;++X){var se=y[X];if(se&&!se.da&&se.capture==v){var Le=se.listener,Ct=se.ha||se.src;se.fa&&ys(c.i,se),F=Le.call(Ct,R)!==!1&&F}}return F&&!R.defaultPrevented}function Zt(c,y,v){if(typeof c=="function")v&&(c=T(c,v));else if(c&&typeof c.handleEvent=="function")c=T(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(y)?-1:m.setTimeout(c,y||0)}function Vu(c){c.g=Zt(()=>{c.g=null,c.i&&(c.i=!1,Vu(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class wf extends ue{constructor(y,v){super(),this.m=y,this.l=v,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Vu(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ts(c){ue.call(this),this.h=c,this.g={}}C(Ts,ue);var Ss=[];function As(c){fe(c.g,function(y,v){this.g.hasOwnProperty(v)&&ma(y)},c),c.g={}}Ts.prototype.N=function(){Ts.aa.N.call(this),As(this)},Ts.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var qn=m.JSON.stringify,ga=m.JSON.parse,bs=class{stringify(c){return m.JSON.stringify(c,void 0)}parse(c){return m.JSON.parse(c,void 0)}};function zo(){}zo.prototype.h=null;function Bo(c){return c.h||(c.h=c.i())}function Ho(){}var Di={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function xi(){re.call(this,"d")}C(xi,re);function qo(){re.call(this,"c")}C(qo,re);var ii={},Fo=null;function yr(){return Fo=Fo||new ft}ii.La="serverreachability";function ya(c){re.call(this,ii.La,c)}C(ya,re);function vr(c){const y=yr();Ke(y,new ya(y))}ii.STAT_EVENT="statevent";function Pu(c,y){re.call(this,ii.STAT_EVENT,c),this.stat=y}C(Pu,re);function at(c){const y=yr();Ke(y,new Pu(y,c))}ii.Ma="timingevent";function Rt(c,y){re.call(this,ii.Ma,c),this.size=y}C(Rt,re);function _t(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){c()},y)}function In(){this.g=!0}In.prototype.xa=function(){this.g=!1};function Go(c,y,v,R,F,X){c.info(function(){if(c.g)if(X)for(var se="",Le=X.split("&"),Ct=0;Ct<Le.length;Ct++){var Ue=Le[Ct].split("=");if(1<Ue.length){var kt=Ue[0];Ue=Ue[1];var It=kt.split("_");se=2<=It.length&&It[1]=="type"?se+(kt+"="+Ue+"&"):se+(kt+"=redacted&")}}else se=null;else se=X;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+y+`
`+v+`
`+se})}function Rf(c,y,v,R,F,X,se){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+y+`
`+v+`
`+X+" "+se})}function _r(c,y,v,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+ws(c,v)+(R?" "+R:"")})}function ku(c,y){c.info(function(){return"TIMEOUT: "+y})}In.prototype.info=function(){};function ws(c,y){if(!c.g)return y;if(!y)return null;try{var v=JSON.parse(y);if(v){for(c=0;c<v.length;c++)if(Array.isArray(v[c])){var R=v[c];if(!(2>R.length)){var F=R[1];if(Array.isArray(F)&&!(1>F.length)){var X=F[0];if(X!="noop"&&X!="stop"&&X!="close")for(var se=1;se<F.length;se++)F[se]=""}}}}return qn(v)}catch{return y}}var Er={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Oi={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ri;function si(){}C(si,zo),si.prototype.g=function(){return new XMLHttpRequest},si.prototype.i=function(){return{}},ri=new si;function ln(c,y,v,R){this.j=c,this.i=y,this.l=v,this.R=R||1,this.U=new Ts(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pt}function pt(){this.i=null,this.g="",this.h=!1}var $o={},va={};function Fn(c,y,v){c.L=1,c.v=Ds(vn(y)),c.m=v,c.P=!0,Mi(c,null)}function Mi(c,y){c.F=Date.now(),Rs(c),c.A=vn(c.v);var v=c.A,R=c.R;Array.isArray(R)||(R=[String(R)]),Zo(v.i,"t",R),c.C=0,v=c.j.J,c.h=new pt,c.g=Zu(c.j,v?y:null,!c.m),0<c.O&&(c.M=new wf(T(c.Y,c,c.g),c.O)),y=c.U,v=c.g,R=c.ca;var F="readystatechange";Array.isArray(F)||(F&&(Ss[0]=F.toString()),F=Ss);for(var X=0;X<F.length;X++){var se=Ou(v,F[X],R||y.handleEvent,!1,y.h||y);if(!se)break;y.g[se.key]=se}y=c.H?D(c.H):{},c.m?(c.u||(c.u="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,y)):(c.u="GET",c.g.ea(c.A,c.u,null,y)),vr(),Go(c.i,c.u,c.A,c.l,c.R,c.m)}ln.prototype.ca=function(c){c=c.target;const y=this.M;y&&On(c)==3?y.j():this.Y(c)},ln.prototype.Y=function(c){try{if(c==this.g)e:{const It=On(this.g);var y=this.g.Ba();const Bi=this.g.Z();if(!(3>It)&&(It!=3||this.g&&(this.h.h||this.g.oa()||Fu(this.g)))){this.J||It!=4||y==7||(y==8||0>=Bi?vr(3):vr(2)),Tr(this);var v=this.g.Z();this.X=v;t:if(Lu(this)){var R=Fu(this.g);c="";var F=R.length,X=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ht(this),ai(this);var se="";break t}this.h.i=new m.TextDecoder}for(y=0;y<F;y++)this.h.h=!0,c+=this.h.i.decode(R[y],{stream:!(X&&y==F-1)});R.length=0,this.h.g+=c,this.C=0,se=this.h.g}else se=this.g.oa();if(this.o=v==200,Rf(this.i,this.u,this.A,this.l,this.R,It,v),this.o){if(this.T&&!this.K){t:{if(this.g){var Le,Ct=this.g;if((Le=Ct.g?Ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!k(Le)){var Ue=Le;break t}}Ue=null}if(v=Ue)_r(this.i,this.l,v,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Cs(this,v);else{this.o=!1,this.s=3,at(12),Ht(this),ai(this);break e}}if(this.P){v=!0;let qt;for(;!this.J&&this.C<se.length;)if(qt=Uu(this,se),qt==va){It==4&&(this.s=4,at(14),v=!1),_r(this.i,this.l,null,"[Incomplete Response]");break}else if(qt==$o){this.s=4,at(15),_r(this.i,this.l,se,"[Invalid Chunk]"),v=!1;break}else _r(this.i,this.l,qt,null),Cs(this,qt);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),It!=4||se.length!=0||this.h.h||(this.s=1,at(16),v=!1),this.o=this.o&&v,!v)_r(this.i,this.l,se,"[Invalid Chunked Response]"),Ht(this),ai(this);else if(0<se.length&&!this.W){this.W=!0;var kt=this.j;kt.g==this&&kt.ba&&!kt.M&&(kt.j.info("Great, no buffering proxy detected. Bytes received: "+se.length),Us(kt),kt.M=!0,at(11))}}else _r(this.i,this.l,se,null),Cs(this,se);It==4&&Ht(this),this.o&&!this.J&&(It==4?Yu(this.j,this):(this.o=!1,Rs(this)))}else xf(this.g),v==400&&0<se.indexOf("Unknown SID")?(this.s=3,at(12)):(this.s=0,at(13)),Ht(this),ai(this)}}}catch{}finally{}};function Lu(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Uu(c,y){var v=c.C,R=y.indexOf(`
`,v);return R==-1?va:(v=Number(y.substring(v,R)),isNaN(v)?$o:(R+=1,R+v>y.length?va:(y=y.slice(R,R+v),c.C=R+v,y)))}ln.prototype.cancel=function(){this.J=!0,Ht(this)};function Rs(c){c.S=Date.now()+c.I,ju(c,c.I)}function ju(c,y){if(c.B!=null)throw Error("WatchDog timer not null");c.B=_t(T(c.ba,c),y)}function Tr(c){c.B&&(m.clearTimeout(c.B),c.B=null)}ln.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(ku(this.i,this.A),this.L!=2&&(vr(),at(17)),Ht(this),this.s=2,ai(this)):ju(this,this.S-c)};function ai(c){c.j.G==0||c.J||Yu(c.j,c)}function Ht(c){Tr(c);var y=c.M;y&&typeof y.ma=="function"&&y.ma(),c.M=null,As(c.U),c.g&&(y=c.g,c.g=null,y.abort(),y.ma())}function Cs(c,y){try{var v=c.j;if(v.G!=0&&(v.g==c||Ko(v.h,c))){if(!c.K&&Ko(v.h,c)&&v.G==3){try{var R=v.Da.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){e:if(!v.u){if(v.g)if(v.g.F+3e3<c.F)Da(v),Ia(v);else break e;il(v),at(18)}}else v.za=F[1],0<v.za-v.T&&37500>F[2]&&v.F&&v.v==0&&!v.C&&(v.C=_t(T(v.Za,v),6e3));if(1>=Ea(v.h)&&v.ca){try{v.ca()}catch{}v.ca=void 0}}else zi(v,11)}else if((c.K||v.g==c)&&Da(v),!k(y))for(F=v.Da.g.parse(y),y=0;y<F.length;y++){let Ue=F[y];if(v.T=Ue[0],Ue=Ue[1],v.G==2)if(Ue[0]=="c"){v.K=Ue[1],v.ia=Ue[2];const kt=Ue[3];kt!=null&&(v.la=kt,v.j.info("VER="+v.la));const It=Ue[4];It!=null&&(v.Aa=It,v.j.info("SVER="+v.Aa));const Bi=Ue[5];Bi!=null&&typeof Bi=="number"&&0<Bi&&(R=1.5*Bi,v.L=R,v.j.info("backChannelRequestTimeoutMs_="+R)),R=v;const qt=c.g;if(qt){const di=qt.g?qt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(di){var X=R.h;X.g||di.indexOf("spdy")==-1&&di.indexOf("quic")==-1&&di.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ta(X,X.h),X.h=null))}if(R.D){const sl=qt.g?qt.g.getResponseHeader("X-HTTP-Session-Id"):null;sl&&(R.ya=sl,Xe(R.I,R.D,sl))}}v.G=3,v.l&&v.l.ua(),v.ba&&(v.R=Date.now()-c.F,v.j.info("Handshake RTT: "+v.R+"ms")),R=v;var se=c;if(R.qa=Wu(R,R.J?R.ia:null,R.W),se.K){un(R.h,se);var Le=se,Ct=R.L;Ct&&(Le.I=Ct),Le.B&&(Tr(Le),Rs(Le)),R.g=se}else Ku(R);0<v.i.length&&Na(v)}else Ue[0]!="stop"&&Ue[0]!="close"||zi(v,7);else v.G==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?zi(v,7):tl(v):Ue[0]!="noop"&&v.l&&v.l.ta(Ue),v.v=0)}}vr(4)}catch{}}var zu=class{constructor(c,y){this.g=c,this.map=y}};function Vi(c){this.l=c||10,m.PerformanceNavigationTiming?(c=m.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function _a(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Ea(c){return c.h?1:c.g?c.g.size:0}function Ko(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function Ta(c,y){c.g?c.g.add(y):c.h=y}function un(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}Vi.prototype.cancel=function(){if(this.i=Qo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function Qo(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const v of c.g.values())y=y.concat(v.D);return y}return N(c.i)}function Cf(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(p(c)){for(var y=[],v=c.length,R=0;R<v;R++)y.push(c[R]);return y}y=[],v=0;for(R in c)y[v++]=c[R];return y}function Sa(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(p(c)||typeof c=="string"){var y=[];c=c.length;for(var v=0;v<c;v++)y.push(v);return y}y=[],v=0;for(const R in c)y[v++]=R;return y}}}function Yo(c,y){if(c.forEach&&typeof c.forEach=="function")c.forEach(y,void 0);else if(p(c)||typeof c=="string")Array.prototype.forEach.call(c,y,void 0);else for(var v=Sa(c),R=Cf(c),F=R.length,X=0;X<F;X++)y.call(void 0,R[X],v&&v[X],c)}var Is=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function If(c,y){if(c){c=c.split("&");for(var v=0;v<c.length;v++){var R=c[v].indexOf("="),F=null;if(0<=R){var X=c[v].substring(0,R);F=c[v].substring(R+1)}else X=c[v];y(X,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Et(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Et){this.h=c.h,Ns(this,c.j),this.o=c.o,this.g=c.g,Sr(this,c.s),this.l=c.l;var y=c.i,v=new ki;v.i=y.i,y.g&&(v.g=new Map(y.g),v.h=y.h),Pi(this,v),this.m=c.m}else c&&(y=String(c).match(Is))?(this.h=!1,Ns(this,y[1]||"",!0),this.o=Nn(y[2]||""),this.g=Nn(y[3]||"",!0),Sr(this,y[4]),this.l=Nn(y[5]||"",!0),Pi(this,y[6]||"",!0),this.m=Nn(y[7]||"")):(this.h=!1,this.i=new ki(null,this.h))}Et.prototype.toString=function(){var c=[],y=this.j;y&&c.push(xs(y,Xo,!0),":");var v=this.g;return(v||y=="file")&&(c.push("//"),(y=this.o)&&c.push(xs(y,Xo,!0),"@"),c.push(encodeURIComponent(String(v)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),v=this.s,v!=null&&c.push(":",String(v))),(v=this.l)&&(this.g&&v.charAt(0)!="/"&&c.push("/"),c.push(xs(v,v.charAt(0)=="/"?Nf:Wo,!0))),(v=this.i.toString())&&c.push("?",v),(v=this.m)&&c.push("#",xs(v,Aa)),c.join("")};function vn(c){return new Et(c)}function Ns(c,y,v){c.j=v?Nn(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function Sr(c,y){if(y){if(y=Number(y),isNaN(y)||0>y)throw Error("Bad port number "+y);c.s=y}else c.s=null}function Pi(c,y,v){y instanceof ki?(c.i=y,Hu(c.i,c.h)):(v||(y=xs(y,Df)),c.i=new ki(y,c.h))}function Xe(c,y,v){c.i.set(y,v)}function Ds(c){return Xe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function Nn(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function xs(c,y,v){return typeof c=="string"?(c=encodeURI(c).replace(y,Bu),v&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Bu(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Xo=/[#\/\?@]/g,Wo=/[#\?:]/g,Nf=/[#\?]/g,Df=/[#\?@]/g,Aa=/#/g;function ki(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Dn(c){c.g||(c.g=new Map,c.h=0,c.i&&If(c.i,function(y,v){c.add(decodeURIComponent(y.replace(/\+/g," ")),v)}))}i=ki.prototype,i.add=function(c,y){Dn(this),this.i=null,c=oi(this,c);var v=this.g.get(c);return v||this.g.set(c,v=[]),v.push(y),this.h+=1,this};function Li(c,y){Dn(c),y=oi(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function Ui(c,y){return Dn(c),y=oi(c,y),c.g.has(y)}i.forEach=function(c,y){Dn(this),this.g.forEach(function(v,R){v.forEach(function(F){c.call(y,F,R,this)},this)},this)},i.na=function(){Dn(this);const c=Array.from(this.g.values()),y=Array.from(this.g.keys()),v=[];for(let R=0;R<y.length;R++){const F=c[R];for(let X=0;X<F.length;X++)v.push(y[R])}return v},i.V=function(c){Dn(this);let y=[];if(typeof c=="string")Ui(this,c)&&(y=y.concat(this.g.get(oi(this,c))));else{c=Array.from(this.g.values());for(let v=0;v<c.length;v++)y=y.concat(c[v])}return y},i.set=function(c,y){return Dn(this),this.i=null,c=oi(this,c),Ui(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},i.get=function(c,y){return c?(c=this.V(c),0<c.length?String(c[0]):y):y};function Zo(c,y,v){Li(c,y),0<v.length&&(c.i=null,c.g.set(oi(c,y),N(v)),c.h+=v.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(var v=0;v<y.length;v++){var R=y[v];const X=encodeURIComponent(String(R)),se=this.V(R);for(R=0;R<se.length;R++){var F=X;se[R]!==""&&(F+="="+encodeURIComponent(String(se[R]))),c.push(F)}}return this.i=c.join("&")};function oi(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Hu(c,y){y&&!c.j&&(Dn(c),c.i=null,c.g.forEach(function(v,R){var F=R.toLowerCase();R!=F&&(Li(this,R),Zo(this,F,v))},c)),c.j=y}function Os(c,y){const v=new In;if(m.Image){const R=new Image;R.onload=w(xn,v,"TestLoadImage: loaded",!0,y,R),R.onerror=w(xn,v,"TestLoadImage: error",!1,y,R),R.onabort=w(xn,v,"TestLoadImage: abort",!1,y,R),R.ontimeout=w(xn,v,"TestLoadImage: timeout",!1,y,R),m.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function Gn(c,y){const v=new In,R=new AbortController,F=setTimeout(()=>{R.abort(),xn(v,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(X=>{clearTimeout(F),X.ok?xn(v,"TestPingServer: ok",!0,y):xn(v,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(F),xn(v,"TestPingServer: error",!1,y)})}function xn(c,y,v,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(v)}catch{}}function Ms(){this.g=new bs}function li(c,y,v){const R=v||"";try{Yo(c,function(F,X){let se=F;g(F)&&(se=qn(F)),y.push(R+X+"="+encodeURIComponent(se))})}catch(F){throw y.push(R+"type="+encodeURIComponent("_badmap")),F}}function Ar(c){this.l=c.Ub||null,this.j=c.eb||!1}C(Ar,zo),Ar.prototype.g=function(){return new ji(this.l,this.j)},Ar.prototype.i=function(c){return function(){return c}}({});function ji(c,y){ft.call(this),this.D=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(ji,ft),i=ji.prototype,i.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=y,this.readyState=1,ci(this)},i.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const y={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(y.body=c),(this.D||m).fetch(new Request(this.A,y)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,ui(this)),this.readyState=0},i.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,ci(this)),this.g&&(this.readyState=3,ci(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Jo(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Jo(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}i.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.v.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?ui(this):ci(this),this.readyState==3&&Jo(this)}},i.Ra=function(c){this.g&&(this.response=this.responseText=c,ui(this))},i.Qa=function(c){this.g&&(this.response=c,ui(this))},i.ga=function(){this.g&&ui(this)};function ui(c){c.readyState=4,c.l=null,c.j=null,c.v=null,ci(c)}i.setRequestHeader=function(c,y){this.u.append(c,y)},i.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var v=y.next();!v.done;)v=v.value,c.push(v[0]+": "+v[1]),v=y.next();return c.join(`\r
`)};function ci(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ji.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function el(c){let y="";return fe(c,function(v,R){y+=R,y+=":",y+=v,y+=`\r
`}),y}function Pt(c,y,v){e:{for(R in v){var R=!1;break e}R=!0}R||(v=el(v),typeof c=="string"?v!=null&&encodeURIComponent(String(v)):Xe(c,y,v))}function Fe(c){ft.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(Fe,ft);var ba=/^https?$/i,Vs=["POST","PUT"];i=Fe.prototype,i.Ha=function(c){this.J=c},i.ea=function(c,y,v,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ri.g(),this.v=this.o?Bo(this.o):Bo(ri),this.g.onreadystatechange=T(this.Ea,this);try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(X){qu(this,X);return}if(c=v||"",v=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)v.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const X of R.keys())v.set(X,R.get(X));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(v.keys()).find(X=>X.toLowerCase()=="content-type"),F=m.FormData&&c instanceof m.FormData,!(0<=Array.prototype.indexOf.call(Vs,y,void 0))||R||F||v.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,se]of v)this.g.setRequestHeader(X,se);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ps(this),this.u=!0,this.g.send(c),this.u=!1}catch(X){qu(this,X)}};function qu(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.m=5,wa(c),hi(c)}function wa(c){c.A||(c.A=!0,Ke(c,"complete"),Ke(c,"error"))}i.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,Ke(this,"complete"),Ke(this,"abort"),hi(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hi(this,!0)),Fe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?Ra(this):this.bb())},i.bb=function(){Ra(this)};function Ra(c){if(c.h&&typeof h<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Zt(c.Ea,0,c);else if(Ke(c,"readystatechange"),On(c)==4){c.h=!1;try{const se=c.Z();e:switch(se){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var v;if(!(v=y)){var R;if(R=se===0){var F=String(c.D).match(Is)[1]||null;!F&&m.self&&m.self.location&&(F=m.self.location.protocol.slice(0,-1)),R=!ba.test(F?F.toLowerCase():"")}v=R}if(v)Ke(c,"complete"),Ke(c,"success");else{c.m=6;try{var X=2<On(c)?c.g.statusText:""}catch{X=""}c.l=X+" ["+c.Z()+"]",wa(c)}}finally{hi(c)}}}}function hi(c,y){if(c.g){Ps(c);const v=c.g,R=c.v[0]?()=>{}:null;c.g=null,c.v=null,y||Ke(c,"ready");try{v.onreadystatechange=R}catch{}}}function Ps(c){c.I&&(m.clearTimeout(c.I),c.I=null)}i.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}i.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),ga(y)}};function Fu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function xf(c){const y={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(k(c[R]))continue;var v=B(c[R]);const F=v[0];if(v=v[1],typeof v!="string")continue;v=v.trim();const X=y[F]||[];y[F]=X,X.push(v)}U(y,function(R){return R.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ks(c,y,v){return v&&v.internalChannelParams&&v.internalChannelParams[c]||y}function Ca(c){this.Aa=0,this.i=[],this.j=new In,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ks("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ks("baseRetryDelayMs",5e3,c),this.cb=ks("retryDelaySeedMs",1e4,c),this.Wa=ks("forwardChannelMaxRetries",2,c),this.wa=ks("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new Vi(c&&c.concurrentRequestLimit),this.Da=new Ms,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ca.prototype,i.la=8,i.G=1,i.connect=function(c,y,v,R){at(0),this.W=c,this.H=y||{},v&&R!==void 0&&(this.H.OSID=v,this.H.OAID=R),this.F=this.X,this.I=Wu(this,null,this.W),Na(this)};function tl(c){if(Gu(c),c.G==3){var y=c.U++,v=vn(c.I);if(Xe(v,"SID",c.K),Xe(v,"RID",y),Xe(v,"TYPE","terminate"),Ls(c,v),y=new ln(c,c.j,y),y.L=2,y.v=Ds(vn(v)),v=!1,m.navigator&&m.navigator.sendBeacon)try{v=m.navigator.sendBeacon(y.v.toString(),"")}catch{}!v&&m.Image&&(new Image().src=y.v,v=!0),v||(y.g=Zu(y.j,null),y.g.ea(y.v)),y.F=Date.now(),Rs(y)}Xu(c)}function Ia(c){c.g&&(Us(c),c.g.cancel(),c.g=null)}function Gu(c){Ia(c),c.u&&(m.clearTimeout(c.u),c.u=null),Da(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&m.clearTimeout(c.s),c.s=null)}function Na(c){if(!_a(c.h)&&!c.s){c.s=!0;var y=c.Ga;le||L(),ge||(le(),ge=!0),He.add(y,c),c.B=0}}function Of(c,y){return Ea(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=y.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=_t(T(c.Ga,c,y),rl(c,c.B)),c.B++,!0)}i.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const F=new ln(this,this.j,c);let X=this.o;if(this.S&&(X?(X=D(X),j(X,this.S)):X=this.S),this.m!==null||this.O||(F.H=X,X=null),this.P)e:{for(var y=0,v=0;v<this.i.length;v++){t:{var R=this.i[v];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,4096<y){y=v;break e}if(y===4096||v===this.i.length-1){y=v+1;break e}}y=1e3}else y=1e3;y=$u(this,F,y),v=vn(this.I),Xe(v,"RID",c),Xe(v,"CVER",22),this.D&&Xe(v,"X-HTTP-Session-Id",this.D),Ls(this,v),X&&(this.O?y="headers="+encodeURIComponent(String(el(X)))+"&"+y:this.m&&Pt(v,this.m,X)),Ta(this.h,F),this.Ua&&Xe(v,"TYPE","init"),this.P?(Xe(v,"$req",y),Xe(v,"SID","null"),F.T=!0,Fn(F,v,null)):Fn(F,v,y),this.G=2}}else this.G==3&&(c?nl(this,c):this.i.length==0||_a(this.h)||nl(this))};function nl(c,y){var v;y?v=y.l:v=c.U++;const R=vn(c.I);Xe(R,"SID",c.K),Xe(R,"RID",v),Xe(R,"AID",c.T),Ls(c,R),c.m&&c.o&&Pt(R,c.m,c.o),v=new ln(c,c.j,v,c.B+1),c.m===null&&(v.H=c.o),y&&(c.i=y.D.concat(c.i)),y=$u(c,v,1e3),v.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ta(c.h,v),Fn(v,R,y)}function Ls(c,y){c.H&&fe(c.H,function(v,R){Xe(y,R,v)}),c.l&&Yo({},function(v,R){Xe(y,R,v)})}function $u(c,y,v){v=Math.min(c.i.length,v);var R=c.l?T(c.l.Na,c.l,c):null;e:{var F=c.i;let X=-1;for(;;){const se=["count="+v];X==-1?0<v?(X=F[0].g,se.push("ofs="+X)):X=0:se.push("ofs="+X);let Le=!0;for(let Ct=0;Ct<v;Ct++){let Ue=F[Ct].g;const kt=F[Ct].map;if(Ue-=X,0>Ue)X=Math.max(0,F[Ct].g-100),Le=!1;else try{li(kt,se,"req"+Ue+"_")}catch{R&&R(kt)}}if(Le){R=se.join("&");break e}}}return c=c.i.splice(0,v),y.D=c,R}function Ku(c){if(!c.g&&!c.u){c.Y=1;var y=c.Fa;le||L(),ge||(le(),ge=!0),He.add(y,c),c.v=0}}function il(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=_t(T(c.Fa,c),rl(c,c.v)),c.v++,!0)}i.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=_t(T(this.ab,this),c)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,at(10),Ia(this),Qu(this))};function Us(c){c.A!=null&&(m.clearTimeout(c.A),c.A=null)}function Qu(c){c.g=new ln(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var y=vn(c.qa);Xe(y,"RID","rpc"),Xe(y,"SID",c.K),Xe(y,"AID",c.T),Xe(y,"CI",c.F?"0":"1"),!c.F&&c.ja&&Xe(y,"TO",c.ja),Xe(y,"TYPE","xmlhttp"),Ls(c,y),c.m&&c.o&&Pt(y,c.m,c.o),c.L&&(c.g.I=c.L);var v=c.g;c=c.ia,v.L=1,v.v=Ds(vn(y)),v.m=null,v.P=!0,Mi(v,c)}i.Za=function(){this.C!=null&&(this.C=null,Ia(this),il(this),at(19))};function Da(c){c.C!=null&&(m.clearTimeout(c.C),c.C=null)}function Yu(c,y){var v=null;if(c.g==y){Da(c),Us(c),c.g=null;var R=2}else if(Ko(c.h,y))v=y.D,un(c.h,y),R=1;else return;if(c.G!=0){if(y.o)if(R==1){v=y.m?y.m.length:0,y=Date.now()-y.F;var F=c.B;R=yr(),Ke(R,new Rt(R,v)),Na(c)}else Ku(c);else if(F=y.s,F==3||F==0&&0<y.X||!(R==1&&Of(c,y)||R==2&&il(c)))switch(v&&0<v.length&&(y=c.h,y.i=y.i.concat(v)),F){case 1:zi(c,5);break;case 4:zi(c,10);break;case 3:zi(c,6);break;default:zi(c,2)}}}function rl(c,y){let v=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(v*=2),v*y}function zi(c,y){if(c.j.info("Error code "+y),y==2){var v=T(c.fb,c),R=c.Xa;const F=!R;R=new Et(R||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||Ns(R,"https"),Ds(R),F?Os(R.toString(),v):Gn(R.toString(),v)}else at(2);c.G=0,c.l&&c.l.sa(y),Xu(c),Gu(c)}i.fb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Xu(c){if(c.G=0,c.ka=[],c.l){const y=Qo(c.h);(y.length!=0||c.i.length!=0)&&(I(c.ka,y),I(c.ka,c.i),c.h.i.length=0,N(c.i),c.i.length=0),c.l.ra()}}function Wu(c,y,v){var R=v instanceof Et?vn(v):new Et(v);if(R.g!="")y&&(R.g=y+"."+R.g),Sr(R,R.s);else{var F=m.location;R=F.protocol,y=y?y+"."+F.hostname:F.hostname,F=+F.port;var X=new Et(null);R&&Ns(X,R),y&&(X.g=y),F&&Sr(X,F),v&&(X.l=v),R=X}return v=c.D,y=c.ya,v&&y&&Xe(R,v,y),Xe(R,"VER",c.la),Ls(c,R),R}function Zu(c,y,v){if(y&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Ca&&!c.pa?new Fe(new Ar({eb:v})):new Fe(c.pa),y.Ha(c.J),y}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Ju(){}i=Ju.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function xa(){}xa.prototype.g=function(c,y){return new cn(c,y)};function cn(c,y){ft.call(this),this.g=new Ca(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.va&&(c?c["X-WebChannel-Client-Profile"]=y.va:c={"X-WebChannel-Client-Profile":y.va}),this.g.S=c,(c=y&&y.Sb)&&!k(c)&&(this.g.m=c),this.v=y&&y.supportsCrossDomainXhr||!1,this.u=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!k(y)&&(this.g.D=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new fi(this)}C(cn,ft),cn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},cn.prototype.close=function(){tl(this.g)},cn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var v={};v.__data__=c,c=v}else this.u&&(v={},v.__data__=qn(c),c=v);y.i.push(new zu(y.Ya++,c)),y.G==3&&Na(y)},cn.prototype.N=function(){this.g.l=null,delete this.j,tl(this.g),delete this.g,cn.aa.N.call(this)};function ec(c){xi.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const v in y){c=v;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}C(ec,xi);function tc(){qo.call(this),this.status=1}C(tc,qo);function fi(c){this.g=c}C(fi,Ju),fi.prototype.ua=function(){Ke(this.g,"a")},fi.prototype.ta=function(c){Ke(this.g,new ec(c))},fi.prototype.sa=function(c){Ke(this.g,new tc)},fi.prototype.ra=function(){Ke(this.g,"b")},xa.prototype.createWebChannel=xa.prototype.g,cn.prototype.send=cn.prototype.o,cn.prototype.open=cn.prototype.m,cn.prototype.close=cn.prototype.close,rS=function(){return new xa},iS=function(){return yr()},nS=ii,rp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Er.NO_ERROR=0,Er.TIMEOUT=8,Er.HTTP_ERROR=6,yh=Er,Oi.COMPLETE="complete",tS=Oi,Ho.EventType=Di,Di.OPEN="a",Di.CLOSE="b",Di.ERROR="c",Di.MESSAGE="d",ft.prototype.listen=ft.prototype.K,Zl=Ho,Fe.prototype.listenOnce=Fe.prototype.L,Fe.prototype.getLastError=Fe.prototype.Ka,Fe.prototype.getLastErrorCode=Fe.prototype.Ba,Fe.prototype.getStatus=Fe.prototype.Z,Fe.prototype.getResponseJson=Fe.prototype.Oa,Fe.prototype.getResponseText=Fe.prototype.oa,Fe.prototype.send=Fe.prototype.ea,Fe.prototype.setWithCredentials=Fe.prototype.Ha,eS=Fe}).apply(typeof rh<"u"?rh:typeof self<"u"?self:typeof window<"u"?window:{});const jE="@firebase/firestore",zE="4.8.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}nn.UNAUTHENTICATED=new nn(null),nn.GOOGLE_CREDENTIALS=new nn("google-credentials-uid"),nn.FIRST_PARTY=new nn("first-party-uid"),nn.MOCK_USER=new nn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mo="11.10.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const la=new kp("@firebase/firestore");function oo(){return la.logLevel}function ce(i,...e){if(la.logLevel<=Pe.DEBUG){const n=e.map(Qp);la.debug(`Firestore (${Mo}): ${i}`,...n)}}function ur(i,...e){if(la.logLevel<=Pe.ERROR){const n=e.map(Qp);la.error(`Firestore (${Mo}): ${i}`,...n)}}function ss(i,...e){if(la.logLevel<=Pe.WARN){const n=e.map(Qp);la.warn(`Firestore (${Mo}): ${i}`,...n)}}function Qp(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Se(i,e,n){let s="Unexpected state";typeof e=="string"?s=e:n=e,sS(i,s,n)}function sS(i,e,n){let s=`FIRESTORE (${Mo}) INTERNAL ASSERTION FAILED: ${e} (ID: ${i.toString(16)})`;if(n!==void 0)try{s+=" CONTEXT: "+JSON.stringify(n)}catch{s+=" CONTEXT: "+n}throw ur(s),new Error(s)}function Ge(i,e,n,s){let o="Unexpected state";typeof n=="string"?o=n:s=n,i||sS(e,o,s)}function Re(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ie={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends fr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class is{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(nn.UNAUTHENTICATED))}shutdown(){}}class dD{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mD{constructor(e){this.t=e,this.currentUser=nn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ge(this.o===void 0,42304);let s=this.i;const o=p=>this.i!==s?(s=this.i,n(p)):Promise.resolve();let u=new is;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new is,e.enqueueRetryable(()=>o(this.currentUser))};const h=()=>{const p=u;e.enqueueRetryable(async()=>{await p.promise,await o(this.currentUser)})},m=p=>{ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=p,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(p=>m(p)),setTimeout(()=>{if(!this.auth){const p=this.t.getImmediate({optional:!0});p?m(p):(ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new is)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Ge(typeof s.accessToken=="string",31837,{l:s}),new aS(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ge(e===null||typeof e=="string",2055,{h:e}),new nn(e)}}class pD{constructor(e,n,s){this.P=e,this.T=n,this.I=s,this.type="FirstParty",this.user=nn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class gD{constructor(e,n,s){this.P=e,this.T=n,this.I=s}getToken(){return Promise.resolve(new pD(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(nn.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class BE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yD{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Xn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ge(this.o===void 0,3512);const s=u=>{u.error!=null&&ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.m;return this.m=u.token,ce("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const o=u=>{ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(u=>o(u)),setTimeout(()=>{if(!this.appCheck){const u=this.V.getImmediate({optional:!0});u?o(u):ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new BE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ge(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new BE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vD(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oS(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const o=vD(40);for(let u=0;u<o.length;++u)s.length<20&&o[u]<n&&(s+=e.charAt(o[u]%62))}return s}}function Ne(i,e){return i<e?-1:i>e?1:0}function sp(i,e){let n=0;for(;n<i.length&&n<e.length;){const s=i.codePointAt(n),o=e.codePointAt(n);if(s!==o){if(s<128&&o<128)return Ne(s,o);{const u=oS(),h=_D(u.encode(HE(i,n)),u.encode(HE(e,n)));return h!==0?h:Ne(s,o)}}n+=s>65535?2:1}return Ne(i.length,e.length)}function HE(i,e){return i.codePointAt(e)>65535?i.substring(e,e+2):i.substring(e,e+1)}function _D(i,e){for(let n=0;n<i.length&&n<e.length;++n)if(i[n]!==e[n])return Ne(i[n],e[n]);return Ne(i.length,e.length)}function To(i,e,n){return i.length===e.length&&i.every((s,o)=>n(s,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qE="__name__";class _i{constructor(e,n,s){n===void 0?n=0:n>e.length&&Se(637,{offset:n,range:e.length}),s===void 0?s=e.length-n:s>e.length-n&&Se(1746,{length:s,range:e.length-n}),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return _i.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _i?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let o=0;o<s;o++){const u=_i.compareSegments(e.get(o),n.get(o));if(u!==0)return u}return Ne(e.length,n.length)}static compareSegments(e,n){const s=_i.isNumericId(e),o=_i.isNumericId(n);return s&&!o?-1:!s&&o?1:s&&o?_i.extractNumericId(e).compare(_i.extractNumericId(n)):sp(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ns.fromString(e.substring(4,e.length-2))}}class rt extends _i{construct(e,n,s){return new rt(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(ie.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(o=>o.length>0))}return new rt(n)}static emptyPath(){return new rt([])}}const ED=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Qt extends _i{construct(e,n,s){return new Qt(e,n,s)}static isValidIdentifier(e){return ED.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Qt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===qE}static keyField(){return new Qt([qE])}static fromServerFormat(e){const n=[];let s="",o=0;const u=()=>{if(s.length===0)throw new de(ie.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;o<e.length;){const m=e[o];if(m==="\\"){if(o+1===e.length)throw new de(ie.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const p=e[o+1];if(p!=="\\"&&p!=="."&&p!=="`")throw new de(ie.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=p,o+=2}else m==="`"?(h=!h,o++):m!=="."||h?(s+=m,o++):(u(),o++)}if(u(),h)throw new de(ie.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Qt(n)}static emptyPath(){return new Qt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ve{constructor(e){this.path=e}static fromPath(e){return new ve(rt.fromString(e))}static fromName(e){return new ve(rt.fromString(e).popFirst(5))}static empty(){return new ve(rt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&rt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return rt.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ve(new rt(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lS(i,e,n){if(!n)throw new de(ie.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function TD(i,e,n,s){if(e===!0&&s===!0)throw new de(ie.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function FE(i){if(!ve.isDocumentKey(i))throw new de(ie.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function GE(i){if(ve.isDocumentKey(i))throw new de(ie.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function uS(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}function Xp(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":Se(12329,{type:typeof i})}function as(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(ie.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Xp(i);throw new de(ie.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bt(i,e){const n={typeString:i};return e&&(n.value=e),n}function wu(i,e){if(!uS(i))throw new de(ie.INVALID_ARGUMENT,"JSON must be an object");let n;for(const s in e)if(e[s]){const o=e[s].typeString,u="value"in e[s]?{value:e[s].value}:void 0;if(!(s in i)){n=`JSON missing required field: '${s}'`;break}const h=i[s];if(o&&typeof h!==o){n=`JSON field '${s}' must be a ${o}.`;break}if(u!==void 0&&h!==u.value){n=`Expected '${s}' field to equal '${u.value}'`;break}}if(n)throw new de(ie.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E=-62135596800,KE=1e6;class st{static now(){return st.fromMillis(Date.now())}static fromDate(e){return st.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor((e-1e3*n)*KE);return new st(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(ie.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<$E)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(ie.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/KE}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:st._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(wu(e,st._jsonSchema))return new st(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$E;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}st._jsonSchemaVersion="firestore/timestamp/1.0",st._jsonSchema={type:bt("string",st._jsonSchemaVersion),seconds:bt("number"),nanoseconds:bt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class we{static fromTimestamp(e){return new we(e)}static min(){return new we(new st(0,0))}static max(){return new we(new st(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fu=-1;function SD(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,o=we.fromTimestamp(s===1e9?new st(n+1,0):new st(n,s));return new os(o,ve.empty(),e)}function AD(i){return new os(i.readTime,i.key,fu)}class os{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new os(we.min(),ve.empty(),fu)}static max(){return new os(we.max(),ve.empty(),fu)}}function bD(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ve.comparator(i.documentKey,e.documentKey),n!==0?n:Ne(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class RD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Vo(i){if(i.code!==ie.FAILED_PRECONDITION||i.message!==wD)throw i;ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class te{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&Se(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new te((s,o)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,o)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof te?n:te.resolve(n)}catch(n){return te.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):te.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):te.reject(n)}static resolve(e){return new te((n,s)=>{n(e)})}static reject(e){return new te((n,s)=>{s(e)})}static waitFor(e){return new te((n,s)=>{let o=0,u=0,h=!1;e.forEach(m=>{++o,m.next(()=>{++u,h&&u===o&&n()},p=>s(p))}),h=!0,u===o&&n()})}static or(e){let n=te.resolve(!1);for(const s of e)n=n.next(o=>o?te.resolve(o):s());return n}static forEach(e,n){const s=[];return e.forEach((o,u)=>{s.push(n.call(this,o,u))}),this.waitFor(s)}static mapArray(e,n){return new te((s,o)=>{const u=e.length,h=new Array(u);let m=0;for(let p=0;p<u;p++){const g=p;n(e[g]).next(E=>{h[g]=E,++m,m===u&&s(h)},E=>o(E))}})}static doWhile(e,n){return new te((s,o)=>{const u=()=>{e()===!0?n().next(()=>{u()},o):s()};u()})}}function CD(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Po(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this._e(s),this.ae=s=>n.writeSequenceNumber(s))}_e(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ae&&this.ae(e),e}}nf.ue=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp=-1;function rf(i){return i==null}function Oh(i){return i===0&&1/i==-1/0}function ID(i){return typeof i=="number"&&Number.isInteger(i)&&!Oh(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cS="";function ND(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=QE(e)),e=DD(i.get(n),e);return QE(e)}function DD(i,e){let n=e;const s=i.length;for(let o=0;o<s;o++){const u=i.charAt(o);switch(u){case"\0":n+="";break;case cS:n+="";break;default:n+=u}}return n}function QE(i){return i+cS+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YE(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function ps(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function hS(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e,n){this.comparator=e,this.root=n||Kt.EMPTY}insert(e,n){return new ct(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Kt.BLACK,null,null))}remove(e){return new ct(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Kt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const o=this.comparator(e,s.key);if(o===0)return n+s.left.size;o<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new sh(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new sh(this.root,e,this.comparator,!1)}getReverseIterator(){return new sh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new sh(this.root,e,this.comparator,!0)}}class sh{constructor(e,n,s,o){this.isReverse=o,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&o&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Kt{constructor(e,n,s,o,u){this.key=e,this.value=n,this.color=s??Kt.RED,this.left=o??Kt.EMPTY,this.right=u??Kt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,o,u){return new Kt(e??this.key,n??this.value,s??this.color,o??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let o=this;const u=s(e,o.key);return o=u<0?o.copy(null,null,null,o.left.insert(e,n,s),null):u===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,s)),o.fixUp()}removeMin(){if(this.left.isEmpty())return Kt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return Kt.EMPTY;s=o.right.min(),o=o.copy(s.key,s.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Kt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Kt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Se(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Se(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Se(27949);return e+(this.isRed()?0:1)}}Kt.EMPTY=null,Kt.RED=!0,Kt.BLACK=!1;Kt.EMPTY=new class{constructor(){this.size=0}get key(){throw Se(57766)}get value(){throw Se(16141)}get color(){throw Se(16727)}get left(){throw Se(29726)}get right(){throw Se(36894)}copy(e,n,s,o,u){return this}insert(e,n,s){return new Kt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.comparator=e,this.data=new ct(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const o=s.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new XE(this.data.getIterator())}getIteratorFrom(e){return new XE(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof Mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(this.comparator(o,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Mt(this.comparator);return n.data=e,n}}class XE{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn{constructor(e){this.fields=e,e.sort(Qt.comparator)}static empty(){return new Rn([])}unionWith(e){let n=new Mt(Qt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Rn(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return To(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new fS("Invalid base64 string: "+u):u}}(e);return new Xt(n)}static fromUint8Array(e){const n=function(o){let u="";for(let h=0;h<o.length;++h)u+=String.fromCharCode(o[h]);return u}(e);return new Xt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let o=0;o<n.length;o++)s[o]=n.charCodeAt(o);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xt.EMPTY_BYTE_STRING=new Xt("");const xD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ls(i){if(Ge(!!i,39018),typeof i=="string"){let e=0;const n=xD.exec(i);if(Ge(!!n,46558,{timestamp:i}),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:vt(i.seconds),nanos:vt(i.nanos)}}function vt(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function us(i){return typeof i=="string"?Xt.fromBase64String(i):Xt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dS="server_timestamp",mS="__type__",pS="__previous_value__",gS="__local_write_time__";function Zp(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[mS])===null||n===void 0?void 0:n.stringValue)===dS}function sf(i){const e=i.mapValue.fields[pS];return Zp(e)?sf(e):e}function du(i){const e=ls(i.mapValue.fields[gS].timestampValue);return new st(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OD{constructor(e,n,s,o,u,h,m,p,g,E){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=o,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=p,this.useFetchStreams=g,this.isUsingEmulator=E}}const Mh="(default)";class mu{constructor(e,n){this.projectId=e,this.database=n||Mh}static empty(){return new mu("","")}get isDefaultDatabase(){return this.database===Mh}isEqual(e){return e instanceof mu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yS="__type__",MD="__max__",ah={mapValue:{}},vS="__vector__",Vh="value";function cs(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?Zp(i)?4:PD(i)?9007199254740991:VD(i)?10:11:Se(28295,{value:i})}function Ri(i,e){if(i===e)return!0;const n=cs(i);if(n!==cs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return du(i).isEqual(du(e));case 3:return function(o,u){if(typeof o.timestampValue=="string"&&typeof u.timestampValue=="string"&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const h=ls(o.timestampValue),m=ls(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(o,u){return us(o.bytesValue).isEqual(us(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return vt(o.geoPointValue.latitude)===vt(u.geoPointValue.latitude)&&vt(o.geoPointValue.longitude)===vt(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return vt(o.integerValue)===vt(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const h=vt(o.doubleValue),m=vt(u.doubleValue);return h===m?Oh(h)===Oh(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return To(i.arrayValue.values||[],e.arrayValue.values||[],Ri);case 10:case 11:return function(o,u){const h=o.mapValue.fields||{},m=u.mapValue.fields||{};if(YE(h)!==YE(m))return!1;for(const p in h)if(h.hasOwnProperty(p)&&(m[p]===void 0||!Ri(h[p],m[p])))return!1;return!0}(i,e);default:return Se(52216,{left:i})}}function pu(i,e){return(i.values||[]).find(n=>Ri(n,e))!==void 0}function So(i,e){if(i===e)return 0;const n=cs(i),s=cs(e);if(n!==s)return Ne(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=vt(u.integerValue||u.doubleValue),p=vt(h.integerValue||h.doubleValue);return m<p?-1:m>p?1:m===p?0:isNaN(m)?isNaN(p)?0:-1:1}(i,e);case 3:return WE(i.timestampValue,e.timestampValue);case 4:return WE(du(i),du(e));case 5:return sp(i.stringValue,e.stringValue);case 6:return function(u,h){const m=us(u),p=us(h);return m.compareTo(p)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),p=h.split("/");for(let g=0;g<m.length&&g<p.length;g++){const E=Ne(m[g],p[g]);if(E!==0)return E}return Ne(m.length,p.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=Ne(vt(u.latitude),vt(h.latitude));return m!==0?m:Ne(vt(u.longitude),vt(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return ZE(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,p,g,E;const b=u.fields||{},T=h.fields||{},w=(m=b[Vh])===null||m===void 0?void 0:m.arrayValue,C=(p=T[Vh])===null||p===void 0?void 0:p.arrayValue,N=Ne(((g=w?.values)===null||g===void 0?void 0:g.length)||0,((E=C?.values)===null||E===void 0?void 0:E.length)||0);return N!==0?N:ZE(w,C)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===ah.mapValue&&h===ah.mapValue)return 0;if(u===ah.mapValue)return 1;if(h===ah.mapValue)return-1;const m=u.fields||{},p=Object.keys(m),g=h.fields||{},E=Object.keys(g);p.sort(),E.sort();for(let b=0;b<p.length&&b<E.length;++b){const T=sp(p[b],E[b]);if(T!==0)return T;const w=So(m[p[b]],g[E[b]]);if(w!==0)return w}return Ne(p.length,E.length)}(i.mapValue,e.mapValue);default:throw Se(23264,{le:n})}}function WE(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return Ne(i,e);const n=ls(i),s=ls(e),o=Ne(n.seconds,s.seconds);return o!==0?o:Ne(n.nanos,s.nanos)}function ZE(i,e){const n=i.values||[],s=e.values||[];for(let o=0;o<n.length&&o<s.length;++o){const u=So(n[o],s[o]);if(u)return u}return Ne(n.length,s.length)}function Ao(i){return ap(i)}function ap(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ls(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return us(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ve.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",o=!0;for(const u of n.values||[])o?o=!1:s+=",",s+=ap(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let o="{",u=!0;for(const h of s)u?u=!1:o+=",",o+=`${h}:${ap(n.fields[h])}`;return o+"}"}(i.mapValue):Se(61005,{value:i})}function vh(i){switch(cs(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=sf(i);return e?16+vh(e):16;case 5:return 2*i.stringValue.length;case 6:return us(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((o,u)=>o+vh(u),0)}(i.arrayValue);case 10:case 11:return function(s){let o=0;return ps(s.fields,(u,h)=>{o+=u.length+vh(h)}),o}(i.mapValue);default:throw Se(13486,{value:i})}}function op(i){return!!i&&"integerValue"in i}function Jp(i){return!!i&&"arrayValue"in i}function JE(i){return!!i&&"nullValue"in i}function eT(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function _h(i){return!!i&&"mapValue"in i}function VD(i){var e,n;return((n=(((e=i?.mapValue)===null||e===void 0?void 0:e.fields)||{})[yS])===null||n===void 0?void 0:n.stringValue)===vS}function ru(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return ps(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=ru(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=ru(i.arrayValue.values[n]);return e}return Object.assign({},i)}function PD(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue===MD}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gn{constructor(e){this.value=e}static empty(){return new gn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!_h(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=ru(n)}setAll(e){let n=Qt.emptyPath(),s={},o=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const p=this.getFieldsMap(n);this.applyChanges(p,s,o),s={},o=[],n=m.popLast()}h?s[m.lastSegment()]=ru(h):o.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,o)}delete(e){const n=this.field(e.popLast());_h(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ri(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let o=n.mapValue.fields[e.get(s)];_h(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,s){ps(n,(o,u)=>e[o]=u);for(const o of s)delete e[o]}clone(){return new gn(ru(this.value))}}function _S(i){const e=[];return ps(i.fields,(n,s)=>{const o=new Qt([n]);if(_h(s)){const u=_S(s.mapValue).fields;if(u.length===0)e.push(o);else for(const h of u)e.push(o.child(h))}else e.push(o)}),new Rn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n,s,o,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=o,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new rn(e,0,we.min(),we.min(),we.min(),gn.empty(),0)}static newFoundDocument(e,n,s,o){return new rn(e,1,n,we.min(),s,o,0)}static newNoDocument(e,n){return new rn(e,2,n,we.min(),we.min(),gn.empty(),0)}static newUnknownDocument(e,n){return new rn(e,3,n,we.min(),we.min(),gn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(we.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=gn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=gn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=we.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof rn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new rn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ph{constructor(e,n){this.position=e,this.inclusive=n}}function tT(i,e,n){let s=0;for(let o=0;o<i.position.length;o++){const u=e[o],h=i.position[o];if(u.field.isKeyField()?s=ve.comparator(ve.fromName(h.referenceValue),n.key):s=So(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function nT(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Ri(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kh{constructor(e,n="asc"){this.field=e,this.dir=n}}function kD(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{}class xt extends ES{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new UD(e,n,s):n==="array-contains"?new BD(e,s):n==="in"?new HD(e,s):n==="not-in"?new qD(e,s):n==="array-contains-any"?new FD(e,s):new xt(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new jD(e,s):new zD(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(So(n,this.value)):n!==null&&cs(this.value)===cs(n)&&this.matchesComparison(So(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Se(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ci extends ES{constructor(e,n){super(),this.filters=e,this.op=n,this.he=null}static create(e,n){return new Ci(e,n)}matches(e){return TS(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.he!==null||(this.he=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.he}getFilters(){return Object.assign([],this.filters)}}function TS(i){return i.op==="and"}function SS(i){return LD(i)&&TS(i)}function LD(i){for(const e of i.filters)if(e instanceof Ci)return!1;return!0}function lp(i){if(i instanceof xt)return i.field.canonicalString()+i.op.toString()+Ao(i.value);if(SS(i))return i.filters.map(e=>lp(e)).join(",");{const e=i.filters.map(n=>lp(n)).join(",");return`${i.op}(${e})`}}function AS(i,e){return i instanceof xt?function(s,o){return o instanceof xt&&s.op===o.op&&s.field.isEqual(o.field)&&Ri(s.value,o.value)}(i,e):i instanceof Ci?function(s,o){return o instanceof Ci&&s.op===o.op&&s.filters.length===o.filters.length?s.filters.reduce((u,h,m)=>u&&AS(h,o.filters[m]),!0):!1}(i,e):void Se(19439)}function bS(i){return i instanceof xt?function(n){return`${n.field.canonicalString()} ${n.op} ${Ao(n.value)}`}(i):i instanceof Ci?function(n){return n.op.toString()+" {"+n.getFilters().map(bS).join(" ,")+"}"}(i):"Filter"}class UD extends xt{constructor(e,n,s){super(e,n,s),this.key=ve.fromName(s.referenceValue)}matches(e){const n=ve.comparator(e.key,this.key);return this.matchesComparison(n)}}class jD extends xt{constructor(e,n){super(e,"in",n),this.keys=wS("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class zD extends xt{constructor(e,n){super(e,"not-in",n),this.keys=wS("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function wS(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ve.fromName(s.referenceValue))}class BD extends xt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jp(n)&&pu(n.arrayValue,this.value)}}class HD extends xt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&pu(this.value.arrayValue,n)}}class qD extends xt{constructor(e,n){super(e,"not-in",n)}matches(e){if(pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!pu(this.value.arrayValue,n)}}class FD extends xt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jp(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>pu(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,n=null,s=[],o=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=o,this.limit=u,this.startAt=h,this.endAt=m,this.Pe=null}}function iT(i,e=null,n=[],s=[],o=null,u=null,h=null){return new GD(i,e,n,s,o,u,h)}function eg(i){const e=Re(i);if(e.Pe===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>lp(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),rf(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>Ao(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>Ao(s)).join(",")),e.Pe=n}return e.Pe}function tg(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!kD(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!AS(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!nT(i.startAt,e.startAt)&&nT(i.endAt,e.endAt)}function up(i){return ve.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class af{constructor(e,n=null,s=[],o=[],u=null,h="F",m=null,p=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=o,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=p,this.Te=null,this.Ie=null,this.de=null,this.startAt,this.endAt}}function $D(i,e,n,s,o,u,h,m){return new af(i,e,n,s,o,u,h,m)}function RS(i){return new af(i)}function rT(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function KD(i){return i.collectionGroup!==null}function su(i){const e=Re(i);if(e.Te===null){e.Te=[];const n=new Set;for(const u of e.explicitOrderBy)e.Te.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new Mt(Qt.comparator);return h.filters.forEach(p=>{p.getFlattenedFilters().forEach(g=>{g.isInequality()&&(m=m.add(g.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.Te.push(new kh(u,s))}),n.has(Qt.keyField().canonicalString())||e.Te.push(new kh(Qt.keyField(),s))}return e.Te}function Si(i){const e=Re(i);return e.Ie||(e.Ie=QD(e,su(i))),e.Ie}function QD(i,e){if(i.limitType==="F")return iT(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(o=>{const u=o.dir==="desc"?"asc":"desc";return new kh(o.field,u)});const n=i.endAt?new Ph(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new Ph(i.startAt.position,i.startAt.inclusive):null;return iT(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function cp(i,e,n){return new af(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function of(i,e){return tg(Si(i),Si(e))&&i.limitType===e.limitType}function CS(i){return`${eg(Si(i))}|lt:${i.limitType}`}function lo(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(o=>bS(o)).join(", ")}]`),rf(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(o=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(o)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(o=>Ao(o)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(o=>Ao(o)).join(",")),`Target(${s})`}(Si(i))}; limitType=${i.limitType})`}function lf(i,e){return e.isFoundDocument()&&function(s,o){const u=o.key.path;return s.collectionGroup!==null?o.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ve.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,o){for(const u of su(s))if(!u.field.isKeyField()&&o.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,o){for(const u of s.filters)if(!u.matches(o))return!1;return!0}(i,e)&&function(s,o){return!(s.startAt&&!function(h,m,p){const g=tT(h,m,p);return h.inclusive?g<=0:g<0}(s.startAt,su(s),o)||s.endAt&&!function(h,m,p){const g=tT(h,m,p);return h.inclusive?g>=0:g>0}(s.endAt,su(s),o))}(i,e)}function YD(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function IS(i){return(e,n)=>{let s=!1;for(const o of su(i)){const u=XD(o,e,n);if(u!==0)return u;s=s||o.field.isKeyField()}return 0}}function XD(i,e,n){const s=i.field.isKeyField()?ve.comparator(e.key,n.key):function(u,h,m){const p=h.data.field(u),g=m.data.field(u);return p!==null&&g!==null?So(p,g):Se(42886)}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return Se(19790,{direction:i.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[o,u]of s)if(this.equalsFn(o,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),o=this.inner[s];if(o===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return void(o[u]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let o=0;o<s.length;o++)if(this.equalsFn(s[o][0],e))return s.length===1?delete this.inner[n]:s.splice(o,1),this.innerSize--,!0;return!1}forEach(e){ps(this.inner,(n,s)=>{for(const[o,u]of s)e(o,u)})}isEmpty(){return hS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WD=new ct(ve.comparator);function cr(){return WD}const NS=new ct(ve.comparator);function Jl(...i){let e=NS;for(const n of i)e=e.insert(n.key,n);return e}function DS(i){let e=NS;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ra(){return au()}function xS(){return au()}function au(){return new ha(i=>i.toString(),(i,e)=>i.isEqual(e))}const ZD=new ct(ve.comparator),JD=new Mt(ve.comparator);function ke(...i){let e=JD;for(const n of i)e=e.add(n);return e}const ex=new Mt(Ne);function tx(){return ex}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ng(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Oh(e)?"-0":e}}function OS(i){return{integerValue:""+i}}function nx(i,e){return ID(e)?OS(e):ng(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uf{constructor(){this._=void 0}}function ix(i,e,n){return i instanceof Lh?function(o,u){const h={fields:{[mS]:{stringValue:dS},[gS]:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&Zp(u)&&(u=sf(u)),u&&(h.fields[pS]=u),{mapValue:h}}(n,e):i instanceof gu?VS(i,e):i instanceof yu?PS(i,e):function(o,u){const h=MS(o,u),m=sT(h)+sT(o.Ee);return op(h)&&op(o.Ee)?OS(m):ng(o.serializer,m)}(i,e)}function rx(i,e,n){return i instanceof gu?VS(i,e):i instanceof yu?PS(i,e):n}function MS(i,e){return i instanceof Uh?function(s){return op(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class Lh extends uf{}class gu extends uf{constructor(e){super(),this.elements=e}}function VS(i,e){const n=kS(e);for(const s of i.elements)n.some(o=>Ri(o,s))||n.push(s);return{arrayValue:{values:n}}}class yu extends uf{constructor(e){super(),this.elements=e}}function PS(i,e){let n=kS(e);for(const s of i.elements)n=n.filter(o=>!Ri(o,s));return{arrayValue:{values:n}}}class Uh extends uf{constructor(e,n){super(),this.serializer=e,this.Ee=n}}function sT(i){return vt(i.integerValue||i.doubleValue)}function kS(i){return Jp(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function sx(i,e){return i.field.isEqual(e.field)&&function(s,o){return s instanceof gu&&o instanceof gu||s instanceof yu&&o instanceof yu?To(s.elements,o.elements,Ri):s instanceof Uh&&o instanceof Uh?Ri(s.Ee,o.Ee):s instanceof Lh&&o instanceof Lh}(i.transform,e.transform)}class ax{constructor(e,n){this.version=e,this.transformResults=n}}class Zn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zn}static exists(e){return new Zn(void 0,e)}static updateTime(e){return new Zn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Eh(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class cf{}function LS(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new ig(i.key,Zn.none()):new Ru(i.key,i.data,Zn.none());{const n=i.data,s=gn.empty();let o=new Mt(Qt.comparator);for(let u of e.fields)if(!o.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),o=o.add(u)}return new gs(i.key,s,new Rn(o.toArray()),Zn.none())}}function ox(i,e,n){i instanceof Ru?function(o,u,h){const m=o.value.clone(),p=oT(o.fieldTransforms,u,h.transformResults);m.setAll(p),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof gs?function(o,u,h){if(!Eh(o.precondition,u))return void u.convertToUnknownDocument(h.version);const m=oT(o.fieldTransforms,u,h.transformResults),p=u.data;p.setAll(US(o)),p.setAll(m),u.convertToFoundDocument(h.version,p).setHasCommittedMutations()}(i,e,n):function(o,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function ou(i,e,n,s){return i instanceof Ru?function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=u.value.clone(),E=lT(u.fieldTransforms,p,h);return g.setAll(E),h.convertToFoundDocument(h.version,g).setHasLocalMutations(),null}(i,e,n,s):i instanceof gs?function(u,h,m,p){if(!Eh(u.precondition,h))return m;const g=lT(u.fieldTransforms,p,h),E=h.data;return E.setAll(US(u)),E.setAll(g),h.convertToFoundDocument(h.version,E).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(b=>b.field))}(i,e,n,s):function(u,h,m){return Eh(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function lx(i,e){let n=null;for(const s of i.fieldTransforms){const o=e.data.field(s.field),u=MS(s.transform,o||null);u!=null&&(n===null&&(n=gn.empty()),n.set(s.field,u))}return n||null}function aT(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,o){return s===void 0&&o===void 0||!(!s||!o)&&To(s,o,(u,h)=>sx(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ru extends cf{constructor(e,n,s,o=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class gs extends cf{constructor(e,n,s,o,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=o,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function US(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function oT(i,e,n){const s=new Map;Ge(i.length===n.length,32656,{Ae:n.length,Re:i.length});for(let o=0;o<n.length;o++){const u=i[o],h=u.transform,m=e.data.field(u.field);s.set(u.field,rx(h,m,n[o]))}return s}function lT(i,e,n){const s=new Map;for(const o of i){const u=o.transform,h=n.data.field(o.field);s.set(o.field,ix(u,h,e))}return s}class ig extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ux extends cf{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx{constructor(e,n,s,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=o}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const u=this.mutations[o];u.key.isEqual(e.key)&&ox(u,e,s[o])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=ou(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=ou(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=xS();return this.mutations.forEach(o=>{const u=e.get(o.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(o.key)?null:m;const p=LS(h,m);p!==null&&s.set(o.key,p),h.isValidDocument()||h.convertToNoDocument(we.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),ke())}isEqual(e){return this.batchId===e.batchId&&To(this.mutations,e.mutations,(n,s)=>aT(n,s))&&To(this.baseMutations,e.baseMutations,(n,s)=>aT(n,s))}}class rg{constructor(e,n,s,o){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=o}static from(e,n,s){Ge(e.mutations.length===s.length,58842,{Ve:e.mutations.length,me:s.length});let o=function(){return ZD}();const u=e.mutations;for(let h=0;h<u.length;h++)o=o.insert(u[h].key,s[h].version);return new rg(e,n,s,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var At,ze;function dx(i){switch(i){case ie.OK:return Se(64938);case ie.CANCELLED:case ie.UNKNOWN:case ie.DEADLINE_EXCEEDED:case ie.RESOURCE_EXHAUSTED:case ie.INTERNAL:case ie.UNAVAILABLE:case ie.UNAUTHENTICATED:return!1;case ie.INVALID_ARGUMENT:case ie.NOT_FOUND:case ie.ALREADY_EXISTS:case ie.PERMISSION_DENIED:case ie.FAILED_PRECONDITION:case ie.ABORTED:case ie.OUT_OF_RANGE:case ie.UNIMPLEMENTED:case ie.DATA_LOSS:return!0;default:return Se(15467,{code:i})}}function jS(i){if(i===void 0)return ur("GRPC error has no .code"),ie.UNKNOWN;switch(i){case At.OK:return ie.OK;case At.CANCELLED:return ie.CANCELLED;case At.UNKNOWN:return ie.UNKNOWN;case At.DEADLINE_EXCEEDED:return ie.DEADLINE_EXCEEDED;case At.RESOURCE_EXHAUSTED:return ie.RESOURCE_EXHAUSTED;case At.INTERNAL:return ie.INTERNAL;case At.UNAVAILABLE:return ie.UNAVAILABLE;case At.UNAUTHENTICATED:return ie.UNAUTHENTICATED;case At.INVALID_ARGUMENT:return ie.INVALID_ARGUMENT;case At.NOT_FOUND:return ie.NOT_FOUND;case At.ALREADY_EXISTS:return ie.ALREADY_EXISTS;case At.PERMISSION_DENIED:return ie.PERMISSION_DENIED;case At.FAILED_PRECONDITION:return ie.FAILED_PRECONDITION;case At.ABORTED:return ie.ABORTED;case At.OUT_OF_RANGE:return ie.OUT_OF_RANGE;case At.UNIMPLEMENTED:return ie.UNIMPLEMENTED;case At.DATA_LOSS:return ie.DATA_LOSS;default:return Se(39323,{code:i})}}(ze=At||(At={}))[ze.OK=0]="OK",ze[ze.CANCELLED=1]="CANCELLED",ze[ze.UNKNOWN=2]="UNKNOWN",ze[ze.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ze[ze.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ze[ze.NOT_FOUND=5]="NOT_FOUND",ze[ze.ALREADY_EXISTS=6]="ALREADY_EXISTS",ze[ze.PERMISSION_DENIED=7]="PERMISSION_DENIED",ze[ze.UNAUTHENTICATED=16]="UNAUTHENTICATED",ze[ze.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ze[ze.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ze[ze.ABORTED=10]="ABORTED",ze[ze.OUT_OF_RANGE=11]="OUT_OF_RANGE",ze[ze.UNIMPLEMENTED=12]="UNIMPLEMENTED",ze[ze.INTERNAL=13]="INTERNAL",ze[ze.UNAVAILABLE=14]="UNAVAILABLE",ze[ze.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mx=new ns([4294967295,4294967295],0);function uT(i){const e=oS().encode(i),n=new J0;return n.update(e),new Uint8Array(n.digest())}function cT(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),o=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new ns([n,s],0),new ns([o,u],0)]}class sg{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new eu(`Invalid padding: ${n}`);if(s<0)throw new eu(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new eu(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new eu(`Invalid padding when bitmap length is 0: ${n}`);this.fe=8*e.length-n,this.ge=ns.fromNumber(this.fe)}pe(e,n,s){let o=e.add(n.multiply(ns.fromNumber(s)));return o.compare(mx)===1&&(o=new ns([o.getBits(0),o.getBits(1)],0)),o.modulo(this.ge).toNumber()}ye(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.fe===0)return!1;const n=uT(e),[s,o]=cT(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);if(!this.ye(h))return!1}return!0}static create(e,n,s){const o=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new sg(u,o,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.fe===0)return;const n=uT(e),[s,o]=cT(n);for(let u=0;u<this.hashCount;u++){const h=this.pe(s,o,u);this.we(h)}}we(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class eu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hf{constructor(e,n,s,o,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=o,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const o=new Map;return o.set(e,Cu.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new hf(we.min(),o,new ct(Ne),cr(),ke())}}class Cu{constructor(e,n,s,o,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=o,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Cu(s,n,ke(),ke(),ke())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Th{constructor(e,n,s,o){this.Se=e,this.removedTargetIds=n,this.key=s,this.be=o}}class zS{constructor(e,n){this.targetId=e,this.De=n}}class BS{constructor(e,n,s=Xt.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=o}}class hT{constructor(){this.ve=0,this.Ce=fT(),this.Fe=Xt.EMPTY_BYTE_STRING,this.Me=!1,this.xe=!0}get current(){return this.Me}get resumeToken(){return this.Fe}get Oe(){return this.ve!==0}get Ne(){return this.xe}Be(e){e.approximateByteSize()>0&&(this.xe=!0,this.Fe=e)}Le(){let e=ke(),n=ke(),s=ke();return this.Ce.forEach((o,u)=>{switch(u){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:s=s.add(o);break;default:Se(38017,{changeType:u})}}),new Cu(this.Fe,this.Me,e,n,s)}ke(){this.xe=!1,this.Ce=fT()}qe(e,n){this.xe=!0,this.Ce=this.Ce.insert(e,n)}Qe(e){this.xe=!0,this.Ce=this.Ce.remove(e)}$e(){this.ve+=1}Ue(){this.ve-=1,Ge(this.ve>=0,3241,{ve:this.ve})}Ke(){this.xe=!0,this.Me=!0}}class px{constructor(e){this.We=e,this.Ge=new Map,this.ze=cr(),this.je=oh(),this.Je=oh(),this.He=new ct(Ne)}Ye(e){for(const n of e.Se)e.be&&e.be.isFoundDocument()?this.Ze(n,e.be):this.Xe(n,e.key,e.be);for(const n of e.removedTargetIds)this.Xe(n,e.key,e.be)}et(e){this.forEachTarget(e,n=>{const s=this.tt(n);switch(e.state){case 0:this.nt(n)&&s.Be(e.resumeToken);break;case 1:s.Ue(),s.Oe||s.ke(),s.Be(e.resumeToken);break;case 2:s.Ue(),s.Oe||this.removeTarget(n);break;case 3:this.nt(n)&&(s.Ke(),s.Be(e.resumeToken));break;case 4:this.nt(n)&&(this.rt(n),s.Be(e.resumeToken));break;default:Se(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Ge.forEach((s,o)=>{this.nt(o)&&n(o)})}it(e){const n=e.targetId,s=e.De.count,o=this.st(n);if(o){const u=o.target;if(up(u))if(s===0){const h=new ve(u.path);this.Xe(n,h,rn.newNoDocument(h,we.min()))}else Ge(s===1,20013,{expectedCount:s});else{const h=this.ot(n);if(h!==s){const m=this._t(e),p=m?this.ut(m,e,h):1;if(p!==0){this.rt(n);const g=p===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.He=this.He.insert(n,g)}}}}}_t(e){const n=e.De.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:o=0},hashCount:u=0}=n;let h,m;try{h=us(s).toUint8Array()}catch(p){if(p instanceof fS)return ss("Decoding the base64 bloom filter in existence filter failed ("+p.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw p}try{m=new sg(h,o,u)}catch(p){return ss(p instanceof eu?"BloomFilter error: ":"Applying bloom filter failed: ",p),null}return m.fe===0?null:m}ut(e,n,s){return n.De.count===s-this.ht(e,n.targetId)?0:2}ht(e,n){const s=this.We.getRemoteKeysForTarget(n);let o=0;return s.forEach(u=>{const h=this.We.lt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.Xe(n,u,null),o++)}),o}Pt(e){const n=new Map;this.Ge.forEach((u,h)=>{const m=this.st(h);if(m){if(u.current&&up(m.target)){const p=new ve(m.target.path);this.Tt(p).has(h)||this.It(h,p)||this.Xe(h,p,rn.newNoDocument(p,e))}u.Ne&&(n.set(h,u.Le()),u.ke())}});let s=ke();this.Je.forEach((u,h)=>{let m=!0;h.forEachWhile(p=>{const g=this.st(p);return!g||g.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ze.forEach((u,h)=>h.setReadTime(e));const o=new hf(e,n,this.He,this.ze,s);return this.ze=cr(),this.je=oh(),this.Je=oh(),this.He=new ct(Ne),o}Ze(e,n){if(!this.nt(e))return;const s=this.It(e,n.key)?2:0;this.tt(e).qe(n.key,s),this.ze=this.ze.insert(n.key,n),this.je=this.je.insert(n.key,this.Tt(n.key).add(e)),this.Je=this.Je.insert(n.key,this.dt(n.key).add(e))}Xe(e,n,s){if(!this.nt(e))return;const o=this.tt(e);this.It(e,n)?o.qe(n,1):o.Qe(n),this.Je=this.Je.insert(n,this.dt(n).delete(e)),this.Je=this.Je.insert(n,this.dt(n).add(e)),s&&(this.ze=this.ze.insert(n,s))}removeTarget(e){this.Ge.delete(e)}ot(e){const n=this.tt(e).Le();return this.We.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.tt(e).$e()}tt(e){let n=this.Ge.get(e);return n||(n=new hT,this.Ge.set(e,n)),n}dt(e){let n=this.Je.get(e);return n||(n=new Mt(Ne),this.Je=this.Je.insert(e,n)),n}Tt(e){let n=this.je.get(e);return n||(n=new Mt(Ne),this.je=this.je.insert(e,n)),n}nt(e){const n=this.st(e)!==null;return n||ce("WatchChangeAggregator","Detected inactive target",e),n}st(e){const n=this.Ge.get(e);return n&&n.Oe?null:this.We.Et(e)}rt(e){this.Ge.set(e,new hT),this.We.getRemoteKeysForTarget(e).forEach(n=>{this.Xe(e,n,null)})}It(e,n){return this.We.getRemoteKeysForTarget(e).has(n)}}function oh(){return new ct(ve.comparator)}function fT(){return new ct(ve.comparator)}const gx={asc:"ASCENDING",desc:"DESCENDING"},yx={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},vx={and:"AND",or:"OR"};class _x{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function hp(i,e){return i.useProto3Json||rf(e)?e:{value:e}}function jh(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function HS(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function Ex(i,e){return jh(i,e.toTimestamp())}function Ai(i){return Ge(!!i,49232),we.fromTimestamp(function(n){const s=ls(n);return new st(s.seconds,s.nanos)}(i))}function ag(i,e){return fp(i,e).canonicalString()}function fp(i,e){const n=function(o){return new rt(["projects",o.projectId,"databases",o.database])}(i).child("documents");return e===void 0?n:n.child(e)}function qS(i){const e=rt.fromString(i);return Ge(QS(e),10190,{key:e.toString()}),e}function dp(i,e){return ag(i.databaseId,e.path)}function Um(i,e){const n=qS(e);if(n.get(1)!==i.databaseId.projectId)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(ie.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ve(GS(n))}function FS(i,e){return ag(i.databaseId,e)}function Tx(i){const e=qS(i);return e.length===4?rt.emptyPath():GS(e)}function mp(i){return new rt(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function GS(i){return Ge(i.length>4&&i.get(4)==="documents",29091,{key:i.toString()}),i.popFirst(5)}function dT(i,e,n){return{name:dp(i,e),fields:n.value.mapValue.fields}}function Sx(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:Se(39313,{state:g})}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],u=function(g,E){return g.useProto3Json?(Ge(E===void 0||typeof E=="string",58123),Xt.fromBase64String(E||"")):(Ge(E===void 0||E instanceof Buffer||E instanceof Uint8Array,16193),Xt.fromUint8Array(E||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(g){const E=g.code===void 0?ie.UNKNOWN:jS(g.code);return new de(E,g.message||"")}(h);n=new BS(s,o,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const o=Um(i,s.document.name),u=Ai(s.document.updateTime),h=s.document.createTime?Ai(s.document.createTime):we.min(),m=new gn({mapValue:{fields:s.document.fields}}),p=rn.newFoundDocument(o,u,h,m),g=s.targetIds||[],E=s.removedTargetIds||[];n=new Th(g,E,p.key,p)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const o=Um(i,s.document),u=s.readTime?Ai(s.readTime):we.min(),h=rn.newNoDocument(o,u),m=s.removedTargetIds||[];n=new Th([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const o=Um(i,s.document),u=s.removedTargetIds||[];n=new Th([],u,o,null)}else{if(!("filter"in e))return Se(11601,{At:e});{e.filter;const s=e.filter;s.targetId;const{count:o=0,unchangedNames:u}=s,h=new fx(o,u),m=s.targetId;n=new zS(m,h)}}return n}function Ax(i,e){let n;if(e instanceof Ru)n={update:dT(i,e.key,e.value)};else if(e instanceof ig)n={delete:dp(i,e.key)};else if(e instanceof gs)n={update:dT(i,e.key,e.data),updateMask:Ox(e.fieldMask)};else{if(!(e instanceof ux))return Se(16599,{Rt:e.type});n={verify:dp(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof Lh)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof gu)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof yu)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof Uh)return{fieldPath:h.field.canonicalString(),increment:m.Ee};throw Se(20930,{transform:h.transform})}(0,s))),e.precondition.isNone||(n.currentDocument=function(o,u){return u.updateTime!==void 0?{updateTime:Ex(o,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:Se(27497)}(i,e.precondition)),n}function bx(i,e){return i&&i.length>0?(Ge(e!==void 0,14353),i.map(n=>function(o,u){let h=o.updateTime?Ai(o.updateTime):Ai(u);return h.isEqual(we.min())&&(h=Ai(u)),new ax(h,o.transformResults||[])}(n,e))):[]}function wx(i,e){return{documents:[FS(i,e.path)]}}function Rx(i,e){const n={structuredQuery:{}},s=e.path;let o;e.collectionGroup!==null?(o=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=FS(i,o);const u=function(g){if(g.length!==0)return KS(Ci.create(g,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(g){if(g.length!==0)return g.map(E=>function(T){return{field:uo(T.field),direction:Nx(T.dir)}}(E))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=hp(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(g){return{before:g.inclusive,values:g.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(g){return{before:!g.inclusive,values:g.position}}(e.endAt)),{Vt:n,parent:o}}function Cx(i){let e=Tx(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let o=null;if(s>0){Ge(s===1,65062);const E=n.from[0];E.allDescendants?o=E.collectionId:e=e.child(E.collectionId)}let u=[];n.where&&(u=function(b){const T=$S(b);return T instanceof Ci&&SS(T)?T.getFilters():[T]}(n.where));let h=[];n.orderBy&&(h=function(b){return b.map(T=>function(C){return new kh(co(C.field),function(I){switch(I){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(T))}(n.orderBy));let m=null;n.limit&&(m=function(b){let T;return T=typeof b=="object"?b.value:b,rf(T)?null:T}(n.limit));let p=null;n.startAt&&(p=function(b){const T=!!b.before,w=b.values||[];return new Ph(w,T)}(n.startAt));let g=null;return n.endAt&&(g=function(b){const T=!b.before,w=b.values||[];return new Ph(w,T)}(n.endAt)),$D(e,o,h,u,m,"F",p,g)}function Ix(i,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Se(28987,{purpose:o})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function $S(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=co(n.unaryFilter.field);return xt.create(s,"==",{doubleValue:NaN});case"IS_NULL":const o=co(n.unaryFilter.field);return xt.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=co(n.unaryFilter.field);return xt.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=co(n.unaryFilter.field);return xt.create(h,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Se(61313);default:return Se(60726)}}(i):i.fieldFilter!==void 0?function(n){return xt.create(co(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Se(58110);default:return Se(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Ci.create(n.compositeFilter.filters.map(s=>$S(s)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return Se(1026)}}(n.compositeFilter.op))}(i):Se(30097,{filter:i})}function Nx(i){return gx[i]}function Dx(i){return yx[i]}function xx(i){return vx[i]}function uo(i){return{fieldPath:i.canonicalString()}}function co(i){return Qt.fromServerFormat(i.fieldPath)}function KS(i){return i instanceof xt?function(n){if(n.op==="=="){if(eT(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NAN"}};if(JE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(eT(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NAN"}};if(JE(n.value))return{unaryFilter:{field:uo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uo(n.field),op:Dx(n.op),value:n.value}}}(i):i instanceof Ci?function(n){const s=n.getFilters().map(o=>KS(o));return s.length===1?s[0]:{compositeFilter:{op:xx(n.op),filters:s}}}(i):Se(54877,{filter:i})}function Ox(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function QS(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wr{constructor(e,n,s,o,u=we.min(),h=we.min(),m=Xt.EMPTY_BYTE_STRING,p=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=o,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=p}withSequenceNumber(e){return new Wr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(e){this.gt=e}}function Vx(i){const e=Cx({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?cp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(){this.Dn=new kx}addToCollectionParentIndex(e,n){return this.Dn.add(n),te.resolve()}getCollectionParents(e,n){return te.resolve(this.Dn.getEntries(n))}addFieldIndex(e,n){return te.resolve()}deleteFieldIndex(e,n){return te.resolve()}deleteAllFieldIndexes(e){return te.resolve()}createTargetIndexes(e,n){return te.resolve()}getDocumentsMatchingTarget(e,n){return te.resolve(null)}getIndexType(e,n){return te.resolve(0)}getFieldIndexes(e,n){return te.resolve([])}getNextCollectionGroupToUpdate(e){return te.resolve(null)}getMinOffset(e,n){return te.resolve(os.min())}getMinOffsetFromCollectionGroup(e,n){return te.resolve(os.min())}updateCollectionGroup(e,n,s){return te.resolve()}updateIndexEntries(e,n){return te.resolve()}}class kx{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n]||new Mt(rt.comparator),u=!o.has(s);return this.index[n]=o.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),o=this.index[n];return o&&o.has(s)}getEntries(e){return(this.index[e]||new Mt(rt.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},YS=41943040;class pn{static withCacheSize(e){return new pn(e,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */pn.DEFAULT_COLLECTION_PERCENTILE=10,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,pn.DEFAULT=new pn(YS,pn.DEFAULT_COLLECTION_PERCENTILE,pn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),pn.DISABLED=new pn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo{constructor(e){this._r=e}next(){return this._r+=2,this._r}static ar(){return new bo(0)}static ur(){return new bo(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pT="LruGarbageCollector",Lx=1048576;function gT([i,e],[n,s]){const o=Ne(i,n);return o===0?Ne(e,s):o}class Ux{constructor(e){this.Tr=e,this.buffer=new Mt(gT),this.Ir=0}dr(){return++this.Ir}Er(e){const n=[e,this.dr()];if(this.buffer.size<this.Tr)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();gT(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class jx{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Ar=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Rr(6e4)}stop(){this.Ar&&(this.Ar.cancel(),this.Ar=null)}get started(){return this.Ar!==null}Rr(e){ce(pT,`Garbage collection scheduled in ${e}ms`),this.Ar=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Ar=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Po(n)?ce(pT,"Ignoring IndexedDB error during garbage collection: ",n):await Vo(n)}await this.Rr(3e5)})}}class zx{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.mr(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return te.resolve(nf.ue);const s=new Ux(n);return this.Vr.forEachTarget(e,o=>s.Er(o.sequenceNumber)).next(()=>this.Vr.gr(e,o=>s.Er(o))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Vr.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ce("LruGarbageCollector","Garbage collection skipped; disabled"),te.resolve(mT)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ce("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mT):this.pr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}pr(e,n){let s,o,u,h,m,p,g;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(b=>(b>this.params.maximumSequenceNumbersToCollect?(ce("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),o=this.params.maximumSequenceNumbersToCollect):o=b,h=Date.now(),this.nthSequenceNumber(e,o))).next(b=>(s=b,m=Date.now(),this.removeTargets(e,s,n))).next(b=>(u=b,p=Date.now(),this.removeOrphanedDocuments(e,s))).next(b=>(g=Date.now(),oo()<=Pe.DEBUG&&ce("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-E}ms
	Determined least recently used ${o} in `+(m-h)+`ms
	Removed ${u} targets in `+(p-m)+`ms
	Removed ${b} documents in `+(g-p)+`ms
Total Duration: ${g-E}ms`),te.resolve({didRun:!0,sequenceNumbersCollected:o,targetsRemoved:u,documentsRemoved:b})))}}function Bx(i,e){return new zx(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hx{constructor(){this.changes=new ha(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,rn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?te.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fx{constructor(e,n,s,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=o}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(s=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(s!==null&&ou(s.mutation,o,Rn.empty(),st.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,ke()).next(()=>s))}getLocalViewOfDocuments(e,n,s=ke()){const o=ra();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,s).next(u=>{let h=Jl();return u.forEach((m,p)=>{h=h.insert(m,p.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=ra();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,ke()))}populateOverlays(e,n,s){const o=[];return s.forEach(u=>{n.has(u)||o.push(u)}),this.documentOverlayCache.getOverlays(e,o).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,o){let u=cr();const h=au(),m=function(){return au()}();return n.forEach((p,g)=>{const E=s.get(g.key);o.has(g.key)&&(E===void 0||E.mutation instanceof gs)?u=u.insert(g.key,g):E!==void 0?(h.set(g.key,E.mutation.getFieldMask()),ou(E.mutation,g,E.mutation.getFieldMask(),st.now())):h.set(g.key,Rn.empty())}),this.recalculateAndSaveOverlays(e,u).next(p=>(p.forEach((g,E)=>h.set(g,E)),n.forEach((g,E)=>{var b;return m.set(g,new qx(E,(b=h.get(g))!==null&&b!==void 0?b:null))}),m))}recalculateAndSaveOverlays(e,n){const s=au();let o=new ct((h,m)=>h-m),u=ke();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(p=>{const g=n.get(p);if(g===null)return;let E=s.get(p)||Rn.empty();E=m.applyToLocalView(g,E),s.set(p,E);const b=(o.get(m.batchId)||ke()).add(p);o=o.insert(m.batchId,b)})}).next(()=>{const h=[],m=o.getReverseIterator();for(;m.hasNext();){const p=m.getNext(),g=p.key,E=p.value,b=xS();E.forEach(T=>{if(!u.has(T)){const w=LS(n.get(T),s.get(T));w!==null&&b.set(T,w),u=u.add(T)}}),h.push(this.documentOverlayCache.saveOverlays(e,g,b))}return te.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,o){return function(h){return ve.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KD(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,o):this.getDocumentsMatchingCollectionQuery(e,n,s,o)}getNextDocuments(e,n,s,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,o).next(u=>{const h=o-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,o-u.size):te.resolve(ra());let m=fu,p=u;return h.next(g=>te.forEach(g,(E,b)=>(m<b.largestBatchId&&(m=b.largestBatchId),u.get(E)?te.resolve():this.remoteDocumentCache.getEntry(e,E).next(T=>{p=p.insert(E,T)}))).next(()=>this.populateOverlays(e,g,u)).next(()=>this.computeViews(e,p,g,ke())).next(E=>({batchId:m,changes:DS(E)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ve(n)).next(s=>{let o=Jl();return s.isFoundDocument()&&(o=o.insert(s.key,s)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,s,o){const u=n.collectionGroup;let h=Jl();return this.indexManager.getCollectionParents(e,u).next(m=>te.forEach(m,p=>{const g=function(b,T){return new af(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)}(n,p.child(u));return this.getDocumentsMatchingCollectionQuery(e,g,s,o).next(E=>{E.forEach((b,T)=>{h=h.insert(b,T)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,o){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,o))).next(h=>{u.forEach((p,g)=>{const E=g.getKey();h.get(E)===null&&(h=h.insert(E,rn.newInvalidDocument(E)))});let m=Jl();return h.forEach((p,g)=>{const E=u.get(p);E!==void 0&&ou(E.mutation,g,Rn.empty(),st.now()),lf(n,g)&&(m=m.insert(p,g))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.serializer=e,this.Br=new Map,this.Lr=new Map}getBundleMetadata(e,n){return te.resolve(this.Br.get(n))}saveBundleMetadata(e,n){return this.Br.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Ai(o.createTime)}}(n)),te.resolve()}getNamedQuery(e,n){return te.resolve(this.Lr.get(n))}saveNamedQuery(e,n){return this.Lr.set(n.name,function(o){return{name:o.name,query:Vx(o.bundledQuery),readTime:Ai(o.readTime)}}(n)),te.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x{constructor(){this.overlays=new ct(ve.comparator),this.kr=new Map}getOverlay(e,n){return te.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ra();return te.forEach(n,o=>this.getOverlay(e,o).next(u=>{u!==null&&s.set(o,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((o,u)=>{this.wt(e,n,u)}),te.resolve()}removeOverlaysForBatchId(e,n,s){const o=this.kr.get(s);return o!==void 0&&(o.forEach(u=>this.overlays=this.overlays.remove(u)),this.kr.delete(s)),te.resolve()}getOverlaysForCollection(e,n,s){const o=ra(),u=n.length+1,h=new ve(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const p=m.getNext().value,g=p.getKey();if(!n.isPrefixOf(g.path))break;g.path.length===u&&p.largestBatchId>s&&o.set(p.getKey(),p)}return te.resolve(o)}getOverlaysForCollectionGroup(e,n,s,o){let u=new ct((g,E)=>g-E);const h=this.overlays.getIterator();for(;h.hasNext();){const g=h.getNext().value;if(g.getKey().getCollectionGroup()===n&&g.largestBatchId>s){let E=u.get(g.largestBatchId);E===null&&(E=ra(),u=u.insert(g.largestBatchId,E)),E.set(g.getKey(),g)}}const m=ra(),p=u.getIterator();for(;p.hasNext()&&(p.getNext().value.forEach((g,E)=>m.set(g,E)),!(m.size()>=o)););return te.resolve(m)}wt(e,n,s){const o=this.overlays.get(s.key);if(o!==null){const h=this.kr.get(o.largestBatchId).delete(s.key);this.kr.set(o.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new hx(n,s));let u=this.kr.get(n);u===void 0&&(u=ke(),this.kr.set(n,u)),this.kr.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kx{constructor(){this.sessionToken=Xt.EMPTY_BYTE_STRING}getSessionToken(e){return te.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,te.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(){this.qr=new Mt(zt.Qr),this.$r=new Mt(zt.Ur)}isEmpty(){return this.qr.isEmpty()}addReference(e,n){const s=new zt(e,n);this.qr=this.qr.add(s),this.$r=this.$r.add(s)}Kr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.Wr(new zt(e,n))}Gr(e,n){e.forEach(s=>this.removeReference(s,n))}zr(e){const n=new ve(new rt([])),s=new zt(n,e),o=new zt(n,e+1),u=[];return this.$r.forEachInRange([s,o],h=>{this.Wr(h),u.push(h.key)}),u}jr(){this.qr.forEach(e=>this.Wr(e))}Wr(e){this.qr=this.qr.delete(e),this.$r=this.$r.delete(e)}Jr(e){const n=new ve(new rt([])),s=new zt(n,e),o=new zt(n,e+1);let u=ke();return this.$r.forEachInRange([s,o],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new zt(e,0),s=this.qr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class zt{constructor(e,n){this.key=e,this.Hr=n}static Qr(e,n){return ve.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||ve.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qx{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.er=1,this.Yr=new Mt(zt.Qr)}checkEmpty(e){return te.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,o){const u=this.er;this.er++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new cx(u,n,s,o);this.mutationQueue.push(h);for(const m of o)this.Yr=this.Yr.add(new zt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return te.resolve(h)}lookupMutationBatch(e,n){return te.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,o=this.Xr(s),u=o<0?0:o;return te.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return te.resolve(this.mutationQueue.length===0?Wp:this.er-1)}getAllMutationBatches(e){return te.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new zt(n,0),o=new zt(n,Number.POSITIVE_INFINITY),u=[];return this.Yr.forEachInRange([s,o],h=>{const m=this.Zr(h.Hr);u.push(m)}),te.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new Mt(Ne);return n.forEach(o=>{const u=new zt(o,0),h=new zt(o,Number.POSITIVE_INFINITY);this.Yr.forEachInRange([u,h],m=>{s=s.add(m.Hr)})}),te.resolve(this.ei(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,o=s.length+1;let u=s;ve.isDocumentKey(u)||(u=u.child(""));const h=new zt(new ve(u),0);let m=new Mt(Ne);return this.Yr.forEachWhile(p=>{const g=p.key.path;return!!s.isPrefixOf(g)&&(g.length===o&&(m=m.add(p.Hr)),!0)},h),te.resolve(this.ei(m))}ei(e){const n=[];return e.forEach(s=>{const o=this.Zr(s);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){Ge(this.ti(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let s=this.Yr;return te.forEach(n.mutations,o=>{const u=new zt(o.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.Yr=s})}rr(e){}containsKey(e,n){const s=new zt(n,0),o=this.Yr.firstAfterOrEqual(s);return te.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,te.resolve()}ti(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e){this.ni=e,this.docs=function(){return new ct(ve.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,o=this.docs.get(s),u=o?o.size:0,h=this.ni(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return te.resolve(s?s.document.mutableCopy():rn.newInvalidDocument(n))}getEntries(e,n){let s=cr();return n.forEach(o=>{const u=this.docs.get(o);s=s.insert(o,u?u.document.mutableCopy():rn.newInvalidDocument(o))}),te.resolve(s)}getDocumentsMatchingQuery(e,n,s,o){let u=cr();const h=n.path,m=new ve(h.child("__id-9223372036854775808__")),p=this.docs.getIteratorFrom(m);for(;p.hasNext();){const{key:g,value:{document:E}}=p.getNext();if(!h.isPrefixOf(g.path))break;g.path.length>h.length+1||bD(AD(E),s)<=0||(o.has(E.key)||lf(n,E))&&(u=u.insert(E.key,E.mutableCopy()))}return te.resolve(u)}getAllFromCollectionGroup(e,n,s,o){Se(9500)}ri(e,n){return te.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new Xx(this)}getSize(e){return te.resolve(this.size)}}class Xx extends Hx{constructor(e){super(),this.Or=e}applyChanges(e){const n=[];return this.changes.forEach((s,o)=>{o.isValidDocument()?n.push(this.Or.addEntry(e,o)):this.Or.removeEntry(s)}),te.waitFor(n)}getFromCache(e,n){return this.Or.getEntry(e,n)}getAllFromCache(e,n){return this.Or.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wx{constructor(e){this.persistence=e,this.ii=new ha(n=>eg(n),tg),this.lastRemoteSnapshotVersion=we.min(),this.highestTargetId=0,this.si=0,this.oi=new og,this.targetCount=0,this._i=bo.ar()}forEachTarget(e,n){return this.ii.forEach((s,o)=>n(o)),te.resolve()}getLastRemoteSnapshotVersion(e){return te.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return te.resolve(this.si)}allocateTargetId(e){return this.highestTargetId=this._i.next(),te.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.si&&(this.si=n),te.resolve()}hr(e){this.ii.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this._i=new bo(n),this.highestTargetId=n),e.sequenceNumber>this.si&&(this.si=e.sequenceNumber)}addTargetData(e,n){return this.hr(n),this.targetCount+=1,te.resolve()}updateTargetData(e,n){return this.hr(n),te.resolve()}removeTargetData(e,n){return this.ii.delete(n.target),this.oi.zr(n.targetId),this.targetCount-=1,te.resolve()}removeTargets(e,n,s){let o=0;const u=[];return this.ii.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.ii.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),o++)}),te.waitFor(u).next(()=>o)}getTargetCount(e){return te.resolve(this.targetCount)}getTargetData(e,n){const s=this.ii.get(n)||null;return te.resolve(s)}addMatchingKeys(e,n,s){return this.oi.Kr(n,s),te.resolve()}removeMatchingKeys(e,n,s){this.oi.Gr(n,s);const o=this.persistence.referenceDelegate,u=[];return o&&n.forEach(h=>{u.push(o.markPotentiallyOrphaned(e,h))}),te.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.oi.zr(n),te.resolve()}getMatchingKeysForTargetId(e,n){const s=this.oi.Jr(n);return te.resolve(s)}containsKey(e,n){return te.resolve(this.oi.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,n){this.ai={},this.overlays={},this.ui=new nf(0),this.ci=!1,this.ci=!0,this.li=new Kx,this.referenceDelegate=e(this),this.hi=new Wx(this),this.indexManager=new Px,this.remoteDocumentCache=function(o){return new Yx(o)}(s=>this.referenceDelegate.Pi(s)),this.serializer=new Mx(n),this.Ti=new Gx(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ci=!1,Promise.resolve()}get started(){return this.ci}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new $x,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.ai[e.toKey()];return s||(s=new Qx(n,this.referenceDelegate),this.ai[e.toKey()]=s),s}getGlobalsCache(){return this.li}getTargetCache(){return this.hi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ti}runTransaction(e,n,s){ce("MemoryPersistence","Starting transaction:",e);const o=new Zx(this.ui.next());return this.referenceDelegate.Ii(),s(o).next(u=>this.referenceDelegate.di(o).next(()=>u)).toPromise().then(u=>(o.raiseOnCommittedEvent(),u))}Ei(e,n){return te.or(Object.values(this.ai).map(s=>()=>s.containsKey(e,n)))}}class Zx extends RD{constructor(e){super(),this.currentSequenceNumber=e}}class lg{constructor(e){this.persistence=e,this.Ai=new og,this.Ri=null}static Vi(e){return new lg(e)}get mi(){if(this.Ri)return this.Ri;throw Se(60996)}addReference(e,n,s){return this.Ai.addReference(s,n),this.mi.delete(s.toString()),te.resolve()}removeReference(e,n,s){return this.Ai.removeReference(s,n),this.mi.add(s.toString()),te.resolve()}markPotentiallyOrphaned(e,n){return this.mi.add(n.toString()),te.resolve()}removeTarget(e,n){this.Ai.zr(n.targetId).forEach(o=>this.mi.add(o.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(u=>this.mi.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Ii(){this.Ri=new Set}di(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return te.forEach(this.mi,s=>{const o=ve.fromPath(s);return this.fi(e,o).next(u=>{u||n.removeEntry(o,we.min())})}).next(()=>(this.Ri=null,n.apply(e)))}updateLimboDocument(e,n){return this.fi(e,n).next(s=>{s?this.mi.delete(n.toString()):this.mi.add(n.toString())})}Pi(e){return 0}fi(e,n){return te.or([()=>te.resolve(this.Ai.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class zh{constructor(e,n){this.persistence=e,this.gi=new ha(s=>ND(s.path),(s,o)=>s.isEqual(o)),this.garbageCollector=Bx(this,n)}static Vi(e,n){return new zh(e,n)}Ii(){}di(e){return te.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}mr(e){const n=this.yr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(o=>s+o))}yr(e){let n=0;return this.gr(e,s=>{n++}).next(()=>n)}gr(e,n){return te.forEach(this.gi,(s,o)=>this.Sr(e,s,o).next(u=>u?te.resolve():n(o)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const o=this.persistence.getRemoteDocumentCache(),u=o.newChangeBuffer();return o.ri(e,h=>this.Sr(e,h,n).next(m=>{m||(s++,u.removeEntry(h,we.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}removeReference(e,n,s){return this.gi.set(s,e.currentSequenceNumber),te.resolve()}updateLimboDocument(e,n){return this.gi.set(n,e.currentSequenceNumber),te.resolve()}Pi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=vh(e.data.value)),n}Sr(e,n,s){return te.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const o=this.gi.get(n);return te.resolve(o!==void 0&&o>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ug{constructor(e,n,s,o){this.targetId=e,this.fromCache=n,this.Is=s,this.ds=o}static Es(e,n){let s=ke(),o=ke();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:o=o.add(u.doc.key)}return new ug(e,n.fromCache,s,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e2{constructor(){this.As=!1,this.Rs=!1,this.Vs=100,this.fs=function(){return O1()?8:CD(on())>0?6:4}()}initialize(e,n){this.gs=e,this.indexManager=n,this.As=!0}getDocumentsMatchingQuery(e,n,s,o){const u={result:null};return this.ps(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.ys(e,n,o,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new Jx;return this.ws(e,n,h).next(m=>{if(u.result=m,this.Rs)return this.Ss(e,n,h,m.size)})}).next(()=>u.result)}Ss(e,n,s,o){return s.documentReadCount<this.Vs?(oo()<=Pe.DEBUG&&ce("QueryEngine","SDK will not create cache indexes for query:",lo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),te.resolve()):(oo()<=Pe.DEBUG&&ce("QueryEngine","Query:",lo(n),"scans",s.documentReadCount,"local documents and returns",o,"documents as results."),s.documentReadCount>this.fs*o?(oo()<=Pe.DEBUG&&ce("QueryEngine","The SDK decides to create cache indexes for query:",lo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Si(n))):te.resolve())}ps(e,n){if(rT(n))return te.resolve(null);let s=Si(n);return this.indexManager.getIndexType(e,s).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=cp(n,null,"F"),s=Si(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=ke(...u);return this.gs.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(p=>{const g=this.bs(n,m);return this.Ds(n,g,h,p.readTime)?this.ps(e,cp(n,null,"F")):this.vs(e,g,n,p)}))})))}ys(e,n,s,o){return rT(n)||o.isEqual(we.min())?te.resolve(null):this.gs.getDocuments(e,s).next(u=>{const h=this.bs(n,u);return this.Ds(n,h,s,o)?te.resolve(null):(oo()<=Pe.DEBUG&&ce("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),lo(n)),this.vs(e,h,n,SD(o,fu)).next(m=>m))})}bs(e,n){let s=new Mt(IS(e));return n.forEach((o,u)=>{lf(e,u)&&(s=s.add(u))}),s}Ds(e,n,s,o){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(o)>0)}ws(e,n,s){return oo()<=Pe.DEBUG&&ce("QueryEngine","Using full collection scan to execute query:",lo(n)),this.gs.getDocumentsMatchingQuery(e,n,os.min(),s)}vs(e,n,s,o){return this.gs.getDocumentsMatchingQuery(e,s,o).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cg="LocalStore",t2=3e8;class n2{constructor(e,n,s,o){this.persistence=e,this.Cs=n,this.serializer=o,this.Fs=new ct(Ne),this.Ms=new ha(u=>eg(u),tg),this.xs=new Map,this.Os=e.getRemoteDocumentCache(),this.hi=e.getTargetCache(),this.Ti=e.getBundleCache(),this.Ns(s)}Ns(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Fx(this.Os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Os.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Fs))}}function i2(i,e,n,s){return new n2(i,e,n,s)}async function WS(i,e){const n=Re(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let o;return n.mutationQueue.getAllMutationBatches(s).next(u=>(o=u,n.Ns(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let p=ke();for(const g of o){h.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}for(const g of u){m.push(g.batchId);for(const E of g.mutations)p=p.add(E.key)}return n.localDocuments.getDocuments(s,p).next(g=>({Bs:g,removedBatchIds:h,addedBatchIds:m}))})})}function r2(i,e){const n=Re(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const o=e.batch.keys(),u=n.Os.newChangeBuffer({trackRemovals:!0});return function(m,p,g,E){const b=g.batch,T=b.keys();let w=te.resolve();return T.forEach(C=>{w=w.next(()=>E.getEntry(p,C)).next(N=>{const I=g.docVersions.get(C);Ge(I!==null,48541),N.version.compareTo(I)<0&&(b.applyToRemoteDocument(N,g),N.isValidDocument()&&(N.setReadTime(g.commitVersion),E.addEntry(N)))})}),w.next(()=>m.mutationQueue.removeMutationBatch(p,b))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let p=ke();for(let g=0;g<m.mutationResults.length;++g)m.mutationResults[g].transformResults.length>0&&(p=p.add(m.batch.mutations[g].key));return p}(e))).next(()=>n.localDocuments.getDocuments(s,o))})}function ZS(i){const e=Re(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.hi.getLastRemoteSnapshotVersion(n))}function s2(i,e){const n=Re(i),s=e.snapshotVersion;let o=n.Fs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.Os.newChangeBuffer({trackRemovals:!0});o=n.Fs;const m=[];e.targetChanges.forEach((E,b)=>{const T=o.get(b);if(!T)return;m.push(n.hi.removeMatchingKeys(u,E.removedDocuments,b).next(()=>n.hi.addMatchingKeys(u,E.addedDocuments,b)));let w=T.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(b)!==null?w=w.withResumeToken(Xt.EMPTY_BYTE_STRING,we.min()).withLastLimboFreeSnapshotVersion(we.min()):E.resumeToken.approximateByteSize()>0&&(w=w.withResumeToken(E.resumeToken,s)),o=o.insert(b,w),function(N,I,O){return N.resumeToken.approximateByteSize()===0||I.snapshotVersion.toMicroseconds()-N.snapshotVersion.toMicroseconds()>=t2?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0}(T,w,E)&&m.push(n.hi.updateTargetData(u,w))});let p=cr(),g=ke();if(e.documentUpdates.forEach(E=>{e.resolvedLimboDocuments.has(E)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,E))}),m.push(a2(u,h,e.documentUpdates).next(E=>{p=E.Ls,g=E.ks})),!s.isEqual(we.min())){const E=n.hi.getLastRemoteSnapshotVersion(u).next(b=>n.hi.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(E)}return te.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,p,g)).next(()=>p)}).then(u=>(n.Fs=o,u))}function a2(i,e,n){let s=ke(),o=ke();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=cr();return n.forEach((m,p)=>{const g=u.get(m);p.isFoundDocument()!==g.isFoundDocument()&&(o=o.add(m)),p.isNoDocument()&&p.version.isEqual(we.min())?(e.removeEntry(m,p.readTime),h=h.insert(m,p)):!g.isValidDocument()||p.version.compareTo(g.version)>0||p.version.compareTo(g.version)===0&&g.hasPendingWrites?(e.addEntry(p),h=h.insert(m,p)):ce(cg,"Ignoring outdated watch update for ",m,". Current version:",g.version," Watch version:",p.version)}),{Ls:h,ks:o}})}function o2(i,e){const n=Re(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=Wp),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function l2(i,e){const n=Re(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let o;return n.hi.getTargetData(s,e).next(u=>u?(o=u,te.resolve(o)):n.hi.allocateTargetId(s).next(h=>(o=new Wr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.hi.addTargetData(s,o).next(()=>o))))}).then(s=>{const o=n.Fs.get(s.targetId);return(o===null||s.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.Fs=n.Fs.insert(s.targetId,s),n.Ms.set(e,s.targetId)),s})}async function pp(i,e,n){const s=Re(i),o=s.Fs.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,o))}catch(h){if(!Po(h))throw h;ce(cg,`Failed to update sequence numbers for target ${e}: ${h}`)}s.Fs=s.Fs.remove(e),s.Ms.delete(o.target)}function yT(i,e,n){const s=Re(i);let o=we.min(),u=ke();return s.persistence.runTransaction("Execute query","readwrite",h=>function(p,g,E){const b=Re(p),T=b.Ms.get(E);return T!==void 0?te.resolve(b.Fs.get(T)):b.hi.getTargetData(g,E)}(s,h,Si(e)).next(m=>{if(m)return o=m.lastLimboFreeSnapshotVersion,s.hi.getMatchingKeysForTargetId(h,m.targetId).next(p=>{u=p})}).next(()=>s.Cs.getDocumentsMatchingQuery(h,e,n?o:we.min(),n?u:ke())).next(m=>(u2(s,YD(e),m),{documents:m,qs:u})))}function u2(i,e,n){let s=i.xs.get(e)||we.min();n.forEach((o,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.xs.set(e,s)}class vT{constructor(){this.activeTargetIds=tx()}Gs(e){this.activeTargetIds=this.activeTargetIds.add(e)}zs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class c2{constructor(){this.Fo=new vT,this.Mo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this.Fo.Gs(e),this.Mo[e]||"not-current"}updateQueryState(e,n,s){this.Mo[e]=n}removeLocalQueryTarget(e){this.Fo.zs(e)}isLocalQueryTarget(e){return this.Fo.activeTargetIds.has(e)}clearQueryState(e){delete this.Mo[e]}getAllActiveQueryTargets(){return this.Fo.activeTargetIds}isActiveQueryTarget(e){return this.Fo.activeTargetIds.has(e)}start(){return this.Fo=new vT,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class h2{xo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _T="ConnectivityMonitor";class ET{constructor(){this.Oo=()=>this.No(),this.Bo=()=>this.Lo(),this.ko=[],this.qo()}xo(e){this.ko.push(e)}shutdown(){window.removeEventListener("online",this.Oo),window.removeEventListener("offline",this.Bo)}qo(){window.addEventListener("online",this.Oo),window.addEventListener("offline",this.Bo)}No(){ce(_T,"Network connectivity changed: AVAILABLE");for(const e of this.ko)e(0)}Lo(){ce(_T,"Network connectivity changed: UNAVAILABLE");for(const e of this.ko)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lh=null;function gp(){return lh===null?lh=function(){return 268435456+Math.round(2147483648*Math.random())}():lh++,"0x"+lh.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jm="RestConnection",f2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class d2{get Qo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.$o=n+"://"+e.host,this.Uo=`projects/${s}/databases/${o}`,this.Ko=this.databaseId.database===Mh?`project_id=${s}`:`project_id=${s}&database_id=${o}`}Wo(e,n,s,o,u){const h=gp(),m=this.Go(e,n.toUriEncodedString());ce(jm,`Sending RPC '${e}' ${h}:`,m,s);const p={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.Ko};this.zo(p,o,u);const{host:g}=new URL(m),E=No(g);return this.jo(e,m,p,s,E).then(b=>(ce(jm,`Received RPC '${e}' ${h}: `,b),b),b=>{throw ss(jm,`RPC '${e}' ${h} failed with error: `,b,"url: ",m,"request:",s),b})}Jo(e,n,s,o,u,h){return this.Wo(e,n,s,o,u)}zo(e,n,s){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Mo}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((o,u)=>e[u]=o),s&&s.headers.forEach((o,u)=>e[u]=o)}Go(e,n){const s=f2[e];return`${this.$o}/v1/${n}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m2{constructor(e){this.Ho=e.Ho,this.Yo=e.Yo}Zo(e){this.Xo=e}e_(e){this.t_=e}n_(e){this.r_=e}onMessage(e){this.i_=e}close(){this.Yo()}send(e){this.Ho(e)}s_(){this.Xo()}o_(){this.t_()}__(e){this.r_(e)}a_(e){this.i_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tn="WebChannelConnection";class p2 extends d2{constructor(e){super(e),this.u_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}jo(e,n,s,o,u){const h=gp();return new Promise((m,p)=>{const g=new eS;g.setWithCredentials(!0),g.listenOnce(tS.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case yh.NO_ERROR:const b=g.getResponseJson();ce(tn,`XHR for RPC '${e}' ${h} received:`,JSON.stringify(b)),m(b);break;case yh.TIMEOUT:ce(tn,`RPC '${e}' ${h} timed out`),p(new de(ie.DEADLINE_EXCEEDED,"Request time out"));break;case yh.HTTP_ERROR:const T=g.getStatus();if(ce(tn,`RPC '${e}' ${h} failed with status:`,T,"response text:",g.getResponseText()),T>0){let w=g.getResponseJson();Array.isArray(w)&&(w=w[0]);const C=w?.error;if(C&&C.status&&C.message){const N=function(O){const k=O.toLowerCase().replace(/_/g,"-");return Object.values(ie).indexOf(k)>=0?k:ie.UNKNOWN}(C.status);p(new de(N,C.message))}else p(new de(ie.UNKNOWN,"Server responded with status "+g.getStatus()))}else p(new de(ie.UNAVAILABLE,"Connection failed."));break;default:Se(9055,{c_:e,streamId:h,l_:g.getLastErrorCode(),h_:g.getLastError()})}}finally{ce(tn,`RPC '${e}' ${h} completed.`)}});const E=JSON.stringify(o);ce(tn,`RPC '${e}' ${h} sending request:`,o),g.send(n,"POST",E,s,15)})}P_(e,n,s){const o=gp(),u=[this.$o,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=rS(),m=iS(),p={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(p.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(p.useFetchStreams=!0),this.zo(p.initMessageHeaders,n,s),p.encodeInitMessageHeaders=!0;const E=u.join("");ce(tn,`Creating RPC '${e}' stream ${o}: ${E}`,p);const b=h.createWebChannel(E,p);this.T_(b);let T=!1,w=!1;const C=new m2({Ho:I=>{w?ce(tn,`Not sending because RPC '${e}' stream ${o} is closed:`,I):(T||(ce(tn,`Opening RPC '${e}' stream ${o} transport.`),b.open(),T=!0),ce(tn,`RPC '${e}' stream ${o} sending:`,I),b.send(I))},Yo:()=>b.close()}),N=(I,O,k)=>{I.listen(O,Y=>{try{k(Y)}catch(ae){setTimeout(()=>{throw ae},0)}})};return N(b,Zl.EventType.OPEN,()=>{w||(ce(tn,`RPC '${e}' stream ${o} transport opened.`),C.s_())}),N(b,Zl.EventType.CLOSE,()=>{w||(w=!0,ce(tn,`RPC '${e}' stream ${o} transport closed`),C.__(),this.I_(b))}),N(b,Zl.EventType.ERROR,I=>{w||(w=!0,ss(tn,`RPC '${e}' stream ${o} transport errored. Name:`,I.name,"Message:",I.message),C.__(new de(ie.UNAVAILABLE,"The operation could not be completed")))}),N(b,Zl.EventType.MESSAGE,I=>{var O;if(!w){const k=I.data[0];Ge(!!k,16349);const Y=k,ae=Y?.error||((O=Y[0])===null||O===void 0?void 0:O.error);if(ae){ce(tn,`RPC '${e}' stream ${o} received error:`,ae);const oe=ae.status;let fe=function(M){const j=At[M];if(j!==void 0)return jS(j)}(oe),U=ae.message;fe===void 0&&(fe=ie.INTERNAL,U="Unknown error status: "+oe+" with message "+ae.message),w=!0,C.__(new de(fe,U)),b.close()}else ce(tn,`RPC '${e}' stream ${o} received:`,k),C.a_(k)}}),N(m,nS.STAT_EVENT,I=>{I.stat===rp.PROXY?ce(tn,`RPC '${e}' stream ${o} detected buffering proxy`):I.stat===rp.NOPROXY&&ce(tn,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{C.o_()},0),C}terminate(){this.u_.forEach(e=>e.close()),this.u_=[]}T_(e){this.u_.push(e)}I_(e){this.u_=this.u_.filter(n=>n===e)}}function zm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(i){return new _x(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JS{constructor(e,n,s=1e3,o=1.5,u=6e4){this.Fi=e,this.timerId=n,this.d_=s,this.E_=o,this.A_=u,this.R_=0,this.V_=null,this.m_=Date.now(),this.reset()}reset(){this.R_=0}f_(){this.R_=this.A_}g_(e){this.cancel();const n=Math.floor(this.R_+this.p_()),s=Math.max(0,Date.now()-this.m_),o=Math.max(0,n-s);o>0&&ce("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.R_} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.V_=this.Fi.enqueueAfterDelay(this.timerId,o,()=>(this.m_=Date.now(),e())),this.R_*=this.E_,this.R_<this.d_&&(this.R_=this.d_),this.R_>this.A_&&(this.R_=this.A_)}y_(){this.V_!==null&&(this.V_.skipDelay(),this.V_=null)}cancel(){this.V_!==null&&(this.V_.cancel(),this.V_=null)}p_(){return(Math.random()-.5)*this.R_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TT="PersistentStream";class eA{constructor(e,n,s,o,u,h,m,p){this.Fi=e,this.w_=s,this.S_=o,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=p,this.state=0,this.b_=0,this.D_=null,this.v_=null,this.stream=null,this.C_=0,this.F_=new JS(e,n)}M_(){return this.state===1||this.state===5||this.x_()}x_(){return this.state===2||this.state===3}start(){this.C_=0,this.state!==4?this.auth():this.O_()}async stop(){this.M_()&&await this.close(0)}N_(){this.state=0,this.F_.reset()}B_(){this.x_()&&this.D_===null&&(this.D_=this.Fi.enqueueAfterDelay(this.w_,6e4,()=>this.L_()))}k_(e){this.q_(),this.stream.send(e)}async L_(){if(this.x_())return this.close(0)}q_(){this.D_&&(this.D_.cancel(),this.D_=null)}Q_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.Q_(),this.F_.cancel(),this.b_++,e!==4?this.F_.reset():n&&n.code===ie.RESOURCE_EXHAUSTED?(ur(n.toString()),ur("Using maximum backoff delay to prevent overloading the backend."),this.F_.f_()):n&&n.code===ie.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.U_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.n_(n)}U_(){}auth(){this.state=1;const e=this.K_(this.b_),n=this.b_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,o])=>{this.b_===n&&this.W_(s,o)},s=>{e(()=>{const o=new de(ie.UNKNOWN,"Fetching auth token failed: "+s.message);return this.G_(o)})})}W_(e,n){const s=this.K_(this.b_);this.stream=this.z_(e,n),this.stream.Zo(()=>{s(()=>this.listener.Zo())}),this.stream.e_(()=>{s(()=>(this.state=2,this.v_=this.Fi.enqueueAfterDelay(this.S_,1e4,()=>(this.x_()&&(this.state=3),Promise.resolve())),this.listener.e_()))}),this.stream.n_(o=>{s(()=>this.G_(o))}),this.stream.onMessage(o=>{s(()=>++this.C_==1?this.j_(o):this.onNext(o))})}O_(){this.state=5,this.F_.g_(async()=>{this.state=0,this.start()})}G_(e){return ce(TT,`close with error: ${e}`),this.stream=null,this.close(4,e)}K_(e){return n=>{this.Fi.enqueueAndForget(()=>this.b_===e?n():(ce(TT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class g2 extends eA{constructor(e,n,s,o,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}z_(e,n){return this.connection.P_("Listen",e,n)}j_(e){return this.onNext(e)}onNext(e){this.F_.reset();const n=Sx(this.serializer,e),s=function(u){if(!("targetChange"in u))return we.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?we.min():h.readTime?Ai(h.readTime):we.min()}(e);return this.listener.J_(n,s)}H_(e){const n={};n.database=mp(this.serializer),n.addTarget=function(u,h){let m;const p=h.target;if(m=up(p)?{documents:wx(u,p)}:{query:Rx(u,p).Vt},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=HS(u,h.resumeToken);const g=hp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}else if(h.snapshotVersion.compareTo(we.min())>0){m.readTime=jh(u,h.snapshotVersion.toTimestamp());const g=hp(u,h.expectedCount);g!==null&&(m.expectedCount=g)}return m}(this.serializer,e);const s=Ix(this.serializer,e);s&&(n.labels=s),this.k_(n)}Y_(e){const n={};n.database=mp(this.serializer),n.removeTarget=e,this.k_(n)}}class y2 extends eA{constructor(e,n,s,o,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,o,h),this.serializer=u}get Z_(){return this.C_>0}start(){this.lastStreamToken=void 0,super.start()}U_(){this.Z_&&this.X_([])}z_(e,n){return this.connection.P_("Write",e,n)}j_(e){return Ge(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ge(!e.writeResults||e.writeResults.length===0,55816),this.listener.ea()}onNext(e){Ge(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.F_.reset();const n=bx(e.writeResults,e.commitTime),s=Ai(e.commitTime);return this.listener.ta(s,n)}na(){const e={};e.database=mp(this.serializer),this.k_(e)}X_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>Ax(this.serializer,s))};this.k_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v2{}class _2 extends v2{constructor(e,n,s,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=o,this.ra=!1}ia(){if(this.ra)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,s,o){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Wo(e,fp(n,s),o,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(ie.UNKNOWN,u.toString())})}Jo(e,n,s,o,u){return this.ia(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.Jo(e,fp(n,s),o,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===ie.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(ie.UNKNOWN,h.toString())})}terminate(){this.ra=!0,this.connection.terminate()}}class E2{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.sa=0,this.oa=null,this._a=!0}aa(){this.sa===0&&(this.ua("Unknown"),this.oa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.oa=null,this.ca("Backend didn't respond within 10 seconds."),this.ua("Offline"),Promise.resolve())))}la(e){this.state==="Online"?this.ua("Unknown"):(this.sa++,this.sa>=1&&(this.ha(),this.ca(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ua("Offline")))}set(e){this.ha(),this.sa=0,e==="Online"&&(this._a=!1),this.ua(e)}ua(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ca(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this._a?(ur(n),this._a=!1):ce("OnlineStateTracker",n)}ha(){this.oa!==null&&(this.oa.cancel(),this.oa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="RemoteStore";class T2{constructor(e,n,s,o,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Pa=[],this.Ta=new Map,this.Ia=new Set,this.da=[],this.Ea=u,this.Ea.xo(h=>{s.enqueueAndForget(async()=>{fa(this)&&(ce(ua,"Restarting streams for network reachability change."),await async function(p){const g=Re(p);g.Ia.add(4),await Iu(g),g.Aa.set("Unknown"),g.Ia.delete(4),await df(g)}(this))})}),this.Aa=new E2(s,o)}}async function df(i){if(fa(i))for(const e of i.da)await e(!0)}async function Iu(i){for(const e of i.da)await e(!1)}function tA(i,e){const n=Re(i);n.Ta.has(e.targetId)||(n.Ta.set(e.targetId,e),mg(n)?dg(n):ko(n).x_()&&fg(n,e))}function hg(i,e){const n=Re(i),s=ko(n);n.Ta.delete(e),s.x_()&&nA(n,e),n.Ta.size===0&&(s.x_()?s.B_():fa(n)&&n.Aa.set("Unknown"))}function fg(i,e){if(i.Ra.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(we.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}ko(i).H_(e)}function nA(i,e){i.Ra.$e(e),ko(i).Y_(e)}function dg(i){i.Ra=new px({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.Ta.get(e)||null,lt:()=>i.datastore.serializer.databaseId}),ko(i).start(),i.Aa.aa()}function mg(i){return fa(i)&&!ko(i).M_()&&i.Ta.size>0}function fa(i){return Re(i).Ia.size===0}function iA(i){i.Ra=void 0}async function S2(i){i.Aa.set("Online")}async function A2(i){i.Ta.forEach((e,n)=>{fg(i,e)})}async function b2(i,e){iA(i),mg(i)?(i.Aa.la(e),dg(i)):i.Aa.set("Unknown")}async function w2(i,e,n){if(i.Aa.set("Online"),e instanceof BS&&e.state===2&&e.cause)try{await async function(o,u){const h=u.cause;for(const m of u.targetIds)o.Ta.has(m)&&(await o.remoteSyncer.rejectListen(m,h),o.Ta.delete(m),o.Ra.removeTarget(m))}(i,e)}catch(s){ce(ua,"Failed to remove targets %s: %s ",e.targetIds.join(","),s),await Bh(i,s)}else if(e instanceof Th?i.Ra.Ye(e):e instanceof zS?i.Ra.it(e):i.Ra.et(e),!n.isEqual(we.min()))try{const s=await ZS(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.Ra.Pt(h);return m.targetChanges.forEach((p,g)=>{if(p.resumeToken.approximateByteSize()>0){const E=u.Ta.get(g);E&&u.Ta.set(g,E.withResumeToken(p.resumeToken,h))}}),m.targetMismatches.forEach((p,g)=>{const E=u.Ta.get(p);if(!E)return;u.Ta.set(p,E.withResumeToken(Xt.EMPTY_BYTE_STRING,E.snapshotVersion)),nA(u,p);const b=new Wr(E.target,p,g,E.sequenceNumber);fg(u,b)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ce(ua,"Failed to raise snapshot:",s),await Bh(i,s)}}async function Bh(i,e,n){if(!Po(e))throw e;i.Ia.add(1),await Iu(i),i.Aa.set("Offline"),n||(n=()=>ZS(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ce(ua,"Retrying IndexedDB access"),await n(),i.Ia.delete(1),await df(i)})}function rA(i,e){return e().catch(n=>Bh(i,n,e))}async function mf(i){const e=Re(i),n=hs(e);let s=e.Pa.length>0?e.Pa[e.Pa.length-1].batchId:Wp;for(;R2(e);)try{const o=await o2(e.localStore,s);if(o===null){e.Pa.length===0&&n.B_();break}s=o.batchId,C2(e,o)}catch(o){await Bh(e,o)}sA(e)&&aA(e)}function R2(i){return fa(i)&&i.Pa.length<10}function C2(i,e){i.Pa.push(e);const n=hs(i);n.x_()&&n.Z_&&n.X_(e.mutations)}function sA(i){return fa(i)&&!hs(i).M_()&&i.Pa.length>0}function aA(i){hs(i).start()}async function I2(i){hs(i).na()}async function N2(i){const e=hs(i);for(const n of i.Pa)e.X_(n.mutations)}async function D2(i,e,n){const s=i.Pa.shift(),o=rg.from(s,e,n);await rA(i,()=>i.remoteSyncer.applySuccessfulWrite(o)),await mf(i)}async function x2(i,e){e&&hs(i).Z_&&await async function(s,o){if(function(h){return dx(h)&&h!==ie.ABORTED}(o.code)){const u=s.Pa.shift();hs(s).N_(),await rA(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,o)),await mf(s)}}(i,e),sA(i)&&aA(i)}async function ST(i,e){const n=Re(i);n.asyncQueue.verifyOperationInProgress(),ce(ua,"RemoteStore received new credentials");const s=fa(n);n.Ia.add(3),await Iu(n),s&&n.Aa.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ia.delete(3),await df(n)}async function O2(i,e){const n=Re(i);e?(n.Ia.delete(2),await df(n)):e||(n.Ia.add(2),await Iu(n),n.Aa.set("Unknown"))}function ko(i){return i.Va||(i.Va=function(n,s,o){const u=Re(n);return u.ia(),new g2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:S2.bind(null,i),e_:A2.bind(null,i),n_:b2.bind(null,i),J_:w2.bind(null,i)}),i.da.push(async e=>{e?(i.Va.N_(),mg(i)?dg(i):i.Aa.set("Unknown")):(await i.Va.stop(),iA(i))})),i.Va}function hs(i){return i.ma||(i.ma=function(n,s,o){const u=Re(n);return u.ia(),new y2(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,o)}(i.datastore,i.asyncQueue,{Zo:()=>Promise.resolve(),e_:I2.bind(null,i),n_:x2.bind(null,i),ea:N2.bind(null,i),ta:D2.bind(null,i)}),i.da.push(async e=>{e?(i.ma.N_(),await mf(i)):(await i.ma.stop(),i.Pa.length>0&&(ce(ua,`Stopping write stream with ${i.Pa.length} pending writes`),i.Pa=[]))})),i.ma}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pg{constructor(e,n,s,o,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=o,this.removalCallback=u,this.deferred=new is,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,o,u){const h=Date.now()+s,m=new pg(e,n,h,o,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(ie.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function gg(i,e){if(ur("AsyncQueue",`${e}: ${i}`),Po(i))return new de(ie.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class go{static emptySet(e){return new go(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ve.comparator(n.key,s.key):(n,s)=>ve.comparator(n.key,s.key),this.keyedMap=Jl(),this.sortedSet=new ct(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof go)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,u=s.getNext().key;if(!o.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new go;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AT{constructor(){this.fa=new ct(ve.comparator)}track(e){const n=e.doc.key,s=this.fa.get(n);s?e.type!==0&&s.type===3?this.fa=this.fa.insert(n,e):e.type===3&&s.type!==1?this.fa=this.fa.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.fa=this.fa.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.fa=this.fa.remove(n):e.type===1&&s.type===2?this.fa=this.fa.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.fa=this.fa.insert(n,{type:2,doc:e.doc}):Se(63341,{At:e,ga:s}):this.fa=this.fa.insert(n,e)}pa(){const e=[];return this.fa.inorderTraversal((n,s)=>{e.push(s)}),e}}class wo{constructor(e,n,s,o,u,h,m,p,g){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=o,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=p,this.hasCachedResults=g}static fromInitialDocuments(e,n,s,o,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new wo(e,n,go.emptySet(n),h,s,o,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&of(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==s[o].type||!n[o].doc.isEqual(s[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M2{constructor(){this.ya=void 0,this.wa=[]}Sa(){return this.wa.some(e=>e.ba())}}class V2{constructor(){this.queries=bT(),this.onlineState="Unknown",this.Da=new Set}terminate(){(function(n,s){const o=Re(n),u=o.queries;o.queries=bT(),u.forEach((h,m)=>{for(const p of m.wa)p.onError(s)})})(this,new de(ie.ABORTED,"Firestore shutting down"))}}function bT(){return new ha(i=>CS(i),of)}async function P2(i,e){const n=Re(i);let s=3;const o=e.query;let u=n.queries.get(o);u?!u.Sa()&&e.ba()&&(s=2):(u=new M2,s=e.ba()?0:1);try{switch(s){case 0:u.ya=await n.onListen(o,!0);break;case 1:u.ya=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(h){const m=gg(h,`Initialization of query '${lo(e.query)}' failed`);return void e.onError(m)}n.queries.set(o,u),u.wa.push(e),e.va(n.onlineState),u.ya&&e.Ca(u.ya)&&yg(n)}async function k2(i,e){const n=Re(i),s=e.query;let o=3;const u=n.queries.get(s);if(u){const h=u.wa.indexOf(e);h>=0&&(u.wa.splice(h,1),u.wa.length===0?o=e.ba()?0:1:!u.Sa()&&e.ba()&&(o=2))}switch(o){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function L2(i,e){const n=Re(i);let s=!1;for(const o of e){const u=o.query,h=n.queries.get(u);if(h){for(const m of h.wa)m.Ca(o)&&(s=!0);h.ya=o}}s&&yg(n)}function U2(i,e,n){const s=Re(i),o=s.queries.get(e);if(o)for(const u of o.wa)u.onError(n);s.queries.delete(e)}function yg(i){i.Da.forEach(e=>{e.next()})}var yp,wT;(wT=yp||(yp={})).Fa="default",wT.Cache="cache";class j2{constructor(e,n,s){this.query=e,this.Ma=n,this.xa=!1,this.Oa=null,this.onlineState="Unknown",this.options=s||{}}Ca(e){if(!this.options.includeMetadataChanges){const s=[];for(const o of e.docChanges)o.type!==3&&s.push(o);e=new wo(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.xa?this.Na(e)&&(this.Ma.next(e),n=!0):this.Ba(e,this.onlineState)&&(this.La(e),n=!0),this.Oa=e,n}onError(e){this.Ma.error(e)}va(e){this.onlineState=e;let n=!1;return this.Oa&&!this.xa&&this.Ba(this.Oa,e)&&(this.La(this.Oa),n=!0),n}Ba(e,n){if(!e.fromCache||!this.ba())return!0;const s=n!=="Offline";return(!this.options.ka||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Na(e){if(e.docChanges.length>0)return!0;const n=this.Oa&&this.Oa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}La(e){e=wo.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.xa=!0,this.Ma.next(e)}ba(){return this.options.source!==yp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oA{constructor(e){this.key=e}}class lA{constructor(e){this.key=e}}class z2{constructor(e,n){this.query=e,this.Ha=n,this.Ya=null,this.hasCachedResults=!1,this.current=!1,this.Za=ke(),this.mutatedKeys=ke(),this.Xa=IS(e),this.eu=new go(this.Xa)}get tu(){return this.Ha}nu(e,n){const s=n?n.ru:new AT,o=n?n.eu:this.eu;let u=n?n.mutatedKeys:this.mutatedKeys,h=o,m=!1;const p=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,g=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((E,b)=>{const T=o.get(E),w=lf(this.query,b)?b:null,C=!!T&&this.mutatedKeys.has(T.key),N=!!w&&(w.hasLocalMutations||this.mutatedKeys.has(w.key)&&w.hasCommittedMutations);let I=!1;T&&w?T.data.isEqual(w.data)?C!==N&&(s.track({type:3,doc:w}),I=!0):this.iu(T,w)||(s.track({type:2,doc:w}),I=!0,(p&&this.Xa(w,p)>0||g&&this.Xa(w,g)<0)&&(m=!0)):!T&&w?(s.track({type:0,doc:w}),I=!0):T&&!w&&(s.track({type:1,doc:T}),I=!0,(p||g)&&(m=!0)),I&&(w?(h=h.add(w),u=N?u.add(E):u.delete(E)):(h=h.delete(E),u=u.delete(E)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const E=this.query.limitType==="F"?h.last():h.first();h=h.delete(E.key),u=u.delete(E.key),s.track({type:1,doc:E})}return{eu:h,ru:s,Ds:m,mutatedKeys:u}}iu(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,o){const u=this.eu;this.eu=e.eu,this.mutatedKeys=e.mutatedKeys;const h=e.ru.pa();h.sort((E,b)=>function(w,C){const N=I=>{switch(I){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Se(20277,{At:I})}};return N(w)-N(C)}(E.type,b.type)||this.Xa(E.doc,b.doc)),this.su(s),o=o!=null&&o;const m=n&&!o?this.ou():[],p=this.Za.size===0&&this.current&&!o?1:0,g=p!==this.Ya;return this.Ya=p,h.length!==0||g?{snapshot:new wo(this.query,e.eu,u,h,e.mutatedKeys,p===0,g,!1,!!s&&s.resumeToken.approximateByteSize()>0),_u:m}:{_u:m}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({eu:this.eu,ru:new AT,mutatedKeys:this.mutatedKeys,Ds:!1},!1)):{_u:[]}}au(e){return!this.Ha.has(e)&&!!this.eu.has(e)&&!this.eu.get(e).hasLocalMutations}su(e){e&&(e.addedDocuments.forEach(n=>this.Ha=this.Ha.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ha=this.Ha.delete(n)),this.current=e.current)}ou(){if(!this.current)return[];const e=this.Za;this.Za=ke(),this.eu.forEach(s=>{this.au(s.key)&&(this.Za=this.Za.add(s.key))});const n=[];return e.forEach(s=>{this.Za.has(s)||n.push(new lA(s))}),this.Za.forEach(s=>{e.has(s)||n.push(new oA(s))}),n}uu(e){this.Ha=e.qs,this.Za=ke();const n=this.nu(e.documents);return this.applyChanges(n,!0)}cu(){return wo.fromInitialDocuments(this.query,this.eu,this.mutatedKeys,this.Ya===0,this.hasCachedResults)}}const vg="SyncEngine";class B2{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class H2{constructor(e){this.key=e,this.lu=!1}}class q2{constructor(e,n,s,o,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=o,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.hu={},this.Pu=new ha(m=>CS(m),of),this.Tu=new Map,this.Iu=new Set,this.du=new ct(ve.comparator),this.Eu=new Map,this.Au=new og,this.Ru={},this.Vu=new Map,this.mu=bo.ur(),this.onlineState="Unknown",this.fu=void 0}get isPrimaryClient(){return this.fu===!0}}async function F2(i,e,n=!0){const s=mA(i);let o;const u=s.Pu.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),o=u.view.cu()):o=await uA(s,e,n,!0),o}async function G2(i,e){const n=mA(i);await uA(n,e,!0,!1)}async function uA(i,e,n,s){const o=await l2(i.localStore,Si(e)),u=o.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await $2(i,e,u,h==="current",o.resumeToken)),i.isPrimaryClient&&n&&tA(i.remoteStore,o),m}async function $2(i,e,n,s,o){i.gu=(b,T,w)=>async function(N,I,O,k){let Y=I.view.nu(O);Y.Ds&&(Y=await yT(N.localStore,I.query,!1).then(({documents:U})=>I.view.nu(U,Y)));const ae=k&&k.targetChanges.get(I.targetId),oe=k&&k.targetMismatches.get(I.targetId)!=null,fe=I.view.applyChanges(Y,N.isPrimaryClient,ae,oe);return CT(N,I.targetId,fe._u),fe.snapshot}(i,b,T,w);const u=await yT(i.localStore,e,!0),h=new z2(e,u.qs),m=h.nu(u.documents),p=Cu.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",o),g=h.applyChanges(m,i.isPrimaryClient,p);CT(i,n,g._u);const E=new B2(e,n,h);return i.Pu.set(e,E),i.Tu.has(n)?i.Tu.get(n).push(e):i.Tu.set(n,[e]),g.snapshot}async function K2(i,e,n){const s=Re(i),o=s.Pu.get(e),u=s.Tu.get(o.targetId);if(u.length>1)return s.Tu.set(o.targetId,u.filter(h=>!of(h,e))),void s.Pu.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(o.targetId),s.sharedClientState.isActiveQueryTarget(o.targetId)||await pp(s.localStore,o.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(o.targetId),n&&hg(s.remoteStore,o.targetId),vp(s,o.targetId)}).catch(Vo)):(vp(s,o.targetId),await pp(s.localStore,o.targetId,!0))}async function Q2(i,e){const n=Re(i),s=n.Pu.get(e),o=n.Tu.get(s.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),hg(n.remoteStore,s.targetId))}async function Y2(i,e,n){const s=nO(i);try{const o=await function(h,m){const p=Re(h),g=st.now(),E=m.reduce((w,C)=>w.add(C.key),ke());let b,T;return p.persistence.runTransaction("Locally write mutations","readwrite",w=>{let C=cr(),N=ke();return p.Os.getEntries(w,E).next(I=>{C=I,C.forEach((O,k)=>{k.isValidDocument()||(N=N.add(O))})}).next(()=>p.localDocuments.getOverlayedDocuments(w,C)).next(I=>{b=I;const O=[];for(const k of m){const Y=lx(k,b.get(k.key).overlayedDocument);Y!=null&&O.push(new gs(k.key,Y,_S(Y.value.mapValue),Zn.exists(!0)))}return p.mutationQueue.addMutationBatch(w,g,O,m)}).next(I=>{T=I;const O=I.applyToLocalDocumentSet(b,N);return p.documentOverlayCache.saveOverlays(w,I.batchId,O)})}).then(()=>({batchId:T.batchId,changes:DS(b)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(o.batchId),function(h,m,p){let g=h.Ru[h.currentUser.toKey()];g||(g=new ct(Ne)),g=g.insert(m,p),h.Ru[h.currentUser.toKey()]=g}(s,o.batchId,n),await Nu(s,o.changes),await mf(s.remoteStore)}catch(o){const u=gg(o,"Failed to persist write");n.reject(u)}}async function cA(i,e){const n=Re(i);try{const s=await s2(n.localStore,e);e.targetChanges.forEach((o,u)=>{const h=n.Eu.get(u);h&&(Ge(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1,22616),o.addedDocuments.size>0?h.lu=!0:o.modifiedDocuments.size>0?Ge(h.lu,14607):o.removedDocuments.size>0&&(Ge(h.lu,42227),h.lu=!1))}),await Nu(n,s,e)}catch(s){await Vo(s)}}function RT(i,e,n){const s=Re(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const o=[];s.Pu.forEach((u,h)=>{const m=h.view.va(e);m.snapshot&&o.push(m.snapshot)}),function(h,m){const p=Re(h);p.onlineState=m;let g=!1;p.queries.forEach((E,b)=>{for(const T of b.wa)T.va(m)&&(g=!0)}),g&&yg(p)}(s.eventManager,e),o.length&&s.hu.J_(o),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function X2(i,e,n){const s=Re(i);s.sharedClientState.updateQueryState(e,"rejected",n);const o=s.Eu.get(e),u=o&&o.key;if(u){let h=new ct(ve.comparator);h=h.insert(u,rn.newNoDocument(u,we.min()));const m=ke().add(u),p=new hf(we.min(),new Map,new ct(Ne),h,m);await cA(s,p),s.du=s.du.remove(u),s.Eu.delete(e),_g(s)}else await pp(s.localStore,e,!1).then(()=>vp(s,e,n)).catch(Vo)}async function W2(i,e){const n=Re(i),s=e.batch.batchId;try{const o=await r2(n.localStore,e);fA(n,s,null),hA(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Nu(n,o)}catch(o){await Vo(o)}}async function Z2(i,e,n){const s=Re(i);try{const o=await function(h,m){const p=Re(h);return p.persistence.runTransaction("Reject batch","readwrite-primary",g=>{let E;return p.mutationQueue.lookupMutationBatch(g,m).next(b=>(Ge(b!==null,37113),E=b.keys(),p.mutationQueue.removeMutationBatch(g,b))).next(()=>p.mutationQueue.performConsistencyCheck(g)).next(()=>p.documentOverlayCache.removeOverlaysForBatchId(g,E,m)).next(()=>p.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,E)).next(()=>p.localDocuments.getDocuments(g,E))})}(s.localStore,e);fA(s,e,n),hA(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Nu(s,o)}catch(o){await Vo(o)}}function hA(i,e){(i.Vu.get(e)||[]).forEach(n=>{n.resolve()}),i.Vu.delete(e)}function fA(i,e,n){const s=Re(i);let o=s.Ru[s.currentUser.toKey()];if(o){const u=o.get(e);u&&(n?u.reject(n):u.resolve(),o=o.remove(e)),s.Ru[s.currentUser.toKey()]=o}}function vp(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Tu.get(e))i.Pu.delete(s),n&&i.hu.pu(s,n);i.Tu.delete(e),i.isPrimaryClient&&i.Au.zr(e).forEach(s=>{i.Au.containsKey(s)||dA(i,s)})}function dA(i,e){i.Iu.delete(e.path.canonicalString());const n=i.du.get(e);n!==null&&(hg(i.remoteStore,n),i.du=i.du.remove(e),i.Eu.delete(n),_g(i))}function CT(i,e,n){for(const s of n)s instanceof oA?(i.Au.addReference(s.key,e),J2(i,s)):s instanceof lA?(ce(vg,"Document no longer in limbo: "+s.key),i.Au.removeReference(s.key,e),i.Au.containsKey(s.key)||dA(i,s.key)):Se(19791,{yu:s})}function J2(i,e){const n=e.key,s=n.path.canonicalString();i.du.get(n)||i.Iu.has(s)||(ce(vg,"New document in limbo: "+n),i.Iu.add(s),_g(i))}function _g(i){for(;i.Iu.size>0&&i.du.size<i.maxConcurrentLimboResolutions;){const e=i.Iu.values().next().value;i.Iu.delete(e);const n=new ve(rt.fromString(e)),s=i.mu.next();i.Eu.set(s,new H2(n)),i.du=i.du.insert(n,s),tA(i.remoteStore,new Wr(Si(RS(n.path)),s,"TargetPurposeLimboResolution",nf.ue))}}async function Nu(i,e,n){const s=Re(i),o=[],u=[],h=[];s.Pu.isEmpty()||(s.Pu.forEach((m,p)=>{h.push(s.gu(p,e,n).then(g=>{var E;if((g||n)&&s.isPrimaryClient){const b=g?!g.fromCache:(E=n?.targetChanges.get(p.targetId))===null||E===void 0?void 0:E.current;s.sharedClientState.updateQueryState(p.targetId,b?"current":"not-current")}if(g){o.push(g);const b=ug.Es(p.targetId,g);u.push(b)}}))}),await Promise.all(h),s.hu.J_(o),await async function(p,g){const E=Re(p);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",b=>te.forEach(g,T=>te.forEach(T.Is,w=>E.persistence.referenceDelegate.addReference(b,T.targetId,w)).next(()=>te.forEach(T.ds,w=>E.persistence.referenceDelegate.removeReference(b,T.targetId,w)))))}catch(b){if(!Po(b))throw b;ce(cg,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const w=E.Fs.get(T),C=w.snapshotVersion,N=w.withLastLimboFreeSnapshotVersion(C);E.Fs=E.Fs.insert(T,N)}}}(s.localStore,u))}async function eO(i,e){const n=Re(i);if(!n.currentUser.isEqual(e)){ce(vg,"User change. New user:",e.toKey());const s=await WS(n.localStore,e);n.currentUser=e,function(u,h){u.Vu.forEach(m=>{m.forEach(p=>{p.reject(new de(ie.CANCELLED,h))})}),u.Vu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Nu(n,s.Bs)}}function tO(i,e){const n=Re(i),s=n.Eu.get(e);if(s&&s.lu)return ke().add(s.key);{let o=ke();const u=n.Tu.get(e);if(!u)return o;for(const h of u){const m=n.Pu.get(h);o=o.unionWith(m.view.tu)}return o}}function mA(i){const e=Re(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=cA.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tO.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=X2.bind(null,e),e.hu.J_=L2.bind(null,e.eventManager),e.hu.pu=U2.bind(null,e.eventManager),e}function nO(i){const e=Re(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=W2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Z2.bind(null,e),e}class Hh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ff(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Du(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Cu(e,this.localStore),this.indexBackfillerScheduler=this.Fu(e,this.localStore)}Cu(e,n){return null}Fu(e,n){return null}vu(e){return i2(this.persistence,new e2,e.initialUser,this.serializer)}Du(e){return new XS(lg.Vi,this.serializer)}bu(e){return new c2}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Hh.provider={build:()=>new Hh};class iO extends Hh{constructor(e){super(),this.cacheSizeBytes=e}Cu(e,n){Ge(this.persistence.referenceDelegate instanceof zh,46915);const s=this.persistence.referenceDelegate.garbageCollector;return new jx(s,e.asyncQueue,n)}Du(e){const n=this.cacheSizeBytes!==void 0?pn.withCacheSize(this.cacheSizeBytes):pn.DEFAULT;return new XS(s=>zh.Vi(s,n),this.serializer)}}class _p{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>RT(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=eO.bind(null,this.syncEngine),await O2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new V2}()}createDatastore(e){const n=ff(e.databaseInfo.databaseId),s=function(u){return new p2(u)}(e.databaseInfo);return function(u,h,m,p){return new _2(u,h,m,p)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,o,u,h,m){return new T2(s,o,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>RT(this.syncEngine,n,0),function(){return ET.C()?new ET:new h2}())}createSyncEngine(e,n){return function(o,u,h,m,p,g,E){const b=new q2(o,u,h,m,p,g);return E&&(b.fu=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(o){const u=Re(o);ce(ua,"RemoteStore shutting down."),u.Ia.add(5),await Iu(u),u.Ea.shutdown(),u.Aa.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}_p.provider={build:()=>new _p};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rO{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.xu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.xu(this.observer.error,e):ur("Uncaught Error in snapshot listener:",e.toString()))}Ou(){this.muted=!0}xu(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fs="FirestoreClient";class sO{constructor(e,n,s,o,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=o,this.user=nn.UNAUTHENTICATED,this.clientId=Yp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ce(fs,"Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ce(fs,"Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new is;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=gg(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Bm(i,e){i.asyncQueue.verifyOperationInProgress(),ce(fs,"Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async o=>{s.isEqual(o)||(await WS(e.localStore,o),s=o)}),e.persistence.setDatabaseDeletedListener(()=>{ss("Terminating Firestore due to IndexedDb database deletion"),i.terminate().then(()=>{ce("Terminating Firestore due to IndexedDb database deletion completed successfully")}).catch(o=>{ss("Terminating Firestore due to IndexedDb database deletion failed",o)})}),i._offlineComponents=e}async function IT(i,e){i.asyncQueue.verifyOperationInProgress();const n=await aO(i);ce(fs,"Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>ST(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,o)=>ST(e.remoteStore,o)),i._onlineComponents=e}async function aO(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ce(fs,"Using user provided OfflineComponentProvider");try{await Bm(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(o){return o.name==="FirebaseError"?o.code===ie.FAILED_PRECONDITION||o.code===ie.UNIMPLEMENTED:!(typeof DOMException<"u"&&o instanceof DOMException)||o.code===22||o.code===20||o.code===11}(n))throw n;ss("Error using user provided cache. Falling back to memory cache: "+n),await Bm(i,new Hh)}}else ce(fs,"Using default OfflineComponentProvider"),await Bm(i,new iO(void 0));return i._offlineComponents}async function pA(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ce(fs,"Using user provided OnlineComponentProvider"),await IT(i,i._uninitializedComponentsProvider._online)):(ce(fs,"Using default OnlineComponentProvider"),await IT(i,new _p))),i._onlineComponents}function oO(i){return pA(i).then(e=>e.syncEngine)}async function lO(i){const e=await pA(i),n=e.eventManager;return n.onListen=F2.bind(null,e.syncEngine),n.onUnlisten=K2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=G2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Q2.bind(null,e.syncEngine),n}function uO(i,e,n={}){const s=new is;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,p,g){const E=new rO({next:T=>{E.Ou(),h.enqueueAndForget(()=>k2(u,b)),T.fromCache&&p.source==="server"?g.reject(new de(ie.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new j2(m,E,{includeMetadataChanges:!0,ka:!0});return P2(u,b)}(await lO(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gA(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NT=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA="firestore.googleapis.com",DT=!0;class xT{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(ie.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=yA,this.ssl=DT}else this.host=e.host,this.ssl=(n=e.ssl)!==null&&n!==void 0?n:DT;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=YS;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Lx)throw new de(ie.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}TD("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=gA((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(ie.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,o){return s.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class pf{constructor(e,n,s,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new xT({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(ie.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(ie.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new xT(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new fD;switch(s.type){case"firstParty":return new gD(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(ie.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=NT.get(n);s&&(ce("ComponentProvider","Removing Datastore"),NT.delete(n),s.terminate())}(this),Promise.resolve()}}function cO(i,e,n,s={}){var o;i=as(i,pf);const u=No(e),h=i._getSettings(),m=Object.assign(Object.assign({},h),{emulatorOptions:i._getEmulatorOptions()}),p=`${e}:${n}`;u&&(f0(`https://${p}`),d0("Firestore",!0)),h.host!==yA&&h.host!==p&&ss("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const g=Object.assign(Object.assign({},h),{host:p,ssl:u,emulatorOptions:s});if(!sa(g,m)&&(i._setSettings(g),s.mockUserToken)){let E,b;if(typeof s.mockUserToken=="string")E=s.mockUserToken,b=nn.MOCK_USER;else{E=A1(s.mockUserToken,(o=i._app)===null||o===void 0?void 0:o.options.projectId);const T=s.mockUserToken.sub||s.mockUserToken.user_id;if(!T)throw new de(ie.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");b=new nn(T)}i._authCredentials=new dD(new aS(E,b))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gf{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new gf(this.firestore,e,this._query)}}class Ot{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new rs(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ot(this.firestore,e,this._key)}toJSON(){return{type:Ot._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,s){if(wu(n,Ot._jsonSchema))return new Ot(e,s||null,new ve(rt.fromString(n.referencePath)))}}Ot._jsonSchemaVersion="firestore/documentReference/1.0",Ot._jsonSchema={type:bt("string",Ot._jsonSchemaVersion),referencePath:bt("string")};class rs extends gf{constructor(e,n,s){super(e,n,RS(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ot(this.firestore,null,new ve(e))}withConverter(e){return new rs(this.firestore,e,this._path)}}function sn(i,e,...n){if(i=Yt(i),lS("collection","path",e),i instanceof pf){const s=rt.fromString(e,...n);return GE(s),new rs(i,null,s)}{if(!(i instanceof Ot||i instanceof rs))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return GE(s),new rs(i.firestore,null,s)}}function Hn(i,e,...n){if(i=Yt(i),arguments.length===1&&(e=Yp.newId()),lS("doc","path",e),i instanceof pf){const s=rt.fromString(e,...n);return FE(s),new Ot(i,null,new ve(s))}{if(!(i instanceof Ot||i instanceof rs))throw new de(ie.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(rt.fromString(e,...n));return FE(s),new Ot(i.firestore,i instanceof rs?i.converter:null,new ve(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const OT="AsyncQueue";class MT{constructor(e=Promise.resolve()){this.Zu=[],this.Xu=!1,this.ec=[],this.tc=null,this.nc=!1,this.rc=!1,this.sc=[],this.F_=new JS(this,"async_queue_retry"),this.oc=()=>{const s=zm();s&&ce(OT,"Visibility state changed to "+s.visibilityState),this.F_.y_()},this._c=e;const n=zm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.oc)}get isShuttingDown(){return this.Xu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.ac(),this.uc(e)}enterRestrictedMode(e){if(!this.Xu){this.Xu=!0,this.rc=e||!1;const n=zm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.oc)}}enqueue(e){if(this.ac(),this.Xu)return new Promise(()=>{});const n=new is;return this.uc(()=>this.Xu&&this.rc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Zu.push(e),this.cc()))}async cc(){if(this.Zu.length!==0){try{await this.Zu[0](),this.Zu.shift(),this.F_.reset()}catch(e){if(!Po(e))throw e;ce(OT,"Operation failed with retryable error: "+e)}this.Zu.length>0&&this.F_.g_(()=>this.cc())}}uc(e){const n=this._c.then(()=>(this.nc=!0,e().catch(s=>{throw this.tc=s,this.nc=!1,ur("INTERNAL UNHANDLED ERROR: ",VT(s)),s}).then(s=>(this.nc=!1,s))));return this._c=n,n}enqueueAfterDelay(e,n,s){this.ac(),this.sc.indexOf(e)>-1&&(n=0);const o=pg.createAndSchedule(this,e,n,s,u=>this.lc(u));return this.ec.push(o),o}ac(){this.tc&&Se(47125,{hc:VT(this.tc)})}verifyOperationInProgress(){}async Pc(){let e;do e=this._c,await e;while(e!==this._c)}Tc(e){for(const n of this.ec)if(n.timerId===e)return!0;return!1}Ic(e){return this.Pc().then(()=>{this.ec.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.ec)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Pc()})}dc(e){this.sc.push(e)}lc(e){const n=this.ec.indexOf(e);this.ec.splice(n,1)}}function VT(i){let e=i.message||"";return i.stack&&(e=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),e}class Du extends pf{constructor(e,n,s,o){super(e,n,s,o),this.type="firestore",this._queue=new MT,this._persistenceKey=o?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new MT(e),this._firestoreClient=void 0,await e}}}function hO(i,e){const n=typeof i=="object"?i:y0(),s=typeof i=="string"?i:Mh,o=Up(n,"firestore").getImmediate({identifier:s});if(!o._initialized){const u=T1("firestore");u&&cO(o,...u)}return o}function vA(i){if(i._terminated)throw new de(ie.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||fO(i),i._firestoreClient}function fO(i){var e,n,s;const o=i._freezeSettings(),u=function(m,p,g,E){return new OD(m,p,g,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,gA(E.experimentalLongPollingOptions),E.useFetchStreams,E.isUsingEmulator)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,o);i._componentsProvider||!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=o.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider}),i._firestoreClient=new sO(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const p=m?._online.build();return{_offline:m?._offline.build(p),_online:p}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Bn(Xt.fromBase64String(e))}catch(n){throw new de(ie.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Bn(Xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Bn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(wu(e,Bn._jsonSchema))return Bn.fromBase64String(e.bytes)}}Bn._jsonSchemaVersion="firestore/bytes/1.0",Bn._jsonSchema={type:bt("string",Bn._jsonSchemaVersion),bytes:bt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(ie.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Qt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bi{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(ie.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(ie.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:bi._jsonSchemaVersion}}static fromJSON(e){if(wu(e,bi._jsonSchema))return new bi(e.latitude,e.longitude)}}bi._jsonSchemaVersion="firestore/geoPoint/1.0",bi._jsonSchema={type:bt("string",bi._jsonSchemaVersion),latitude:bt("number"),longitude:bt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wi{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,o){if(s.length!==o.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==o[u])return!1;return!0}(this._values,e._values)}toJSON(){return{type:wi._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(wu(e,wi._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new wi(e.vectorValues);throw new de(ie.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}wi._jsonSchemaVersion="firestore/vectorValue/1.0",wi._jsonSchema={type:bt("string",wi._jsonSchemaVersion),vectorValues:bt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dO=/^__.*__$/;class mO{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new gs(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ru(e,this.data,n,this.fieldTransforms)}}class _A{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new gs(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function EA(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Se(40011,{Ec:i})}}class Tg{constructor(e,n,s,o,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=o,u===void 0&&this.Ac(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Ec(){return this.settings.Ec}Rc(e){return new Tg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Vc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.fc(e),o}gc(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.Rc({path:s,mc:!1});return o.Ac(),o}yc(e){return this.Rc({path:void 0,mc:!0})}wc(e){return qh(e,this.settings.methodName,this.settings.Sc||!1,this.path,this.settings.bc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ac(){if(this.path)for(let e=0;e<this.path.length;e++)this.fc(this.path.get(e))}fc(e){if(e.length===0)throw this.wc("Document fields must not be empty");if(EA(this.Ec)&&dO.test(e))throw this.wc('Document fields cannot begin and end with "__"')}}class pO{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||ff(e)}Dc(e,n,s,o=!1){return new Tg({Ec:e,methodName:n,bc:s,path:Qt.emptyPath(),mc:!1,Sc:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function TA(i){const e=i._freezeSettings(),n=ff(i._databaseId);return new pO(i._databaseId,!!e.ignoreUndefinedProperties,n)}function gO(i,e,n,s,o,u={}){const h=i.Dc(u.merge||u.mergeFields?2:0,e,n,o);Sg("Data must be an object, but it was:",h,s);const m=SA(s,h);let p,g;if(u.merge)p=new Rn(h.fieldMask),g=h.fieldTransforms;else if(u.mergeFields){const E=[];for(const b of u.mergeFields){const T=Ep(e,b,n);if(!h.contains(T))throw new de(ie.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);bA(E,T)||E.push(T)}p=new Rn(E),g=h.fieldTransforms.filter(b=>p.covers(b.field))}else p=null,g=h.fieldTransforms;return new mO(new gn(m),p,g)}class vf extends Eg{_toFieldTransform(e){if(e.Ec!==2)throw e.Ec===1?e.wc(`${this._methodName}() can only appear at the top level of your update data`):e.wc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof vf}}function yO(i,e,n,s){const o=i.Dc(1,e,n);Sg("Data must be an object, but it was:",o,s);const u=[],h=gn.empty();ps(s,(p,g)=>{const E=Ag(e,p,n);g=Yt(g);const b=o.gc(E);if(g instanceof vf)u.push(E);else{const T=_f(g,b);T!=null&&(u.push(E),h.set(E,T))}});const m=new Rn(u);return new _A(h,m,o.fieldTransforms)}function vO(i,e,n,s,o,u){const h=i.Dc(1,e,n),m=[Ep(e,s,n)],p=[o];if(u.length%2!=0)throw new de(ie.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<u.length;T+=2)m.push(Ep(e,u[T])),p.push(u[T+1]);const g=[],E=gn.empty();for(let T=m.length-1;T>=0;--T)if(!bA(g,m[T])){const w=m[T];let C=p[T];C=Yt(C);const N=h.gc(w);if(C instanceof vf)g.push(w);else{const I=_f(C,N);I!=null&&(g.push(w),E.set(w,I))}}const b=new Rn(g);return new _A(E,b,h.fieldTransforms)}function _f(i,e){if(AA(i=Yt(i)))return Sg("Unsupported field value:",e,i),SA(i,e);if(i instanceof Eg)return function(s,o){if(!EA(o.Ec))throw o.wc(`${s._methodName}() can only be used with update() and set()`);if(!o.path)throw o.wc(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.mc&&e.Ec!==4)throw e.wc("Nested arrays are not supported");return function(s,o){const u=[];let h=0;for(const m of s){let p=_f(m,o.yc(h));p==null&&(p={nullValue:"NULL_VALUE"}),u.push(p),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,o){if((s=Yt(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return nx(o.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=st.fromDate(s);return{timestampValue:jh(o.serializer,u)}}if(s instanceof st){const u=new st(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:jh(o.serializer,u)}}if(s instanceof bi)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Bn)return{bytesValue:HS(o.serializer,s._byteString)};if(s instanceof Ot){const u=o.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw o.wc(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:ag(s.firestore._databaseId||o.databaseId,s._key.path)}}if(s instanceof wi)return function(h,m){return{mapValue:{fields:{[yS]:{stringValue:vS},[Vh]:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.wc("VectorValues must only contain numeric values.");return ng(m.serializer,g)})}}}}}}(s,o);throw o.wc(`Unsupported field value: ${Xp(s)}`)}(i,e)}function SA(i,e){const n={};return hS(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ps(i,(s,o)=>{const u=_f(o,e.Vc(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function AA(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof st||i instanceof bi||i instanceof Bn||i instanceof Ot||i instanceof Eg||i instanceof wi)}function Sg(i,e,n){if(!AA(n)||!uS(n)){const s=Xp(n);throw s==="an object"?e.wc(i+" a custom object"):e.wc(i+" "+s)}}function Ep(i,e,n){if((e=Yt(e))instanceof yf)return e._internalPath;if(typeof e=="string")return Ag(i,e);throw qh("Field path arguments must be of type string or ",i,!1,void 0,n)}const _O=new RegExp("[~\\*/\\[\\]]");function Ag(i,e,n){if(e.search(_O)>=0)throw qh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new yf(...e.split("."))._internalPath}catch{throw qh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function qh(i,e,n,s,o){const u=s&&!s.isEmpty(),h=o!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let p="";return(u||h)&&(p+=" (found",u&&(p+=` in field ${s}`),h&&(p+=` in document ${o}`),p+=")"),new de(ie.INVALID_ARGUMENT,m+i+p)}function bA(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wA{constructor(e,n,s,o,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=o,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Ot(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new EO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(RA("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class EO extends wA{data(){return super.data()}}function RA(i,e){return typeof e=="string"?Ag(i,e):e instanceof yf?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TO(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(ie.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class SO{convertValue(e,n="none"){switch(cs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(us(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw Se(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ps(e,(o,u)=>{s[o]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,o;const u=(o=(s=(n=e.fields)===null||n===void 0?void 0:n[Vh].arrayValue)===null||s===void 0?void 0:s.values)===null||o===void 0?void 0:o.map(h=>vt(h.doubleValue));return new wi(u)}convertGeoPoint(e){return new bi(vt(e.latitude),vt(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=sf(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(du(e));default:return null}}convertTimestamp(e){const n=ls(e);return new st(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=rt.fromString(e);Ge(QS(s),9688,{name:e});const o=new mu(s.get(1),s.get(3)),u=new ve(s.popFirst(5));return o.isEqual(n)||ur(`Document ${u} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AO(i,e,n){let s;return s=i?i.toFirestore(e):e,s}class uh{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class yo extends wA{constructor(e,n,s,o,u,h){super(e,n,s,o,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(RA("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=yo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}yo._jsonSchemaVersion="firestore/documentSnapshot/1.0",yo._jsonSchema={type:bt("string",yo._jsonSchemaVersion),bundleSource:bt("string","DocumentSnapshot"),bundleName:bt("string"),bundle:bt("string")};class Sh extends yo{data(e={}){return super.data(e)}}class vo{constructor(e,n,s,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new uh(o.hasPendingWrites,o.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new Sh(this._firestore,this._userDataWriter,s.key,s,new uh(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(ie.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let h=0;return o._snapshot.docChanges.map(m=>{const p=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);return m.doc,{type:"added",doc:p,oldIndex:-1,newIndex:h++}})}{let h=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const p=new Sh(o._firestore,o._userDataWriter,m.doc.key,m.doc,new uh(o._snapshot.mutatedKeys.has(m.doc.key),o._snapshot.fromCache),o.query.converter);let g=-1,E=-1;return m.type!==0&&(g=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),E=h.indexOf(m.doc.key)),{type:bO(m.type),doc:p,oldIndex:g,newIndex:E}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new de(ie.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=vo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Yp.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],s=[],o=[];return this.docs.forEach(u=>{u._document!==null&&(n.push(u._document),s.push(this._userDataWriter.convertObjectMap(u._document.data.value.mapValue.fields,"previous")),o.push(u.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function bO(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Se(61501,{type:i})}}vo._jsonSchemaVersion="firestore/querySnapshot/1.0",vo._jsonSchema={type:bt("string",vo._jsonSchemaVersion),bundleSource:bt("string","QuerySnapshot"),bundleName:bt("string"),bundle:bt("string")};class wO extends SO{constructor(e){super(),this.firestore=e}convertBytes(e){return new Bn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ot(this.firestore,null,n)}}function an(i){i=as(i,gf);const e=as(i.firestore,Du),n=vA(e),s=new wO(e);return TO(i._query),uO(n,i._query).then(o=>new vo(e,s,i,o))}function Fh(i,e,n){i=as(i,Ot);const s=as(i.firestore,Du),o=AO(i.converter,e);return bg(s,[gO(TA(s),"setDoc",i._key,o,i.converter!==null,n).toMutation(i._key,Zn.none())])}function Ef(i,e,n,...s){i=as(i,Ot);const o=as(i.firestore,Du),u=TA(o);let h;return h=typeof(e=Yt(e))=="string"||e instanceof yf?vO(u,"updateDoc",i._key,e,n,s):yO(u,"updateDoc",i._key,e),bg(o,[h.toMutation(i._key,Zn.exists(!0))])}function Gh(i){return bg(as(i.firestore,Du),[new ig(i._key,Zn.none())])}function bg(i,e){return function(s,o){const u=new is;return s.asyncQueue.enqueueAndForget(async()=>Y2(await oO(s),o,u)),u.promise}(vA(i),e)}(function(e,n=!0){(function(o){Mo=o})(Do),_o(new aa("firestore",(s,{instanceIdentifier:o,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Du(new mD(s.getProvider("auth-internal")),new yD(h,s.getProvider("app-check-internal")),function(g,E){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new de(ie.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new mu(g.options.projectId,E)}(h,o),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),es(jE,zE,e),es(jE,zE,"esm2017")})();const RO={apiKey:"AIzaSyDlmcT-s68cZZqok7ZZzBsIbgP0vio-a1M",authDomain:"lpk-npm-indonesia.firebaseapp.com",projectId:"lpk-npm-indonesia",storageBucket:"lpk-npm-indonesia.appspot.com",messagingSenderId:"161210688840",appId:"1:161210688840:web:fa1627c3ce5b55650a7f7d",measurementId:"G-WPM5XZFZSR"},CA=g0(RO),wg=lD(CA),et=hO(CA);function CO(){const[i,e]=x.useState(""),[n,s]=x.useState(""),[o,u]=x.useState(""),h=xp(),m=async p=>{p.preventDefault(),u("");try{await KI(wg,i,n),h("/admin")}catch(g){console.error("Login error:",g.message),u("Email hoặc mật khẩu không đúng.")}};return A.jsxs("div",{className:"container mt-5",style:{maxWidth:"400px"},children:[A.jsx("h2",{className:"text-center mb-4",children:"Admin login"}),A.jsxs("form",{onSubmit:m,children:[A.jsx("div",{className:"mb-3",children:A.jsx("input",{type:"email",className:"form-control",placeholder:"Email",value:i,onChange:p=>e(p.target.value),required:!0})}),A.jsx("div",{className:"mb-3",children:A.jsx("input",{type:"password",className:"form-control",placeholder:"Mật khẩu",value:n,onChange:p=>s(p.target.value),required:!0})}),o&&A.jsx("div",{className:"text-danger mb-3",children:o}),A.jsx("button",{type:"submit",className:"btn btn-primary w-100",children:"Login"})]})]})}const IA=x.createContext();function NA(){return x.useContext(IA)}function IO({children:i}){const[e,n]=x.useState(null),[s,o]=x.useState(!0);return x.useEffect(()=>XI(wg,h=>{n(h),o(!1)}),[]),A.jsx(IA.Provider,{value:{currentUser:e},children:!s&&i})}function NO(){const{currentUser:i}=NA(),e=async()=>{await WI(wg),window.location.href="/login"};return A.jsxs("div",{className:"container mt-5",children:[A.jsxs("h2",{className:"mb-4",children:["👋 Xin chào, ",i.email]}),A.jsx("div",{className:"mb-4",children:A.jsx("button",{className:"btn btn-outline-danger",onClick:e,children:"Đăng xuất"})}),A.jsx("h4",{children:"🔧 Quản lý nội dung:"}),A.jsxs("ul",{className:"list-group mt-3",children:[A.jsx("li",{className:"list-group-item",children:A.jsx(zn,{to:"/admin/contact",children:" Các thông bóa mới "})}),A.jsx("li",{className:"list-group-item",children:A.jsx(zn,{to:"/admin/our-role",children:'📝 Chỉnh sửa trang "Our Role"'})}),A.jsx("li",{className:"list-group-item",children:A.jsx(zn,{to:"/admin/our-thoughts",children:'📝 Chỉnh sửa trang "Our Thoughts"'})}),A.jsx("li",{className:"list-group-item",children:A.jsx(zn,{to:"/admin/skill-system",children:'📝 Chỉnh sửa trang "Skill system'})}),A.jsx("li",{className:"list-group-item",children:A.jsx(zn,{to:"/admin/technical-intern",children:'📝 Chỉnh sửa trang "Technical Intern"'})}),A.jsx("li",{className:"list-group-item",children:A.jsx(zn,{to:"/admin/news",children:"📝 Thêm, sửa news"})}),A.jsx("li",{className:"list-group-item",children:A.jsx(zn,{to:"/admin/overview",children:"📝 Chỉnh sửa bảng UnionOverview"})}),A.jsx("li",{className:"list-group-item",children:A.jsx(zn,{to:"/admin/comparison-table",children:"📝 Chỉnh sửa bảng ComparisonTable"})}),A.jsx("li",{className:"list-group-item",children:A.jsx(zn,{to:"/admin/news",children:"📰 Quản lý Tin tức"})}),A.jsx("li",{className:"list-group-item",children:A.jsx(zn,{to:"/admin/contact",children:"📬 Xem phản hồi Liên hệ"})})]})]})}function tr({children:i}){const{currentUser:e}=NA(),n="admin@admin.com";return e?e.email!==n?A.jsx("h2",{className:"text-danger text-center mt-5",children:"Bạn không có quyền truy cập"}):i:A.jsx(DR,{to:"/login"})}var Hm={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var PT;function DO(){return PT||(PT=1,function(i){(function(){var e={}.hasOwnProperty;function n(){for(var u="",h=0;h<arguments.length;h++){var m=arguments[h];m&&(u=o(u,s(m)))}return u}function s(u){if(typeof u=="string"||typeof u=="number")return u;if(typeof u!="object")return"";if(Array.isArray(u))return n.apply(null,u);if(u.toString!==Object.prototype.toString&&!u.toString.toString().includes("[native code]"))return u.toString();var h="";for(var m in u)e.call(u,m)&&u[m]&&(h=o(h,m));return h}function o(u,h){return h?u?u+" "+h:u+h:u}i.exports?(n.default=n,i.exports=n):window.classNames=n})()}(Hm)),Hm.exports}var xO=DO();const Ve=Qh(xO);function Tp(){return Tp=Object.assign?Object.assign.bind():function(i){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var s in n)({}).hasOwnProperty.call(n,s)&&(i[s]=n[s])}return i},Tp.apply(null,arguments)}function DA(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)!==-1)continue;n[s]=i[s]}return n}function kT(i){return"default"+i.charAt(0).toUpperCase()+i.substr(1)}function OO(i){var e=MO(i,"string");return typeof e=="symbol"?e:String(e)}function MO(i,e){if(typeof i!="object"||i===null)return i;var n=i[Symbol.toPrimitive];if(n!==void 0){var s=n.call(i,e);if(typeof s!="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(i)}function VO(i,e,n){var s=x.useRef(i!==void 0),o=x.useState(e),u=o[0],h=o[1],m=i!==void 0,p=s.current;return s.current=m,!m&&p&&u!==e&&h(e),[m?i:u,x.useCallback(function(g){for(var E=arguments.length,b=new Array(E>1?E-1:0),T=1;T<E;T++)b[T-1]=arguments[T];n&&n.apply(void 0,[g].concat(b)),h(g)},[n])]}function PO(i,e){return Object.keys(e).reduce(function(n,s){var o,u=n,h=u[kT(s)],m=u[s],p=DA(u,[kT(s),s].map(OO)),g=e[s],E=VO(m,h,i[g]),b=E[0],T=E[1];return Tp({},p,(o={},o[s]=b,o[g]=T,o))},i)}function Sp(i,e){return Sp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,s){return n.__proto__=s,n},Sp(i,e)}function kO(i,e){i.prototype=Object.create(e.prototype),i.prototype.constructor=i,Sp(i,e)}const LO=["xxl","xl","lg","md","sm","xs"],UO="xs",Tf=x.createContext({prefixes:{},breakpoints:LO,minBreakpoint:UO}),{Consumer:YM,Provider:XM}=Tf;function $e(i,e){const{prefixes:n}=x.useContext(Tf);return i||n[e]||e}function xA(){const{breakpoints:i}=x.useContext(Tf);return i}function OA(){const{minBreakpoint:i}=x.useContext(Tf);return i}function jO(i){return i&&i.ownerDocument||document}function zO(i){var e=jO(i);return e&&e.defaultView||window}function BO(i,e){return zO(i).getComputedStyle(i,e)}var HO=/([A-Z])/g;function qO(i){return i.replace(HO,"-$1").toLowerCase()}var FO=/^ms-/;function ch(i){return qO(i).replace(FO,"-ms-")}var GO=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function $O(i){return!!(i&&GO.test(i))}function MA(i,e){var n="",s="";if(typeof e=="string")return i.style.getPropertyValue(ch(e))||BO(i).getPropertyValue(ch(e));Object.keys(e).forEach(function(o){var u=e[o];!u&&u!==0?i.style.removeProperty(ch(o)):$O(o)?s+=o+"("+u+") ":n+=ch(o)+": "+u+";"}),s&&(n+="transform: "+s+";"),i.style.cssText+=";"+n}var qm={exports:{}},Fm,LT;function KO(){if(LT)return Fm;LT=1;var i="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Fm=i,Fm}var Gm,UT;function QO(){if(UT)return Gm;UT=1;var i=KO();function e(){}function n(){}return n.resetWarningCache=e,Gm=function(){function s(h,m,p,g,E,b){if(b!==i){var T=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw T.name="Invariant Violation",T}}s.isRequired=s;function o(){return s}var u={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:o,element:s,elementType:s,instanceOf:o,node:s,objectOf:o,oneOf:o,oneOfType:o,shape:o,exact:o,checkPropTypes:n,resetWarningCache:e};return u.PropTypes=u,u},Gm}var jT;function YO(){return jT||(jT=1,qm.exports=QO()()),qm.exports}var XO=YO();const sr=Qh(XO),zT={disabled:!1},VA=ia.createContext(null);var WO=function(e){return e.scrollTop},tu="unmounted",ta="exited",$r="entering",na="entered",Ap="exiting",dr=function(i){kO(e,i);function e(s,o){var u;u=i.call(this,s,o)||this;var h=o,m=h&&!h.isMounting?s.enter:s.appear,p;return u.appearStatus=null,s.in?m?(p=ta,u.appearStatus=$r):p=na:s.unmountOnExit||s.mountOnEnter?p=tu:p=ta,u.state={status:p},u.nextCallback=null,u}e.getDerivedStateFromProps=function(o,u){var h=o.in;return h&&u.status===tu?{status:ta}:null};var n=e.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(o){var u=null;if(o!==this.props){var h=this.state.status;this.props.in?h!==$r&&h!==na&&(u=$r):(h===$r||h===na)&&(u=Ap)}this.updateStatus(!1,u)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var o=this.props.timeout,u,h,m;return u=h=m=o,o!=null&&typeof o!="number"&&(u=o.exit,h=o.enter,m=o.appear!==void 0?o.appear:h),{exit:u,enter:h,appear:m}},n.updateStatus=function(o,u){if(o===void 0&&(o=!1),u!==null)if(this.cancelNextCallback(),u===$r){if(this.props.unmountOnExit||this.props.mountOnEnter){var h=this.props.nodeRef?this.props.nodeRef.current:Yl.findDOMNode(this);h&&WO(h)}this.performEnter(o)}else this.performExit();else this.props.unmountOnExit&&this.state.status===ta&&this.setState({status:tu})},n.performEnter=function(o){var u=this,h=this.props.enter,m=this.context?this.context.isMounting:o,p=this.props.nodeRef?[m]:[Yl.findDOMNode(this),m],g=p[0],E=p[1],b=this.getTimeouts(),T=m?b.appear:b.enter;if(!o&&!h||zT.disabled){this.safeSetState({status:na},function(){u.props.onEntered(g)});return}this.props.onEnter(g,E),this.safeSetState({status:$r},function(){u.props.onEntering(g,E),u.onTransitionEnd(T,function(){u.safeSetState({status:na},function(){u.props.onEntered(g,E)})})})},n.performExit=function(){var o=this,u=this.props.exit,h=this.getTimeouts(),m=this.props.nodeRef?void 0:Yl.findDOMNode(this);if(!u||zT.disabled){this.safeSetState({status:ta},function(){o.props.onExited(m)});return}this.props.onExit(m),this.safeSetState({status:Ap},function(){o.props.onExiting(m),o.onTransitionEnd(h.exit,function(){o.safeSetState({status:ta},function(){o.props.onExited(m)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(o,u){u=this.setNextCallback(u),this.setState(o,u)},n.setNextCallback=function(o){var u=this,h=!0;return this.nextCallback=function(m){h&&(h=!1,u.nextCallback=null,o(m))},this.nextCallback.cancel=function(){h=!1},this.nextCallback},n.onTransitionEnd=function(o,u){this.setNextCallback(u);var h=this.props.nodeRef?this.props.nodeRef.current:Yl.findDOMNode(this),m=o==null&&!this.props.addEndListener;if(!h||m){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var p=this.props.nodeRef?[this.nextCallback]:[h,this.nextCallback],g=p[0],E=p[1];this.props.addEndListener(g,E)}o!=null&&setTimeout(this.nextCallback,o)},n.render=function(){var o=this.state.status;if(o===tu)return null;var u=this.props,h=u.children;u.in,u.mountOnEnter,u.unmountOnExit,u.appear,u.enter,u.exit,u.timeout,u.addEndListener,u.onEnter,u.onEntering,u.onEntered,u.onExit,u.onExiting,u.onExited,u.nodeRef;var m=DA(u,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return ia.createElement(VA.Provider,{value:null},typeof h=="function"?h(o,m):ia.cloneElement(ia.Children.only(h),m))},e}(ia.Component);dr.contextType=VA;dr.propTypes={};function ao(){}dr.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ao,onEntering:ao,onEntered:ao,onExit:ao,onExiting:ao,onExited:ao};dr.UNMOUNTED=tu;dr.EXITED=ta;dr.ENTERING=$r;dr.ENTERED=na;dr.EXITING=Ap;function ZO(){const i=x.version.split(".");return{major:+i[0],minor:+i[1],patch:+i[2]}}function JO(i){if(!i||typeof i=="function")return null;const{major:e}=ZO();return e>=19?i.props.ref:i.ref}const eM=!!(typeof window<"u"&&window.document&&window.document.createElement);var bp=!1,wp=!1;try{var $m={get passive(){return bp=!0},get once(){return wp=bp=!0}};eM&&(window.addEventListener("test",$m,$m),window.removeEventListener("test",$m,!0))}catch{}function tM(i,e,n,s){if(s&&typeof s!="boolean"&&!wp){var o=s.once,u=s.capture,h=n;!wp&&o&&(h=n.__once||function m(p){this.removeEventListener(e,m,u),n.call(this,p)},n.__once=h),i.addEventListener(e,h,bp?s:u)}i.addEventListener(e,n,s)}function nM(i,e,n,s){var o=s&&typeof s!="boolean"?s.capture:s;i.removeEventListener(e,n,o),n.__once&&i.removeEventListener(e,n.__once,o)}function PA(i,e,n,s){return tM(i,e,n,s),function(){nM(i,e,n,s)}}function iM(i,e,n,s){if(s===void 0&&(s=!0),i){var o=document.createEvent("HTMLEvents");o.initEvent(e,n,s),i.dispatchEvent(o)}}function rM(i){var e=MA(i,"transitionDuration")||"",n=e.indexOf("ms")===-1?1e3:1;return parseFloat(e)*n}function sM(i,e,n){n===void 0&&(n=5);var s=!1,o=setTimeout(function(){s||iM(i,"transitionend",!0)},e+n),u=PA(i,"transitionend",function(){s=!0},{once:!0});return function(){clearTimeout(o),u()}}function aM(i,e,n,s){n==null&&(n=rM(i)||0);var o=sM(i,n,s),u=PA(i,"transitionend",e);return function(){o(),u()}}function BT(i,e){const n=MA(i,e)||"",s=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*s}function oM(i,e){const n=BT(i,"transitionDuration"),s=BT(i,"transitionDelay"),o=aM(i,u=>{u.target===i&&(o(),e(u))},n+s)}function lM(i){i.offsetHeight}const HT=i=>!i||typeof i=="function"?i:e=>{i.current=e};function uM(i,e){const n=HT(i),s=HT(e);return o=>{n&&n(o),s&&s(o)}}function cM(i,e){return x.useMemo(()=>uM(i,e),[i,e])}function hM(i){return i&&"setState"in i?Yl.findDOMNode(i):i??null}const kA=ia.forwardRef(({onEnter:i,onEntering:e,onEntered:n,onExit:s,onExiting:o,onExited:u,addEndListener:h,children:m,childRef:p,...g},E)=>{const b=x.useRef(null),T=cM(b,p),w=fe=>{T(hM(fe))},C=fe=>U=>{fe&&b.current&&fe(b.current,U)},N=x.useCallback(C(i),[i]),I=x.useCallback(C(e),[e]),O=x.useCallback(C(n),[n]),k=x.useCallback(C(s),[s]),Y=x.useCallback(C(o),[o]),ae=x.useCallback(C(u),[u]),oe=x.useCallback(C(h),[h]);return A.jsx(dr,{ref:E,...g,onEnter:N,onEntered:O,onEntering:I,onExit:k,onExited:ae,onExiting:Y,addEndListener:oe,nodeRef:b,children:typeof m=="function"?(fe,U)=>m(fe,{...U,ref:w}):ia.cloneElement(m,{ref:w})})});kA.displayName="TransitionWrapper";function fM(i){const e=x.useRef(i);return x.useEffect(()=>{e.current=i},[i]),e}function dM(i){const e=fM(i);return x.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const Rg=i=>x.forwardRef((e,n)=>A.jsx("div",{...e,ref:n,className:Ve(e.className,i)})),LA=Rg("h4");LA.displayName="DivStyledAsH4";const UA=x.forwardRef(({className:i,bsPrefix:e,as:n=LA,...s},o)=>(e=$e(e,"alert-heading"),A.jsx(n,{ref:o,className:Ve(i,e),...s})));UA.displayName="AlertHeading";function mM(i){const e=x.useRef(i);return x.useEffect(()=>{e.current=i},[i]),e}function pM(i){const e=mM(i);return x.useCallback(function(...n){return e.current&&e.current(...n)},[e])}const gM=["as","disabled"];function yM(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function vM(i){return!i||i.trim()==="#"}function Cg({tagName:i,disabled:e,href:n,target:s,rel:o,role:u,onClick:h,tabIndex:m=0,type:p}){i||(n!=null||s!=null||o!=null?i="a":i="button");const g={tagName:i};if(i==="button")return[{type:p||"button",disabled:e},g];const E=T=>{if((e||i==="a"&&vM(n))&&T.preventDefault(),e){T.stopPropagation();return}h?.(T)},b=T=>{T.key===" "&&(T.preventDefault(),E(T))};return i==="a"&&(n||(n="#"),e&&(n=void 0)),[{role:u??"button",disabled:void 0,tabIndex:e?void 0:m,href:n,target:i==="a"?s:void 0,"aria-disabled":e||void 0,rel:i==="a"?o:void 0,onClick:E,onKeyDown:b},g]}const _M=x.forwardRef((i,e)=>{let{as:n,disabled:s}=i,o=yM(i,gM);const[u,{tagName:h}]=Cg(Object.assign({tagName:n,disabled:s},o));return A.jsx(h,Object.assign({},o,u,{ref:e}))});_M.displayName="Button";const EM=["onKeyDown"];function TM(i,e){if(i==null)return{};var n={};for(var s in i)if({}.hasOwnProperty.call(i,s)){if(e.indexOf(s)>=0)continue;n[s]=i[s]}return n}function SM(i){return!i||i.trim()==="#"}const Ig=x.forwardRef((i,e)=>{let{onKeyDown:n}=i,s=TM(i,EM);const[o]=Cg(Object.assign({tagName:"a"},s)),u=pM(h=>{o.onKeyDown(h),n?.(h)});return SM(s.href)||s.role==="button"?A.jsx("a",Object.assign({ref:e},s,o,{onKeyDown:u})):A.jsx("a",Object.assign({ref:e},s,{onKeyDown:n}))});Ig.displayName="Anchor";const jA=x.forwardRef(({className:i,bsPrefix:e,as:n=Ig,...s},o)=>(e=$e(e,"alert-link"),A.jsx(n,{ref:o,className:Ve(i,e),...s})));jA.displayName="AlertLink";const AM={[$r]:"show",[na]:"show"},Rp=x.forwardRef(({className:i,children:e,transitionClasses:n={},onEnter:s,...o},u)=>{const h={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...o},m=x.useCallback((p,g)=>{lM(p),s?.(p,g)},[s]);return A.jsx(kA,{ref:u,addEndListener:oM,...h,onEnter:m,childRef:JO(e),children:(p,g)=>x.cloneElement(e,{...g,className:Ve("fade",i,e.props.className,AM[p],n[p])})})});Rp.displayName="Fade";const bM={"aria-label":sr.string,onClick:sr.func,variant:sr.oneOf(["white"])},Ng=x.forwardRef(({className:i,variant:e,"aria-label":n="Close",...s},o)=>A.jsx("button",{ref:o,type:"button",className:Ve("btn-close",e&&`btn-close-${e}`,i),"aria-label":n,...s}));Ng.displayName="CloseButton";Ng.propTypes=bM;const zA=x.forwardRef((i,e)=>{const{bsPrefix:n,show:s=!0,closeLabel:o="Close alert",closeVariant:u,className:h,children:m,variant:p="primary",onClose:g,dismissible:E,transition:b=Rp,...T}=PO(i,{show:"onClose"}),w=$e(n,"alert"),C=dM(O=>{g&&g(!1,O)}),N=b===!0?Rp:b,I=A.jsxs("div",{role:"alert",...N?void 0:T,ref:e,className:Ve(h,w,p&&`${w}-${p}`,E&&`${w}-dismissible`),children:[E&&A.jsx(Ng,{onClick:C,"aria-label":o,variant:u}),m]});return N?A.jsx(N,{unmountOnExit:!0,...T,ref:void 0,in:s,children:I}):s?I:null});zA.displayName="Alert";const da=Object.assign(zA,{Link:jA,Heading:UA}),wt=x.forwardRef(({as:i,bsPrefix:e,variant:n="primary",size:s,active:o=!1,disabled:u=!1,className:h,...m},p)=>{const g=$e(e,"btn"),[E,{tagName:b}]=Cg({tagName:i,disabled:u,...m}),T=b;return A.jsx(T,{...E,...m,ref:p,disabled:u,className:Ve(h,g,o&&"active",n&&`${g}-${n}`,s&&`${g}-${s}`,m.href&&u&&"disabled")})});wt.displayName="Button";const Dg=x.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=$e(e,"card-body"),A.jsx(n,{ref:o,className:Ve(i,e),...s})));Dg.displayName="CardBody";const BA=x.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=$e(e,"card-footer"),A.jsx(n,{ref:o,className:Ve(i,e),...s})));BA.displayName="CardFooter";const HA=x.createContext(null);HA.displayName="CardHeaderContext";const qA=x.forwardRef(({bsPrefix:i,className:e,as:n="div",...s},o)=>{const u=$e(i,"card-header"),h=x.useMemo(()=>({cardHeaderBsPrefix:u}),[u]);return A.jsx(HA.Provider,{value:h,children:A.jsx(n,{ref:o,...s,className:Ve(e,u)})})});qA.displayName="CardHeader";const FA=x.forwardRef(({bsPrefix:i,className:e,variant:n,as:s="img",...o},u)=>{const h=$e(i,"card-img");return A.jsx(s,{ref:u,className:Ve(n?`${h}-${n}`:h,e),...o})});FA.displayName="CardImg";const GA=x.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=$e(e,"card-img-overlay"),A.jsx(n,{ref:o,className:Ve(i,e),...s})));GA.displayName="CardImgOverlay";const $A=x.forwardRef(({className:i,bsPrefix:e,as:n="a",...s},o)=>(e=$e(e,"card-link"),A.jsx(n,{ref:o,className:Ve(i,e),...s})));$A.displayName="CardLink";const wM=Rg("h6"),KA=x.forwardRef(({className:i,bsPrefix:e,as:n=wM,...s},o)=>(e=$e(e,"card-subtitle"),A.jsx(n,{ref:o,className:Ve(i,e),...s})));KA.displayName="CardSubtitle";const QA=x.forwardRef(({className:i,bsPrefix:e,as:n="p",...s},o)=>(e=$e(e,"card-text"),A.jsx(n,{ref:o,className:Ve(i,e),...s})));QA.displayName="CardText";const RM=Rg("h5"),YA=x.forwardRef(({className:i,bsPrefix:e,as:n=RM,...s},o)=>(e=$e(e,"card-title"),A.jsx(n,{ref:o,className:Ve(i,e),...s})));YA.displayName="CardTitle";const XA=x.forwardRef(({bsPrefix:i,className:e,bg:n,text:s,border:o,body:u=!1,children:h,as:m="div",...p},g)=>{const E=$e(i,"card");return A.jsx(m,{ref:g,...p,className:Ve(e,E,n&&`bg-${n}`,s&&`text-${s}`,o&&`border-${o}`),children:u?A.jsx(Dg,{children:h}):h})});XA.displayName="Card";const qT=Object.assign(XA,{Img:FA,Title:YA,Subtitle:KA,Body:Dg,Link:$A,Text:QA,Header:qA,Footer:BA,ImgOverlay:GA});function CM(i,e){return x.Children.toArray(i).some(n=>x.isValidElement(n)&&n.type===e)}function IM({as:i,bsPrefix:e,className:n,...s}){e=$e(e,"col");const o=xA(),u=OA(),h=[],m=[];return o.forEach(p=>{const g=s[p];delete s[p];let E,b,T;typeof g=="object"&&g!=null?{span:E,offset:b,order:T}=g:E=g;const w=p!==u?`-${p}`:"";E&&h.push(E===!0?`${e}${w}`:`${e}${w}-${E}`),T!=null&&m.push(`order${w}-${T}`),b!=null&&m.push(`offset${w}-${b}`)}),[{...s,className:Ve(n,...h,...m)},{as:i,bsPrefix:e,spans:h}]}const Wt=x.forwardRef((i,e)=>{const[{className:n,...s},{as:o="div",bsPrefix:u,spans:h}]=IM(i);return A.jsx(o,{...s,ref:e,className:Ve(n,!h.length&&u)})});Wt.displayName="Col";const mr=x.forwardRef(({bsPrefix:i,fluid:e=!1,as:n="div",className:s,...o},u)=>{const h=$e(i,"container"),m=typeof e=="string"?`-${e}`:"-fluid";return A.jsx(n,{ref:u,...o,className:Ve(s,e?`${h}${m}`:h)})});mr.displayName="Container";const NM={type:sr.string,tooltip:sr.bool,as:sr.elementType},Sf=x.forwardRef(({as:i="div",className:e,type:n="valid",tooltip:s=!1,...o},u)=>A.jsx(i,{...o,ref:u,className:Ve(e,`${n}-${s?"tooltip":"feedback"}`)}));Sf.displayName="Feedback";Sf.propTypes=NM;const hr=x.createContext({}),xg=x.forwardRef(({id:i,bsPrefix:e,className:n,type:s="checkbox",isValid:o=!1,isInvalid:u=!1,as:h="input",...m},p)=>{const{controlId:g}=x.useContext(hr);return e=$e(e,"form-check-input"),A.jsx(h,{...m,ref:p,type:s,id:i||g,className:Ve(n,e,o&&"is-valid",u&&"is-invalid")})});xg.displayName="FormCheckInput";const $h=x.forwardRef(({bsPrefix:i,className:e,htmlFor:n,...s},o)=>{const{controlId:u}=x.useContext(hr);return i=$e(i,"form-check-label"),A.jsx("label",{...s,ref:o,htmlFor:n||u,className:Ve(e,i)})});$h.displayName="FormCheckLabel";const WA=x.forwardRef(({id:i,bsPrefix:e,bsSwitchPrefix:n,inline:s=!1,reverse:o=!1,disabled:u=!1,isValid:h=!1,isInvalid:m=!1,feedbackTooltip:p=!1,feedback:g,feedbackType:E,className:b,style:T,title:w="",type:C="checkbox",label:N,children:I,as:O="input",...k},Y)=>{e=$e(e,"form-check"),n=$e(n,"form-switch");const{controlId:ae}=x.useContext(hr),oe=x.useMemo(()=>({controlId:i||ae}),[ae,i]),fe=!I&&N!=null&&N!==!1||CM(I,$h),U=A.jsx(xg,{...k,type:C==="switch"?"checkbox":C,ref:Y,isValid:h,isInvalid:m,disabled:u,as:O});return A.jsx(hr.Provider,{value:oe,children:A.jsx("div",{style:T,className:Ve(b,fe&&e,s&&`${e}-inline`,o&&`${e}-reverse`,C==="switch"&&n),children:I||A.jsxs(A.Fragment,{children:[U,fe&&A.jsx($h,{title:w,children:N}),g&&A.jsx(Sf,{type:E,tooltip:p,children:g})]})})})});WA.displayName="FormCheck";const Kh=Object.assign(WA,{Input:xg,Label:$h}),ZA=x.forwardRef(({bsPrefix:i,type:e,size:n,htmlSize:s,id:o,className:u,isValid:h=!1,isInvalid:m=!1,plaintext:p,readOnly:g,as:E="input",...b},T)=>{const{controlId:w}=x.useContext(hr);return i=$e(i,"form-control"),A.jsx(E,{...b,type:e,size:s,ref:T,readOnly:g,id:o||w,className:Ve(u,p?`${i}-plaintext`:i,n&&`${i}-${n}`,e==="color"&&`${i}-color`,h&&"is-valid",m&&"is-invalid")})});ZA.displayName="FormControl";const DM=Object.assign(ZA,{Feedback:Sf}),JA=x.forwardRef(({className:i,bsPrefix:e,as:n="div",...s},o)=>(e=$e(e,"form-floating"),A.jsx(n,{ref:o,className:Ve(i,e),...s})));JA.displayName="FormFloating";const Og=x.forwardRef(({controlId:i,as:e="div",...n},s)=>{const o=x.useMemo(()=>({controlId:i}),[i]);return A.jsx(hr.Provider,{value:o,children:A.jsx(e,{...n,ref:s})})});Og.displayName="FormGroup";const eb=x.forwardRef(({as:i="label",bsPrefix:e,column:n=!1,visuallyHidden:s=!1,className:o,htmlFor:u,...h},m)=>{const{controlId:p}=x.useContext(hr);e=$e(e,"form-label");let g="col-form-label";typeof n=="string"&&(g=`${g} ${g}-${n}`);const E=Ve(o,e,s&&"visually-hidden",n&&g);return u=u||p,n?A.jsx(Wt,{ref:m,as:"label",className:E,htmlFor:u,...h}):A.jsx(i,{ref:m,className:E,htmlFor:u,...h})});eb.displayName="FormLabel";const tb=x.forwardRef(({bsPrefix:i,className:e,id:n,...s},o)=>{const{controlId:u}=x.useContext(hr);return i=$e(i,"form-range"),A.jsx("input",{...s,type:"range",ref:o,className:Ve(e,i),id:n||u})});tb.displayName="FormRange";const nb=x.forwardRef(({bsPrefix:i,size:e,htmlSize:n,className:s,isValid:o=!1,isInvalid:u=!1,id:h,...m},p)=>{const{controlId:g}=x.useContext(hr);return i=$e(i,"form-select"),A.jsx("select",{...m,size:n,ref:p,className:Ve(s,i,e&&`${i}-${e}`,o&&"is-valid",u&&"is-invalid"),id:h||g})});nb.displayName="FormSelect";const ib=x.forwardRef(({bsPrefix:i,className:e,as:n="small",muted:s,...o},u)=>(i=$e(i,"form-text"),A.jsx(n,{...o,ref:u,className:Ve(e,i,s&&"text-muted")})));ib.displayName="FormText";const rb=x.forwardRef((i,e)=>A.jsx(Kh,{...i,ref:e,type:"switch"}));rb.displayName="Switch";const xM=Object.assign(rb,{Input:Kh.Input,Label:Kh.Label}),sb=x.forwardRef(({bsPrefix:i,className:e,children:n,controlId:s,label:o,...u},h)=>(i=$e(i,"form-floating"),A.jsxs(Og,{ref:h,className:Ve(e,i),controlId:s,...u,children:[n,A.jsx("label",{htmlFor:s,children:o})]})));sb.displayName="FloatingLabel";const OM={_ref:sr.any,validated:sr.bool,as:sr.elementType},Mg=x.forwardRef(({className:i,validated:e,as:n="form",...s},o)=>A.jsx(n,{...s,ref:o,className:Ve(i,e&&"was-validated")}));Mg.displayName="Form";Mg.propTypes=OM;const pe=Object.assign(Mg,{Group:Og,Control:DM,Floating:JA,Check:Kh,Switch:xM,Label:eb,Text:ib,Range:tb,Select:nb,FloatingLabel:sb}),Vg=x.forwardRef(({active:i=!1,disabled:e=!1,className:n,style:s,activeLabel:o="(current)",children:u,linkStyle:h,linkClassName:m,as:p=Ig,...g},E)=>{const b=i||e?"span":p;return A.jsx("li",{ref:E,style:s,className:Ve(n,"page-item",{active:i,disabled:e}),children:A.jsxs(b,{className:Ve("page-link",m),style:h,...g,children:[u,i&&o&&A.jsx("span",{className:"visually-hidden",children:o})]})})});Vg.displayName="PageItem";function xu(i,e,n=i){const s=x.forwardRef(({children:o,...u},h)=>A.jsxs(Vg,{...u,ref:h,children:[A.jsx("span",{"aria-hidden":"true",children:o||e}),A.jsx("span",{className:"visually-hidden",children:n})]}));return s.displayName=i,s}const MM=xu("First","«"),VM=xu("Prev","‹","Previous"),PM=xu("Ellipsis","…","More"),kM=xu("Next","›"),LM=xu("Last","»"),ab=x.forwardRef(({bsPrefix:i,className:e,size:n,...s},o)=>{const u=$e(i,"pagination");return A.jsx("ul",{ref:o,...s,className:Ve(e,u,n&&`${u}-${n}`)})});ab.displayName="Pagination";const FT=Object.assign(ab,{First:MM,Prev:VM,Ellipsis:PM,Item:Vg,Next:kM,Last:LM}),pr=x.forwardRef(({bsPrefix:i,className:e,as:n="div",...s},o)=>{const u=$e(i,"row"),h=xA(),m=OA(),p=`${u}-cols`,g=[];return h.forEach(E=>{const b=s[E];delete s[E];let T;b!=null&&typeof b=="object"?{cols:T}=b:T=b;const w=E!==m?`-${E}`:"";T!=null&&g.push(`${p}${w}-${T}`)}),A.jsx(n,{ref:o,...s,className:Ve(e,u,...g)})});pr.displayName="Row";const ob=x.forwardRef(({bsPrefix:i,variant:e,animation:n="border",size:s,as:o="div",className:u,...h},m)=>{i=$e(i,"spinner");const p=`${i}-${n}`;return A.jsx(o,{ref:m,...h,className:Ve(u,p,s&&`${p}-${s}`,e&&`text-${e}`)})});ob.displayName="Spinner";function UM(){const[i,e]=x.useState({}),[n,s]=x.useState({}),[o,u]=x.useState(!0),[h,m]=x.useState("");x.useEffect(()=>{(async()=>{const C=await an(sn(et,"ourRole")),N=await an(sn(et,"ourRolejp")),I={};C.forEach(k=>I[k.id]={...k.data(),id:k.id});const O={};N.forEach(k=>O[k.id]={...k.data(),id:k.id}),e(I),s(O),u(!1)})()},[]);const p=(w,C,N,I)=>{const O=w==="en"?e:s,k=w==="en"?i:n;O({...k,[C]:{...k[C],[N]:I}})},g=(w,C)=>{const N=w==="en"?e:s,I=w==="en"?i:n,O=I[C],Y=`text${Object.keys(O).filter(ae=>ae.startsWith("text")).length+1}`;N({...I,[C]:{...O,[Y]:""}})},E=(w,C,N)=>{const I=w==="en"?e:s,O=w==="en"?i:n,k={...O[C]};delete k[N],I({...O,[C]:k})},b=async()=>{try{const w=async(C,N)=>{for(const I in C){const O=Hn(et,N,I);await Ef(O,C[I])}};await w(i,"ourRole"),await w(n,"ourRolejp"),m("✅ Successfull!"),setTimeout(()=>m(""),3e3)}catch(w){console.error("Update failed:",w),alert("Lỗi khi lưu. Vui lòng thử lại.")}},T=(w,C)=>A.jsxs("div",{className:"mb-5",children:[A.jsx("h3",{className:"mb-3",children:C}),Object.keys(w).map(N=>{const I=w[N];return A.jsxs("div",{className:"mb-4 p-3 border rounded bg-light",children:[A.jsxs("h5",{className:"mb-3",children:["Section: ",N]}),Object.entries(I).map(([O,k])=>O!=="id"&&A.jsxs(pe.Group,{className:"mb-2",controlId:`${C}-${N}-${O}`,children:[A.jsx(pe.Label,{children:O}),A.jsxs("div",{className:"d-flex gap-2",children:[A.jsx(pe.Control,{as:"textarea",rows:O.includes("text")?2:1,value:k,onChange:Y=>p(C==="🇺🇸 English"?"en":"jp",N,O,Y.target.value)}),O.startsWith("text")&&A.jsx(wt,{variant:"danger",size:"sm",onClick:()=>E(C==="🇺🇸 English"?"en":"jp",N,O),children:"❌"})]})]},O)),A.jsx(wt,{variant:"secondary",size:"sm",onClick:()=>g(C==="🇺🇸 English"?"en":"jp",N),children:"➕ Thêm dòng text"})]},`${C}-${N}`)})]});return A.jsxs(mr,{fluid:!0,className:"py-5 px-4",children:[A.jsx("h2",{className:"text-center mb-4",children:'🛠️ Edit "Our Role" Content'}),o?A.jsx("p",{className:"text-center",children:"Loading..."}):A.jsxs(A.Fragment,{children:[A.jsxs(pr,{children:[A.jsx(Wt,{md:6,children:T(i,"🇺🇸 English")}),A.jsx(Wt,{md:6,children:T(n,"🇯🇵 Japanese")})]}),h&&A.jsx(da,{variant:"success",className:"text-center mt-3",children:h}),A.jsx("div",{className:"text-center mt-4",children:A.jsx(wt,{variant:"success",onClick:b,size:"lg",children:"💾 Save All Changes"})})]})]})}function jM(){const[i,e]=x.useState({}),[n,s]=x.useState({}),[o,u]=x.useState(!0),[h,m]=x.useState("");x.useEffect(()=>{(async()=>{const T=await an(sn(et,"ourThoughts")),w=await an(sn(et,"ourThoughtsjp")),C={};T.forEach(I=>C[I.id]={...I.data(),id:I.id});const N={};w.forEach(I=>N[I.id]={...I.data(),id:I.id}),e(C),s(N),u(!1)})()},[]);const p=(b,T,w,C)=>{const N=b==="en"?e:s,I=b==="en"?i:n;N({...I,[T]:{...I[T],[w]:C}})},g=async()=>{try{const b=async(T,w)=>{for(const C in T){const N=Hn(et,w,C);await Ef(N,T[C])}};await b(i,"ourThoughts"),await b(n,"ourThoughtsjp"),m("✅ Successfully updated both English and Japanese content!"),setTimeout(()=>m(""),3e3)}catch(b){console.error("Update failed:",b),alert("Error while saving. Please try again.")}},E=(b,T)=>A.jsxs("div",{className:"mb-5",children:[A.jsx("h3",{className:"mb-3",children:T}),Object.keys(b).map(w=>{const C=b[w];return A.jsxs("div",{className:"mb-4 p-3 border rounded bg-light",children:[A.jsxs("h5",{className:"mb-2",children:["Section: ",w]}),Object.entries(C).map(([N,I])=>N!=="id"&&A.jsxs(pe.Group,{className:"mb-2",controlId:`${T}-${w}-${N}`,children:[A.jsx(pe.Label,{children:N}),A.jsx(pe.Control,{as:"textarea",rows:N.includes("text")||N.includes("bold")?3:1,value:I,onChange:O=>p(T==="🇺🇸 English"?"en":"jp",w,N,O.target.value)})]},N))]},`${T}-${w}`)})]});return A.jsxs(mr,{className:"py-5",children:[A.jsx("h2",{className:"text-center mb-4",children:'🛠️ Edit "Our Thoughts" Content'}),o?A.jsx("p",{className:"text-center",children:"Loading..."}):A.jsxs(A.Fragment,{children:[A.jsxs(pr,{children:[A.jsx(Wt,{md:6,children:E(i,"🇺🇸 English")}),A.jsx(Wt,{md:6,children:E(n,"🇯🇵 Japanese")})]}),h&&A.jsx(da,{variant:"success",children:h}),A.jsx("div",{className:"text-center mt-4",children:A.jsx(wt,{variant:"success",onClick:g,children:"💾 Save All Changes"})})]})]})}function zM(){const[i,e]=x.useState([]),[n,s]=x.useState([]),[o,u]=x.useState(!0),[h,m]=x.useState("");x.useEffect(()=>{(async()=>{const C=await an(sn(et,"comparisonTable")),N=await an(sn(et,"comparisonTablejp")),I=[];C.forEach(k=>I.push({originalId:k.id,id:k.id,...k.data()}));const O=[];N.forEach(k=>O.push({originalId:k.id,id:k.id,...k.data()})),e(I),s(O),u(!1)})()},[]);const p=(w,C,N,I)=>{const O=w==="en"?e:s,k=w==="en"?[...i]:[...n];k[C][N]=I,O(k)},g=(w,C)=>{const N=w==="en"?e:s,I=w==="en"?[...i]:[...n];I[C].originalId!=="th"&&N(I.filter((k,Y)=>Y!==C))},E=w=>{const C=w==="en"?e:s,N=w==="en"?[...i]:[...n];C([...N,{id:`row${N.length+1}`,originalId:`row${N.length+1}`,col1:"",col2:""}])},b=async()=>{try{const w=async(C,N)=>{const I=await an(sn(et,N)),O=new Set;I.forEach(k=>O.add(k.id));for(const k of O)await Gh(Hn(et,N,k));for(const k of C)await Fh(Hn(et,N,k.id),{...k.th1&&{th1:k.th1},...k.th2&&{th2:k.th2},...k.col1&&{col1:k.col1},...k.col2&&{col2:k.col2}})};await w(i,"comparisonTable"),await w(n,"comparisonTablejp"),m("✅ Saved successfully!"),setTimeout(()=>m(""),3e3)}catch(w){console.error("Save error:",w),alert("❌ Error when saving. Please try again.")}},T=(w,C,N)=>A.jsxs("div",{className:"mb-5",children:[A.jsx("h3",{className:"mb-3",children:C}),w.map((I,O)=>A.jsxs("div",{className:"p-3 border rounded mb-3 bg-light",children:[A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:"Row ID"}),A.jsx(pe.Control,{type:"text",value:I.id,onChange:k=>p(N,O,"id",k.target.value)})]}),I.originalId==="th"?A.jsxs(A.Fragment,{children:[A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:"th1"}),A.jsx(pe.Control,{value:I.th1||"",onChange:k=>p(N,O,"th1",k.target.value)})]}),A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:"th2"}),A.jsx(pe.Control,{value:I.th2||"",onChange:k=>p(N,O,"th2",k.target.value)})]})]}):A.jsxs(A.Fragment,{children:[A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:"col1"}),A.jsx(pe.Control,{as:"textarea",rows:2,value:I.col1||"",onChange:k=>p(N,O,"col1",k.target.value)})]}),A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:"col2"}),A.jsx(pe.Control,{as:"textarea",rows:2,value:I.col2||"",onChange:k=>p(N,O,"col2",k.target.value)})]}),A.jsx(wt,{variant:"danger",size:"sm",onClick:()=>g(N,O),children:"❌ Delete Row"})]})]},`${N}-${I.originalId}-${O}`)),A.jsx(wt,{variant:"secondary",onClick:()=>E(N),children:"➕ Add Row"})]});return A.jsxs(mr,{fluid:!0,className:"py-5 px-4",children:[A.jsx("h2",{className:"text-center mb-4",children:"🛠️ Edit Comparison Table (With Add/Delete)"}),o?A.jsx("p",{className:"text-center",children:"Loading..."}):A.jsxs(A.Fragment,{children:[A.jsxs(pr,{children:[A.jsx(Wt,{md:6,children:T(i,"🇺🇸 English","en")}),A.jsx(Wt,{md:6,children:T(n,"🇯🇵 Japanese","jp")})]}),h&&A.jsx(da,{variant:"success",className:"text-center mt-3",children:h}),A.jsx("div",{className:"text-center mt-4",children:A.jsx(wt,{variant:"success",onClick:b,size:"lg",children:"💾 Save All Changes"})})]})]})}function BM(){const[i,e]=x.useState({}),[n,s]=x.useState({}),[o,u]=x.useState(!0),[h,m]=x.useState("");x.useEffect(()=>{(async()=>{const C=await an(sn(et,"skillSystem")),N=await an(sn(et,"skillSystemjp")),I={};C.forEach(k=>I[k.id]={...k.data(),id:k.id});const O={};N.forEach(k=>O[k.id]={...k.data(),id:k.id}),e(I),s(O),u(!1)})()},[]);const p=(w,C,N,I)=>{const O=w==="en"?e:s,k=w==="en"?i:n;O({...k,[C]:{...k[C],[N]:I}})},g=(w,C)=>{const N=w==="en"?e:s,I=w==="en"?i:n,O=I[C],Y=Object.keys(O).filter(oe=>oe.startsWith("title")).length+1,ae={...O,[`title${Y}`]:"",[`description${Y}`]:""};N({...I,[C]:ae})},E=(w,C,N)=>{const I=w==="en"?e:s,O=w==="en"?i:n,k={...O[C]};delete k[`title${N}`],delete k[`description${N}`],I({...O,[C]:k})},b=async()=>{try{const w=async(C,N)=>{for(const I in C)await Ef(Hn(et,N,I),C[I])};await w(i,"skillSystem"),await w(n,"skillSystemjp"),m("✅ Content updated successfully!"),setTimeout(()=>m(""),3e3)}catch(w){alert("❌ Error saving data."),console.error(w)}},T=(w,C,N)=>A.jsxs("div",{className:"mb-5",children:[A.jsx("h3",{children:C}),Object.keys(w).map(I=>{const O=w[I],k=Object.keys(O);return A.jsxs("div",{className:"bg-light p-3 my-3 border rounded",children:[A.jsxs("h5",{className:"mb-3",children:["Section: ",I]}),k.filter(Y=>Y.startsWith("title")).map(Y=>{const ae=Y.replace("title",""),oe=`description${ae}`;return A.jsxs("div",{className:"mb-3",children:[A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:Y}),A.jsx(pe.Control,{type:"text",value:O[Y],onChange:fe=>p(N,I,Y,fe.target.value)})]}),A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:oe}),A.jsxs("div",{className:"d-flex gap-2",children:[A.jsx(pe.Control,{as:"textarea",rows:2,value:O[oe]||"",onChange:fe=>p(N,I,oe,fe.target.value)}),A.jsx(wt,{variant:"danger",onClick:()=>E(N,I,ae),children:"❌"})]})]})]},Y)}),k.filter(Y=>!Y.startsWith("title")&&!Y.startsWith("description")&&Y!=="id").map(Y=>A.jsxs(pe.Group,{className:"mb-3",children:[A.jsx(pe.Label,{children:Y}),A.jsx(pe.Control,{as:Y.startsWith("text")||Y.includes("text")?"textarea":"input",rows:2,value:O[Y],onChange:ae=>p(N,I,Y,ae.target.value)})]},Y)),I==="sk01"&&A.jsx(wt,{variant:"secondary",size:"sm",onClick:()=>g(N,I),children:"➕ Add title/description"})]},I)})]});return A.jsxs(mr,{className:"py-5 px-4",children:[A.jsx("h2",{className:"text-center mb-4",children:'🛠️ Edit "Specific Skill System" Content'}),o?A.jsx("p",{className:"text-center",children:"Loading..."}):A.jsxs(pr,{children:[A.jsx(Wt,{md:6,children:T(i,"🇺🇸 English","en")}),A.jsx(Wt,{md:6,children:T(n,"🇯🇵 Japanese","jp")})]}),h&&A.jsx(da,{variant:"success",className:"text-center mt-3",children:h}),A.jsx("div",{className:"text-center mt-4",children:A.jsx(wt,{variant:"success",onClick:b,size:"lg",children:"💾 Save All Changes"})})]})}function HM(){const[i,e]=x.useState({}),[n,s]=x.useState({}),[o,u]=x.useState(!0),[h,m]=x.useState("");x.useEffect(()=>{(async()=>{const C=await an(sn(et,"technicalItern")),N=await an(sn(et,"technicalInternjp")),I={};C.forEach(k=>I[k.id]={...k.data(),id:k.id});const O={};N.forEach(k=>O[k.id]={...k.data(),id:k.id}),e(I),s(O),u(!1)})()},[]);const p=(w,C,N,I)=>{const O=w==="en"?e:s,k=w==="en"?i:n;O({...k,[C]:{...k[C],[N]:I}})},g=(w,C)=>{const N=w==="en"?e:s,I=w==="en"?i:n,O=I[C],Y=Object.keys(O).filter(oe=>oe.startsWith("title")).length+1,ae={...O,[`title${Y}`]:"",[`description${Y}`]:""};N({...I,[C]:ae})},E=(w,C,N)=>{const I=w==="en"?e:s,O=w==="en"?i:n,k={...O[C]};delete k[`title${N}`],delete k[`description${N}`],I({...O,[C]:k})},b=async()=>{try{const w=async(C,N)=>{for(const I in C)await Ef(Hn(et,N,I),C[I])};await w(i,"technicalItern"),await w(n,"technicalInternjp"),m("✅ Content updated successfully!"),setTimeout(()=>m(""),3e3)}catch(w){alert("❌ Error saving data."),console.error(w)}},T=(w,C,N)=>A.jsxs("div",{className:"mb-5",children:[A.jsx("h3",{children:C}),Object.keys(w).map(I=>{const O=w[I],k=Object.keys(O);return A.jsxs("div",{className:"bg-light p-3 my-3 border rounded",children:[A.jsxs("h5",{className:"mb-3",children:["Section: ",I]}),k.filter(Y=>Y.startsWith("title")).map(Y=>{const ae=Y.replace("title",""),oe=`description${ae}`;return A.jsxs("div",{className:"mb-3",children:[A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:Y}),A.jsx(pe.Control,{type:"text",value:O[Y],onChange:fe=>p(N,I,Y,fe.target.value)})]}),A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:oe}),A.jsxs("div",{className:"d-flex gap-2",children:[A.jsx(pe.Control,{as:"textarea",rows:2,value:O[oe]||"",onChange:fe=>p(N,I,oe,fe.target.value)}),A.jsx(wt,{variant:"danger",onClick:()=>E(N,I,ae),children:"❌"})]})]})]},Y)}),k.filter(Y=>!Y.startsWith("title")&&!Y.startsWith("description")&&Y!=="id").map(Y=>A.jsxs(pe.Group,{className:"mb-3",children:[A.jsx(pe.Label,{children:Y}),A.jsx(pe.Control,{as:Y.startsWith("text")||Y.includes("text")?"textarea":"input",rows:2,value:O[Y],onChange:ae=>p(N,I,Y,ae.target.value)})]},Y)),I==="ti01"&&A.jsx(wt,{variant:"secondary",size:"sm",onClick:()=>g(N,I),children:"➕ Add title/description"})]},I)})]});return A.jsxs(mr,{className:"py-5 px-4",children:[A.jsx("h2",{className:"text-center mb-4",children:'🛠️ Edit "Technical Intern Training Program" Content'}),o?A.jsx("p",{className:"text-center",children:"Loading..."}):A.jsxs(pr,{children:[A.jsx(Wt,{md:6,children:T(i,"🇺🇸 English","en")}),A.jsx(Wt,{md:6,children:T(n,"🇯🇵 Japanese","jp")})]}),h&&A.jsx(da,{variant:"success",className:"text-center mt-3",children:h}),A.jsx("div",{className:"text-center mt-4",children:A.jsx(wt,{variant:"success",onClick:b,size:"lg",children:"💾 Save All Changes"})})]})}function qM(){const[i,e]=x.useState([]),[n,s]=x.useState([]),[o,u]=x.useState(!0),[h,m]=x.useState("");x.useEffect(()=>{(async()=>{const C=async O=>{const k=await an(sn(et,O)),Y=[];return k.forEach(ae=>Y.push({id:ae.id,...ae.data()})),Y.sort((ae,oe)=>parseInt(ae.id.replace("Row",""))-parseInt(oe.id.replace("Row",""))),Y},N=await C("UnionTable"),I=await C("UnionTablejp");e(N),s(I),u(!1)})()},[]);const p=(w,C,N,I)=>{const O=w==="en"?e:s,Y=[...w==="en"?i:n];Y[C][N]=I,O(Y)},g=w=>{const C=w==="en"?e:s,N=w==="en"?i:n,O={id:`Row${N.length+1}`,th1:"",td1:""};C([...N,O])},E=(w,C)=>{const N=w==="en"?e:s,I=w==="en"?i:n,O=I[C];Gh(Hn(et,w==="en"?"UnionTable":"UnionTablejp",O.id));const k=I.filter((Y,ae)=>ae!==C);N(k)},b=async()=>{try{const w=async(C,N)=>{for(const I of C){const{id:O,...k}=I;await Fh(Hn(et,N,O),k)}};await w(i,"UnionTable"),await w(n,"UnionTablejp"),m("✅ Content updated successfully!"),setTimeout(()=>m(""),3e3)}catch(w){alert("❌ Error saving data."),console.error(w)}},T=(w,C,N)=>A.jsxs("div",{className:"mb-5",children:[A.jsx("h3",{children:C}),A.jsx(wt,{variant:"secondary",size:"sm",className:"mb-3",onClick:()=>g(N),children:"➕ Add new row"}),w.map((I,O)=>A.jsxs("div",{className:"bg-light p-3 my-3 border rounded",children:[A.jsxs("h5",{className:"mb-3",children:["Document ID: ",I.id]}),Object.entries(I).map(([k,Y])=>k!=="id"&&A.jsxs(pe.Group,{className:"mb-3",children:[A.jsx(pe.Label,{children:k}),A.jsx(pe.Control,{as:k.startsWith("td")?"textarea":"input",rows:2,value:Y,onChange:ae=>p(N,O,k,ae.target.value),autoFocus:O===w.length-1&&Y===""})]},k)),A.jsx(wt,{variant:"danger",size:"sm",onClick:()=>E(N,O),children:"🗑️ Delete row"})]},I.id))]});return A.jsxs(mr,{className:"py-5 px-4",children:[A.jsx("h2",{className:"text-center mb-4",children:'🛠️ Edit "Union Overview" Content'}),o?A.jsx("p",{className:"text-center",children:"Loading..."}):A.jsxs(pr,{children:[A.jsx(Wt,{md:6,children:T(i,"🇺🇸 English","en")}),A.jsx(Wt,{md:6,children:T(n,"🇯🇵 Japanese","jp")})]}),h&&A.jsx(da,{variant:"success",className:"text-center mt-3",children:h}),A.jsx("div",{className:"text-center mt-4",children:A.jsx(wt,{variant:"success",onClick:b,size:"lg",children:"💾 Save All Changes"})})]})}function FM(){const[i,e]=x.useState([]),[n,s]=x.useState([]),[o,u]=x.useState(!0),[h,m]=x.useState("");x.useEffect(()=>{(async()=>{const C=await an(sn(et,"news")),N=await an(sn(et,"newsjp")),I=[];C.forEach(k=>I.push({id:k.id,...k.data()}));const O=[];N.forEach(k=>O.push({id:k.id,...k.data()})),e(I),s(O),u(!1)})()},[]);const p=(w,C,N,I)=>{const O=w==="en"?e:s,k=w==="en"?[...i]:[...n];k[C][N]=I,O(k)},g=async w=>{const C=i[w].id;if(!window.confirm("Are you sure you want to delete this article?"))return;await Gh(Hn(et,"news",C)),await Gh(Hn(et,"newsjp",C));const N=[...i],I=[...n];N.splice(w,1),I.splice(w,1),e(N),s(I)},E=()=>{const w={id:`news-${Date.now()}`,title:"",summary:"",content:"",image:"",date:new Date};e([...i,{...w}]),s([...n,{...w}])},b=async()=>{try{for(let w=0;w<i.length;w++){const C=i[w].id;await Fh(Hn(et,"news",C),{...i[w],date:i[w].date instanceof Date?i[w].date:new Date}),await Fh(Hn(et,"newsjp",C),{...n[w],date:n[w].date instanceof Date?n[w].date:new Date})}m("✅ Saved successfully!"),setTimeout(()=>m(""),3e3)}catch(w){console.error("Save failed:",w),alert("❌ Error saving. Please try again.")}},T=(w,C,N)=>A.jsxs("div",{className:"mb-5",children:[A.jsx("h3",{className:"mb-3",children:C}),w.map((I,O)=>A.jsxs("div",{className:"p-3 border rounded mb-3 bg-light",children:[A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:"Title"}),A.jsx(pe.Control,{value:I.title||"",onChange:k=>p(N,O,"title",k.target.value)})]}),A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:"Summary"}),A.jsx(pe.Control,{as:"textarea",rows:2,value:I.summary||"",onChange:k=>p(N,O,"summary",k.target.value)})]}),A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:"Content"}),A.jsx(pe.Control,{as:"textarea",rows:4,value:I.content||"",onChange:k=>p(N,O,"content",k.target.value)})]}),A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:"Image URL"}),A.jsx(pe.Control,{value:I.image||"",onChange:k=>p(N,O,"image",k.target.value)})]}),A.jsxs(pe.Group,{className:"mb-2",children:[A.jsx(pe.Label,{children:"Date"}),A.jsx(pe.Control,{type:"date",value:I.date?.toDate?I.date.toDate().toISOString().split("T")[0]:I.date?.toISOString().split("T")[0]||"",onChange:k=>p(N,O,"date",new Date(k.target.value))})]}),N==="en"&&A.jsx(wt,{variant:"danger",size:"sm",onClick:()=>g(O),children:"❌ Delete"})]},`${N}-${I.id}`)),A.jsx(wt,{variant:"secondary",onClick:E,children:"➕ Add New Article"})]});return A.jsxs(mr,{className:"py-5",children:[A.jsx("h2",{className:"text-center mb-4",children:'🛠️ Edit "News" Articles'}),o?A.jsx("p",{className:"text-center",children:"Loading..."}):A.jsxs(A.Fragment,{children:[A.jsxs(pr,{children:[A.jsx(Wt,{md:6,children:T(i,"🇺🇸 English","en")}),A.jsx(Wt,{md:6,children:T(n,"🇯🇵 Japanese","jp")})]}),h&&A.jsx(da,{variant:"success",className:"text-center mt-3",children:h}),A.jsx("div",{className:"text-center mt-4",children:A.jsx(wt,{variant:"success",onClick:b,size:"lg",children:"💾 Save All Changes"})})]})]})}const Km=6;function GM(){const[i,e]=x.useState([]),[n,s]=x.useState(!0),[o,u]=x.useState(1);x.useEffect(()=>{(async()=>{try{const w=await an(sn(et,"contactMessages")),C=await an(sn(et,"contactMessagesjp")),N=[];w.forEach(I=>{N.push({id:I.id,lang:"en",...I.data()})}),C.forEach(I=>{N.push({id:I.id,lang:"jp",...I.data()})}),N.sort((I,O)=>O.createdAt?.seconds-I.createdAt?.seconds),e(N),s(!1)}catch(w){console.error("Failed to fetch contacts:",w)}})()},[]);const h=o*Km,m=h-Km,p=i.slice(m,h),g=Math.ceil(i.length/Km),E=T=>{u(T),window.scrollTo({top:0,behavior:"smooth"})},b=()=>{const T=[];for(let w=1;w<=g;w++)T.push(A.jsx(FT.Item,{active:w===o,onClick:()=>E(w),children:w},w));return A.jsx(FT,{className:"justify-content-center mt-4",children:T})};return A.jsxs(mr,{className:"py-5",children:[A.jsx("h2",{className:"text-center mb-4",children:"📬 Danh sách liên hệ đã gửi"}),n?A.jsx("div",{className:"text-center",children:A.jsx(ob,{animation:"border",variant:"primary"})}):A.jsxs(A.Fragment,{children:[A.jsx(pr,{className:"g-4",children:p.map((T,w)=>A.jsx(Wt,{md:6,children:A.jsx(qT,{className:"shadow-sm border border-2",children:A.jsxs(qT.Body,{children:[A.jsxs("h5",{className:"mb-3",children:["#️⃣ Mã: ",T.id]}),A.jsxs("p",{children:[A.jsx("strong",{children:"🌐 Ngôn ngữ:"})," ",T.lang==="en"?"English":"Japanese"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"🏢 Company:"})," ",T.companyName]}),A.jsxs("p",{children:[A.jsx("strong",{children:"📍 Location:"})," ",T.location]}),A.jsxs("p",{children:[A.jsx("strong",{children:"📞 Phone:"})," ",T.phone1,"-",T.phone2]}),A.jsxs("p",{children:[A.jsx("strong",{children:"🧑‍💼 In charge:"})," ",T.personInCharge]}),A.jsxs("p",{children:[A.jsx("strong",{children:"🈶 Furigana:"})," ",T.personFurigana]}),A.jsxs("p",{children:[A.jsx("strong",{children:"📧 Email:"})," ",T.email]}),A.jsxs("p",{children:[A.jsx("strong",{children:"🏭 Industry:"})," ",T.industry||"---"]}),A.jsxs("p",{children:[A.jsx("strong",{children:"💬 Inquiry:"})," ",T.inquiry||"---"]}),A.jsxs("p",{className:"text-muted",children:[A.jsx("strong",{children:"🕒 Time:"})," ",T.createdAt?.seconds?new Date(T.createdAt.seconds*1e3).toLocaleString():"N/A"]})]})})},T.id))}),g>1&&b()]})]})}function $M(){return A.jsx(IO,{children:A.jsx(n1,{children:A.jsxs(OR,{children:[A.jsx(Yn,{path:"/login",element:A.jsx(CO,{})}),A.jsx(Yn,{path:"/admin",element:A.jsx(tr,{children:A.jsx(NO,{})})}),A.jsx(Yn,{path:"/admin/contact",element:A.jsx(tr,{children:A.jsx(GM,{})})}),A.jsx(Yn,{path:"/admin/our-role",element:A.jsx(tr,{children:A.jsx(UM,{})})}),A.jsx(Yn,{path:"/admin/our-thoughts",element:A.jsx(tr,{children:A.jsx(jM,{})})}),A.jsx(Yn,{path:"/admin/skill-system",element:A.jsx(tr,{children:A.jsx(BM,{})})}),A.jsx(Yn,{path:"/admin/technical-intern",element:A.jsx(tr,{children:A.jsx(HM,{})})}),A.jsx(Yn,{path:"/admin/overview",element:A.jsx(tr,{children:A.jsx(qM,{})})}),A.jsx(Yn,{path:"/admin/news",element:A.jsx(tr,{children:A.jsx(FM,{})})}),A.jsx(Yn,{path:"/admin/comparison-table",element:A.jsx(tr,{children:A.jsx(zM,{})})})]})})})}zw.createRoot(document.getElementById("root")).render(A.jsx(x.StrictMode,{children:A.jsx($M,{})}));
